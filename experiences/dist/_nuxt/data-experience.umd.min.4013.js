"use strict";(("undefined"!=typeof self?self:this).webpackChunkdata_experience=("undefined"!=typeof self?self:this).webpackChunkdata_experience||[]).push([[4013,8736,2027,6622,1297,9814],{54013:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(46228),r=s(40290),n=s(26641),l=s(21297),o=s(96963),u=s(49814),c=s(96622),p=s(92027),d=s(18736);r.config.defaultColors(i.xHP);var h={components:{UnitFilterableTable:o.Z,ChartViewTextSelectTimeRange:u.default,ChartViewFilters:c.default,ChartViewDcFilterCount:p.default,ChartViewVRowWebShare:d.default},mixins:[l.default],data:()=>({apps:[],selectedApps:[],selectAppDimension:null,header:[{text:"App",value:"app"},{text:"UID",value:"uid"},{text:"More Info",value:"url"},{text:"Date",value:"dateStr"},{text:"Tracker",value:"tracker"},{text:"Destination Address",value:"daddr"},{text:"Category",value:"category"}],results:[]}),computed:{selectAll(){return this.selectedApps.length===this.apps.length},selectSome(){return this.selectedApps.length>0&&!this.selectAll},icon(){return this.selectAll?"$vuetify.icons.mdiCloseBox":this.selectSome?"$vuetify.icons.mdiMinusBox":"$vuetify.icons.mdiCheckboxBlankOutline"}},methods:{toggle(){this.$nextTick((()=>{this.selectAll?this.selectedApps=[]:this.selectedApps=this.apps.slice(),this.filterApps(this.selectedApps)}))},filterApps(t){this.selectAppDimension.filter(null),this.selectAppDimension.filterFunction((function(e){return t.includes(e)})),r.redrawAll()},removeEmptyBins:t=>({top:e=>t.top(1/0).filter((function(t){return 0!==t.value.count&&0!==t.value})).slice(0,e),all:()=>t.all()}),drawViz(){const t=new r.LineChart("#volume-chart"),e=new r.BarChart("#range-chart"),s=new r.PieChart("#category-chart"),l=new r.RowChart("#advertiser-chart"),a=new r.RowChart("#app-chart"),o=this.createTextFilterWidget("#app-search"),c=this.createTextFilterWidget("#advertiser-search");i.Ys("#volume-chart a.reset").on("click",(function(){e.filterAll(),t.filterAll(),r.redrawAll()})),i.Ys("#category-chart a.reset").on("click",(function(){s.filterAll(),r.redrawAll()})),i.Ys("#advertiser-chart a.reset").on("click",(function(){l.filterAll(),r.redrawAll()})),i.Ys("#app-chart a.reset").on("click",(function(){a.filterAll(),r.redrawAll()}));const u=i.Z1g("%Q"),p=i.i$Z("%B %d, %Y");this.values.forEach((t=>{t.date=(t=>u(t)||new Date(t))(t.time)||new Date(t.time),t.day=i.rr1(t.date),t.url=`https://reports.exodus-privacy.eu.org/en/reports/${t.package}/latest/`,t.dateStr=p(t.day),t.category=""===t.category?"Unknown":t.category,t.app=""===t.app?"Unknown":t.app,t.tracker=""===t.tracker?"Unknown":t.tracker}));const d=(0,n.Z)(this.values),h=d.groupAll();this.totalCount=d.size(),this.filterCount=this.totalCount,d.onChange((()=>{this.results=f.top(h.value()),this.filterCount=d.allFiltered().length}));const f=d.dimension((t=>t.day)),g=d.dimension((t=>t.category)),m=d.dimension((t=>t.tracker)),C=d.dimension((t=>t.app));o.dimension(d.dimension((t=>t.app.toLowerCase()))),c.dimension(d.dimension((t=>t.tracker.toLowerCase()))),this.selectAppDimension=d.dimension((t=>t.app)),this.apps=this.selectAppDimension.group().top(1/0).map((t=>t.key)),this.toggle();const v=f.group().reduceCount(),w=g.group().reduceCount(),x=m.group().reduceCount(),A=C.group().reduceCount(),b=i.VV$(this.values,(function(t){return t.day})),y=i.Fp7(this.values,(function(t){return t.day})),k=v.top(1)[0].value+2;let V=i.Ys("#volume-chart").node().getBoundingClientRect().width,_=200;t.renderArea(!0).width(V).height(_).transitionDuration(1e3).margins({top:30,right:50,bottom:25,left:40}).group(v).dimension(f).curve(i.FdL).x(i.Xf().domain([i.WQD.offset(b,0),i.WQD.offset(y,2)])).y(i.BYU().domain([0,k])).ordinalColors(["#58539E"]).xUnits(i.WQD).brushOn(!1).elasticX(!1).elasticY(!0).xyTipsOn(!0).mouseZoomable(!1).rangeChart(e).renderHorizontalGridLines(!1).renderDataPoints({radius:3,fillOpacity:.8,strokeOpacity:0}).yAxisLabel("N° of tracker reach").clipPadding(10).yAxis().ticks(5),e.width(V).height(40).margins({top:0,right:50,bottom:20,left:40}).dimension(f).group(v).centerBar(!0).elasticY(!0).gap(1).x(i.Xf().domain([i.WQD.offset(b,0),i.WQD.offset(y,2)])).round(i.rr1.round).alwaysUseRounding(!0).xUnits(i.Nus).ordinalColors(["#58539E"]).yAxis().ticks(0),V=i.Ys("#category-chart").node().getBoundingClientRect().width,_=300;const B=Math.min(V,_);s.width(V).height(_).slicesCap(10).radius(B/4).innerRadius(B/8).externalLabels(50).dimension(g).group(w).drawPaths(!0).minAngleForLabel(.1).ordinalColors(["#371D52","#6652A1","#35334A","#859ED5","#CC94F2","#9A5BD9","#6F36BF","#3F1973","#58539E"]),s.on("pretransition",(function(t){t.selectAll("text.pie-slice.pie-label").call((function(t){t.each((function(t){const e=i.Ys(this);let s=e.text();s.length>14&&(s=s.substring(0,14)+".. "),s.length>0&&(s=s+" ("+r.utils.printSingleValue((t.endAngle-t.startAngle)/(2*Math.PI)*100)+"%)"),e.text(s)}))}))})),V=i.Ys("#advertiser-chart").node().getBoundingClientRect().width,_=625,l.width(V).height(_).margins({top:20,left:10,right:10,bottom:20}).group(x).dimension(m).ordinalColors(["#58539E","#847CEB","#605BAB","#4A4685","#35325E"]).label((t=>t.key)).data((t=>t.top(20))).title((t=>t.value)).elasticX(!0).xAxis().ticks(4),V=i.Ys("#app-chart").node().getBoundingClientRect().width,_=250,a.width(V).height(_).margins({top:20,left:10,right:10,bottom:20}).group(this.removeEmptyBins(A)).dimension(C).ordinalColors(["#58539E","#847CEB","#605BAB","#4A4685","#35325E"]).label((t=>t.key)).data((t=>t.top(10))).title((t=>t.value)).elasticX(!0).xAxis().ticks(4),r.renderAll()}}},f=h,m=(0,s(1001).Z)(f,(function(){var t=this,e=t._self._c;return e("VContainer",[e("VRow",[e("VCol",{attrs:{cols:"4",offset:"4"}},[e("VSelect",{attrs:{items:t.apps,label:t.messages.Applications,hint:t.messages["select-applications-hint"],"persistent-hint":"",multiple:""},on:{change:t.filterApps},scopedSlots:t._u([{key:"prepend-item",fn:function(){return[e("VListItem",{attrs:{ripple:""},on:{click:t.toggle}},[e("VListItemAction",[e("VIcon",{attrs:{color:t.selectedApps.length>0?"indigo darken-4":""}},[t._v(" "+t._s(t.icon)+" ")])],1),e("VListItemContent",[e("VListItemTitle",[t._v(t._s(t.$t("Select All")))])],1)],1),e("VDivider",{staticClass:"mt-2"})]},proxy:!0},{key:"selection",fn:function({item:s,index:r}){return[r<3?e("span",[t._v(t._s(s.length>13?s.slice(0,13)+"..":s)+" ")]):t._e(),r<2?e("span",[t._v(", ")]):t._e(),3===r?e("div",{staticClass:"grey--text text-caption"},[t._v(" ("+t._s(t.$tc("plusXOther",t.selectedApps.length-3))+") ")]):t._e()]}}]),model:{value:t.selectedApps,callback:function(e){t.selectedApps=e},expression:"selectedApps"}})],1)],1),e("ChartViewVRowWebShare",[e("VCol",{attrs:{cols:"12",md:"9"}},[e("VRow",[e("VCol",{attrs:{cols:"12"}},[e("div",{attrs:{id:"volume-chart"}},[e("span",{directives:[{name:"t",rawName:"v-t",value:t.messages["Amount of tracking over time"],expression:"messages['Amount of tracking over time']"}],staticClass:"font-weight-bold"}),e("ChartViewFilters")],1),e("div",{attrs:{id:"range-chart"}},[e("ChartViewTextSelectTimeRange")],1)])],1),e("VRow",[e("VCol",{attrs:{cols:"12",md:"6"}},[e("div",{attrs:{id:"category-chart"}},[e("span",{directives:[{name:"t",rawName:"v-t",value:t.messages["Purposes of third party"],expression:"messages['Purposes of third party']"}],staticClass:"font-weight-bold"}),e("ChartViewFilters")],1)]),e("VCol",{attrs:{cols:"12",md:"6"}},[e("div",{attrs:{id:"app-chart"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{directives:[{name:"t",rawName:"v-t",value:t.messages["Applications that use trackers"],expression:"messages['Applications that use trackers']"}],staticClass:"font-weight-bold"}),e("VSpacer"),e("div",{staticClass:"search",attrs:{id:"app-search"}})],1),e("ChartViewFilters")],1)])],1)],1),e("VCol",{attrs:{cols:"12",md:"3"}},[e("div",{attrs:{id:"advertiser-chart"}},[e("div",{staticStyle:{display:"flex"}},[e("span",{directives:[{name:"t",rawName:"v-t",value:t.messages["Companies behind tracking"],expression:"messages['Companies behind tracking']"}],staticClass:"font-weight-bold"}),e("VSpacer"),e("div",{attrs:{id:"advertiser-search"}})],1),e("ChartViewFilters")],1)])],1),e("ChartViewDcFilterCount",t._b({},"ChartViewDcFilterCount",{filterCount:t.filterCount,totalCount:t.totalCount},!1)),e("UnitFilterableTable",t._b({},"UnitFilterableTable",{headers:t.header,items:t.results,kViewBlock:t.kViewBlock},!1))],1)}),[],!1,null,"4ba9df62",null),C=m.exports},18736:function(t,e,s){s.r(e),s.d(e,{default:function(){return o}});var i=s(12555),r=s(4031),n=s(97888),l=s(9934),u={components:{BaseButton:r.Z,BaseButtonDownloadData:n.Z,BaseButtonShare:l.Z},mixins:[(0,i.Z)()]},p=(0,s(1001).Z)(u,(function(){var t=this,e=t._self._c;return e("VRow",t._b({ref:"domToImageNode"},"VRow",t.$attrs,!1),[t._t("default"),e("VCol",{staticClass:"dom-to-image-exclude",attrs:{cols:"12"}},[e("BaseButton",t._b({attrs:{icon:"mdiExport",text:"Export"},on:{click:t.exportImage}},"BaseButton",{progress:t.progress,status:t.status,error:t.error},!1)),e("BaseButtonDownloadData",t._b({},"BaseButtonDownloadData",{disabled:!t.blob,extension:t.extension,filename:t.filename,data:t.blob},!1)),e("BaseButtonShare",t._b({attrs:{"file-share":""}},"BaseButtonShare",{files:t.files,disabled:!t.files},!1))],1)],2)}),[],!1,null,null,null),o=p.exports},92027:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var i=s(40290),r={mixins:[s(659).Z],props:{filterCount:{type:Number,required:!0},totalCount:{type:Number,required:!0},rowLabel:{type:String,default:null}},methods:{resetAll(){i.filterAll(),i.renderAll()}}},u=(0,s(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("VRow",[t.filterCount===t.totalCount?[e("i18n",{attrs:{tag:"div",path:t.kViewBlock("selected-all")},scopedSlots:t._u([{key:"totalCount",fn:function(){return[e("span",{staticClass:"font-weight-bold",domProps:{textContent:t._s(t.totalCount)}})]},proxy:!0},t.rowLabel?{key:"rowLabel",fn:function(){return[t._v(" "+t._s(t.rowLabel)+" ")]},proxy:!0}:null],null,!0)}),e("span",{directives:[{name:"t",rawName:"v-t",value:"click-graph",expression:"'click-graph'"}]})]:[e("i18n",{attrs:{tag:"div",path:t.kViewBlock("selected-some")},scopedSlots:t._u([t._l({filterCount:t.filterCount,totalCount:t.totalCount},(function(s,r){return{key:r,fn:function(){return[e("span",{key:r,staticClass:"font-weight-bold",domProps:{textContent:t._s(s)}})]},proxy:!0}})),t.rowLabel?{key:"rowLabel",fn:function(){return[t._v(" "+t._s(t.rowLabel)+" ")]},proxy:!0}:null],null,!0)}),e("span",[t._v(" | "),e("a",{directives:[{name:"t",rawName:"v-t",value:"Reset All",expression:"'Reset All'"}],on:{click:t.resetAll}})])]],2)}),[],!1,null,null,null),n=u.exports},96622:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var r={},n=(0,s(1001).Z)(r,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"filters"},[e("span",[t._v(" "+t._s(t.$t("Current filter"))+" "),e("span",{staticClass:"filter"})]),e("a",{directives:[{name:"t",rawName:"v-t",value:"reset",expression:"'reset'"}],staticClass:"reset",staticStyle:{display:"none"}})])}),[],!1,null,null,null),l=n.exports},49814:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var r=(0,s(1001).Z)({},(function(){var t=this,e=t._self._c;return e("p",{staticClass:"muted pull-right text-subtitle-2 mr-4 mb-1"},[e("span",{domProps:{innerHTML:t._s(t.$t("select-time-range"))}}),t._t("default")],2)}),[],!1,null,null,null),n=r.exports},21297:function(t,e,s){s.r(e);var r=s(40290),a=s(18651),i=s(659);const n={props:{values:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},messages:{type:Object,default:()=>({})}},data(){return{graphId:"graph_"+this.$store.state.xp.currentTab,totalCount:0,filterCount:0}},mounted(){this.drawViz()},watch:{values(){this.drawViz()}},methods:{drawViz(){},createTextFilterWidget(t,e="Search"){const s=new r.TextFilterWidget(t);return s.placeHolder(this.$tev(e,e)),s}}};e.default=(0,a.Z)(n,i.Z)}}]);