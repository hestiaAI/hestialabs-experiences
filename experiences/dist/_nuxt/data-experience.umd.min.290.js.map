{"version":3,"file":"data-experience.umd.min.290.js","mappings":"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","sources":["webpack://data-experience/./node_modules/dc/dist/dc.js","webpack://data-experience/./node_modules/dc/node_modules/d3/dist/package.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/ascending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/bisector.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/number.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/bisect.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/count.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/cross.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/cumsum.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/descending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/variance.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/deviation.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/extent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/fsum.js","webpack://data-experience/./node_modules/dc/node_modules/internmap/src/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/group.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/permute.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/sort.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/groupSort.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/ticks.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/nice.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/threshold/sturges.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/bin.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/max.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/min.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/quickselect.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/quantile.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/threshold/freedmanDiaconis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/threshold/scott.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/maxIndex.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/mean.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/median.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/merge.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/minIndex.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/pairs.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/range.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/least.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/leastIndex.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/greatest.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/greatestIndex.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/scan.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/shuffle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/sum.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/transpose.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/zip.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/every.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/some.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/filter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/map.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/reduce.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/reverse.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/difference.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/disjoint.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/set.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/intersection.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/superset.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/subset.js","webpack://data-experience/./node_modules/dc/node_modules/d3-array/src/union.js","webpack://data-experience/./node_modules/dc/node_modules/d3-axis/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-axis/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-axis/src/axis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-dispatch/src/dispatch.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selector.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/select.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selectorAll.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/selectAll.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/matcher.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/selectChild.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/selectChildren.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/filter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/sparse.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/enter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/data.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/exit.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/join.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/merge.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/order.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/sort.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/call.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/nodes.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/node.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/size.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/empty.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/each.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/namespaces.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/namespace.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/attr.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/window.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/style.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/property.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/classed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/text.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/html.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/raise.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/lower.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/creator.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/append.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/insert.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/remove.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/clone.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/datum.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/on.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/dispatch.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/iterator.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selection/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/select.js","webpack://data-experience/./node_modules/dc/node_modules/d3-drag/src/noevent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-drag/src/nodrag.js","webpack://data-experience/./node_modules/dc/node_modules/d3-color/src/define.js","webpack://data-experience/./node_modules/dc/node_modules/d3-color/src/color.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/basis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/basisClosed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/color.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/rgb.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/numberArray.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/date.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/number.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/object.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/string.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/value.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/sourceEvent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/pointer.js","webpack://data-experience/./node_modules/dc/node_modules/d3-timer/src/timer.js","webpack://data-experience/./node_modules/dc/node_modules/d3-timer/src/timeout.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/schedule.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/interrupt.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/selection/interrupt.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/transform/decompose.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/transform/parse.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/transform/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/tween.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/interpolate.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/attr.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/attrTween.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/delay.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/duration.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/ease.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/easeVarying.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/filter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/merge.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/on.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/remove.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/select.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/selectAll.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/selection.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/style.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/styleTween.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/text.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/textTween.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/transition.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/end.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/transition/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/cubic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/selection/transition.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/selection/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-transition/src/active.js","webpack://data-experience/./node_modules/dc/node_modules/d3-brush/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-brush/src/event.js","webpack://data-experience/./node_modules/dc/node_modules/d3-brush/src/noevent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-brush/src/brush.js","webpack://data-experience/./node_modules/dc/node_modules/d3-chord/src/math.js","webpack://data-experience/./node_modules/dc/node_modules/d3-chord/src/chord.js","webpack://data-experience/./node_modules/dc/node_modules/d3-path/src/path.js","webpack://data-experience/./node_modules/dc/node_modules/d3-chord/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-chord/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-chord/src/ribbon.js","webpack://data-experience/./node_modules/dc/node_modules/d3-color/src/math.js","webpack://data-experience/./node_modules/dc/node_modules/d3-color/src/lab.js","webpack://data-experience/./node_modules/dc/node_modules/d3-color/src/cubehelix.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/ascending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/area.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/contains.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/noop.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/contours.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/blur.js","webpack://data-experience/./node_modules/dc/node_modules/d3-contour/src/density.js","webpack://data-experience/./node_modules/dc/node_modules/delaunator/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-delaunay/src/path.js","webpack://data-experience/./node_modules/dc/node_modules/d3-delaunay/src/polygon.js","webpack://data-experience/./node_modules/dc/node_modules/d3-delaunay/src/voronoi.js","webpack://data-experience/./node_modules/dc/node_modules/d3-delaunay/src/delaunay.js","webpack://data-experience/./node_modules/dc/node_modules/d3-drag/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-drag/src/event.js","webpack://data-experience/./node_modules/dc/node_modules/d3-drag/src/drag.js","webpack://data-experience/./node_modules/dc/node_modules/d3-dsv/src/dsv.js","webpack://data-experience/./node_modules/dc/node_modules/d3-dsv/src/csv.js","webpack://data-experience/./node_modules/dc/node_modules/d3-dsv/src/tsv.js","webpack://data-experience/./node_modules/dc/node_modules/d3-dsv/src/autoType.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/linear.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/quad.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/poly.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/sin.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/math.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/exp.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/circle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/bounce.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/back.js","webpack://data-experience/./node_modules/dc/node_modules/d3-ease/src/elastic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/blob.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/buffer.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/text.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/dsv.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/image.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/json.js","webpack://data-experience/./node_modules/dc/node_modules/d3-fetch/src/xml.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/center.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/add.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/cover.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/data.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/extent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/quad.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/find.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/remove.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/root.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/size.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/visit.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/visitAfter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/x.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/y.js","webpack://data-experience/./node_modules/dc/node_modules/d3-quadtree/src/quadtree.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/jiggle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/collide.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/link.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/lcg.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/simulation.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/manyBody.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/radial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/x.js","webpack://data-experience/./node_modules/dc/node_modules/d3-force/src/y.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatDecimal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/exponent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatGroup.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatNumerals.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatSpecifier.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatPrefixAuto.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatTrim.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatRounded.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/formatTypes.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/locale.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/defaultLocale.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/precisionFixed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/precisionPrefix.js","webpack://data-experience/./node_modules/dc/node_modules/d3-format/src/precisionRound.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/math.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/noop.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/stream.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/area.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/bounds.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/cartesian.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/centroid.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/compose.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/rotation.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/circle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/buffer.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/pointEqual.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/rejoin.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/polygonContains.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/antimeridian.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/circle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/line.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/rectangle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/length.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/clip/extent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/distance.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/contains.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/graticule.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/interpolate.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/area.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/bounds.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/centroid.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/context.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/measure.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/string.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/path/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/transform.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/fit.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/resample.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/conic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/conicEqualArea.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/albers.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/albersUsa.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/azimuthal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/mercator.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/conicConformal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/equirectangular.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/conicEquidistant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/equalEarth.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/gnomonic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/naturalEarth1.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/orthographic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/stereographic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-geo/src/projection/transverseMercator.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/cluster.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/pack/enclose.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/pack/siblings.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/accessors.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/pack/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/round.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/dice.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/partition.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/stratify.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/tree.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/slice.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/binary.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://data-experience/./node_modules/dc/node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/discrete.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/hue.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/round.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/zoom.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/hsl.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/lab.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/hcl.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/cubehelix.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/piecewise.js","webpack://data-experience/./node_modules/dc/node_modules/d3-interpolate/src/quantize.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/area.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/centroid.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/cross.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/hull.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/contains.js","webpack://data-experience/./node_modules/dc/node_modules/d3-polygon/src/length.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/defaultSource.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/uniform.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/int.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/normal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/logNormal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/irwinHall.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/bates.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/exponential.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/pareto.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/bernoulli.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/geometric.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/gamma.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/beta.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/binomial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/weibull.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/cauchy.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/logistic.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/poisson.js","webpack://data-experience/./node_modules/dc/node_modules/d3-random/src/lcg.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/init.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/ordinal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/band.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/number.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/continuous.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/tickFormat.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/linear.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/nice.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/log.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/symlog.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/pow.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/radial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/quantile.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/quantize.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/threshold.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/duration.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/interval.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/millisecond.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/second.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/minute.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/hour.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/day.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/week.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/month.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/year.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcMinute.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcHour.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcDay.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcWeek.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcMonth.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/utcYear.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time/src/ticks.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time-format/src/locale.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time-format/src/defaultLocale.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/time.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/utcTime.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/sequential.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/sequentialQuantile.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale/src/diverging.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/colors.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/ramp.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack://data-experience/./node_modules/dc/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/create.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/local.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/pointers.js","webpack://data-experience/./node_modules/dc/node_modules/d3-selection/src/selectAll.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/math.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/arc.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/array.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/linear.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/point.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/line.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/area.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/descending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/identity.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/pie.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/radial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/lineRadial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/areaRadial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/pointRadial.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/link/index.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/circle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/cross.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/diamond.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/star.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/square.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/triangle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol/wye.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/symbol.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/noop.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/basis.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/basisClosed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/basisOpen.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/bump.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/bundle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/cardinal.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/catmullRom.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/linearClosed.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/monotone.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/natural.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/curve/step.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/offset/none.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/none.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/stack.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/offset/expand.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/offset/diverging.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/offset/silhouette.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/offset/wiggle.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/appearance.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/ascending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/descending.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/insideOut.js","webpack://data-experience/./node_modules/dc/node_modules/d3-shape/src/order/reverse.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time-format/src/isoFormat.js","webpack://data-experience/./node_modules/dc/node_modules/d3-time-format/src/isoParse.js","webpack://data-experience/./node_modules/dc/node_modules/d3-timer/src/interval.js","webpack://data-experience/./node_modules/dc/node_modules/d3-zoom/src/constant.js","webpack://data-experience/./node_modules/dc/node_modules/d3-zoom/src/event.js","webpack://data-experience/./node_modules/dc/node_modules/d3-zoom/src/transform.js","webpack://data-experience/./node_modules/dc/node_modules/d3-zoom/src/noevent.js","webpack://data-experience/./node_modules/dc/node_modules/d3-zoom/src/zoom.js"],"sourcesContent":["/*!\n *  dc 4.2.7\n *  http://dc-js.github.io/dc.js/\n *  Copyright 2012-2021 Nick Zhu & the dc.js Developers\n *  https://github.com/dc-js/dc.js/blob/master/AUTHORS\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3'), require('d3')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3', 'd3'], factory) :\n  (global = global || self, factory(global.dc = {}, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3, global.d3));\n}(this, (function (exports, d3TimeFormat, d3Time, d3Format, d3Selection, d3Dispatch, d3Array, d3Scale, d3Interpolate, d3ScaleChromatic, d3Axis, d3Zoom, d3Brush, d3Timer, d3Shape, d3Geo, d3Ease, d3Hierarchy, d3, d3Collection) { 'use strict';\n\n  const version = \"4.2.7\";\n\n  class BadArgumentException extends Error { }\n\n  const constants = {\n      CHART_CLASS: 'dc-chart',\n      DEBUG_GROUP_CLASS: 'debug',\n      STACK_CLASS: 'stack',\n      DESELECTED_CLASS: 'deselected',\n      SELECTED_CLASS: 'selected',\n      NODE_INDEX_NAME: '__index__',\n      GROUP_INDEX_NAME: '__group_index__',\n      DEFAULT_CHART_GROUP: '__default_chart_group__',\n      EVENT_DELAY: 40,\n      NEGLIGIBLE_NUMBER: 1e-10\n  };\n\n  /**\n   * Provides basis logging and deprecation utilities\n   */\n  class Logger {\n\n      constructor () {\n          /**\n           * Enable debug level logging. Set to `false` by default.\n           * @name enableDebugLog\n           * @memberof Logger\n           * @instance\n           */\n          this.enableDebugLog = false;\n\n          this._alreadyWarned = {};\n      }\n\n      /**\n       * Put a warning message to console\n       * @example\n       * logger.warn('Invalid use of .tension on CurveLinear');\n       * @param {String} [msg]\n       * @returns {Logger}\n       */\n      warn (msg) {\n          if (console) {\n              if (console.warn) {\n                  console.warn(msg);\n              } else if (console.log) {\n                  console.log(msg);\n              }\n          }\n\n          return this;\n      }\n\n      /**\n       * Put a warning message to console. It will warn only on unique messages.\n       * @example\n       * logger.warnOnce('Invalid use of .tension on CurveLinear');\n       * @param {String} [msg]\n       * @returns {Logger}\n       */\n      warnOnce (msg) {\n          if (!this._alreadyWarned[msg]) {\n              this._alreadyWarned[msg] = true;\n\n              logger.warn(msg);\n          }\n\n          return this;\n      }\n\n      /**\n       * Put a debug message to console. It is controlled by `logger.enableDebugLog`\n       * @example\n       * logger.debug('Total number of slices: ' + numSlices);\n       * @param {String} [msg]\n       * @returns {Logger}\n       */\n      debug (msg) {\n          if (this.enableDebugLog && console) {\n              if (console.debug) {\n                  console.debug(msg);\n              } else if (console.log) {\n                  console.log(msg);\n              }\n          }\n\n          return this;\n      }\n  }\n\n  const logger = new Logger();\n\n  /**\n   * General configuration\n   */\n  class Config {\n      constructor () {\n          this._defaultColors = Config._schemeCategory20c;\n\n          /**\n           * The default date format for dc.js\n           * @type {Function}\n           * @default d3.timeFormat('%m/%d/%Y')\n           */\n          this.dateFormat = d3TimeFormat.timeFormat('%m/%d/%Y');\n\n          this._renderlet = null;\n\n          /**\n           * If this boolean is set truthy, all transitions will be disabled, and changes to the charts will happen\n           * immediately.\n           * @type {Boolean}\n           * @default false\n           */\n          this.disableTransitions = false;\n      }\n\n      /**\n       * Set the default color scheme for ordinal charts. Changing it will impact all ordinal charts.\n       *\n       * By default it is set to a copy of\n       * `d3.schemeCategory20c` for backward compatibility. This color scheme has been\n       * [removed from D3v5](https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50).\n       * In DC 3.1 release it will change to a more appropriate default.\n       *\n       * @example\n       * config.defaultColors(d3.schemeSet1)\n       * @param {Array} [colors]\n       * @returns {Array|config}\n       */\n      defaultColors (colors) {\n          if (!arguments.length) {\n              // Issue warning if it uses _schemeCategory20c\n              if (this._defaultColors === Config._schemeCategory20c) {\n                  logger.warnOnce('You are using d3.schemeCategory20c, which has been removed in D3v5. ' +\n                      'See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. ' +\n                      'DC is using it for backward compatibility, however it will be changed in DCv3.1. ' +\n                      'You can change it by calling dc.config.defaultColors(newScheme). ' +\n                      'See https://github.com/d3/d3-scale-chromatic for some alternatives.');\n              }\n              return this._defaultColors;\n          }\n          this._defaultColors = colors;\n          return this;\n      }\n\n  }\n\n  // D3v5 has removed schemeCategory20c, copied here for backward compatibility\n  Config._schemeCategory20c = [\n      '#3182bd', '#6baed6', '#9ecae1', '#c6dbef', '#e6550d',\n      '#fd8d3c', '#fdae6b', '#fdd0a2', '#31a354', '#74c476',\n      '#a1d99b', '#c7e9c0', '#756bb1', '#9e9ac8', '#bcbddc',\n      '#dadaeb', '#636363', '#969696', '#bdbdbd', '#d9d9d9'];\n\n  /**\n   * General configuration object; see {@link Config} for members.\n   */\n  const config = new Config();\n\n  /**\n   * d3.js compatiblity layer\n   */\n  const d3compat = {\n      eventHandler: handler => function eventHandler (a, b) {\n          console.warn('No d3.js compatbility event handler registered, defaulting to v6 behavior.');\n          handler.call(this, b, a);\n      },\n      nester: ({key, sortKeys, sortValues, entries}) => {\n          throw new Error('No d3.js compatbility nester registered, load v5 or v6 compability layer.');\n      },\n      pointer: () => { throw new Error('No d3.js compatbility pointer registered, load v5 or v6 compability layer.'); }\n  };\n\n  /**\n   * The ChartRegistry maintains sets of all instantiated dc.js charts under named groups\n   * and the default group. There is a single global ChartRegistry object named `chartRegistry`\n   *\n   * A chart group often corresponds to a crossfilter instance. It specifies\n   * the set of charts which should be updated when a filter changes on one of the charts or when the\n   * global functions {@link filterAll filterAll}, {@link refocusAll refocusAll},\n   * {@link renderAll renderAll}, {@link redrawAll redrawAll}, or chart functions\n   * {@link baseMixin#renderGroup baseMixin.renderGroup},\n   * {@link baseMixin#redrawGroup baseMixin.redrawGroup} are called.\n   */\n  class ChartRegistry {\n      constructor () {\n          // chartGroup:string => charts:array\n          this._chartMap = {};\n      }\n\n      _initializeChartGroup (group) {\n          if (!group) {\n              group = constants.DEFAULT_CHART_GROUP;\n          }\n\n          if (!(this._chartMap)[group]) {\n              (this._chartMap)[group] = [];\n          }\n\n          return group;\n      }\n\n      /**\n       * Determine if a given chart instance resides in any group in the registry.\n       * @param {Object} chart dc.js chart instance\n       * @returns {Boolean}\n       */\n      has (chart) {\n          for (const e in this._chartMap) {\n              if ((this._chartMap)[e].indexOf(chart) >= 0) {\n                  return true;\n              }\n          }\n          return false;\n      }\n\n      /**\n       * Add given chart instance to the given group, creating the group if necessary.\n       * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n       * @param {Object} chart dc.js chart instance\n       * @param {String} [group] Group name\n       * @return {undefined}\n       */\n      register (chart, group) {\n          const _chartMap = this._chartMap;\n          group = this._initializeChartGroup(group);\n          _chartMap[group].push(chart);\n      }\n\n      /**\n       * Remove given chart instance from the given group, creating the group if necessary.\n       * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n       * @param {Object} chart dc.js chart instance\n       * @param {String} [group] Group name\n       * @return {undefined}\n       */\n      deregister (chart, group) {\n          group = this._initializeChartGroup(group);\n          for (let i = 0; i < (this._chartMap)[group].length; i++) {\n              if ((this._chartMap)[group][i].anchorName() === chart.anchorName()) {\n                  (this._chartMap)[group].splice(i, 1);\n                  break;\n              }\n          }\n      }\n\n      /**\n       * Clear given group if one is provided, otherwise clears all groups.\n       * @param {String} group Group name\n       * @return {undefined}\n       */\n      clear (group) {\n          if (group) {\n              delete (this._chartMap)[group];\n          } else {\n              this._chartMap = {};\n          }\n      }\n\n      /**\n       * Get an array of each chart instance in the given group.\n       * If no group is provided, the charts in the default group are returned.\n       * @param {String} [group] Group name\n       * @returns {Array<Object>}\n       */\n      list (group) {\n          group = this._initializeChartGroup(group);\n          return (this._chartMap)[group];\n      }\n  }\n\n  /**\n   * The chartRegistry object maintains sets of all instantiated dc.js charts under named groups\n   * and the default group. See {@link ChartRegistry ChartRegistry} for its methods.\n   */\n  const chartRegistry = new ChartRegistry();\n\n  /**\n   * Add given chart instance to the given group, creating the group if necessary.\n   * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n   * @function registerChart\n   * @param {Object} chart dc.js chart instance\n   * @param {String} [group] Group name\n   * @return {undefined}\n   */\n  const registerChart = function (chart, group) {\n      chartRegistry.register(chart, group);\n  };\n\n  /**\n   * Remove given chart instance from the given group, creating the group if necessary.\n   * If no group is provided, the default group `constants.DEFAULT_CHART_GROUP` will be used.\n   * @function deregisterChart\n   * @param {Object} chart dc.js chart instance\n   * @param {String} [group] Group name\n   * @return {undefined}\n   */\n  const deregisterChart = function (chart, group) {\n      chartRegistry.deregister(chart, group);\n  };\n\n  /**\n   * Determine if a given chart instance resides in any group in the registry.\n   * @function hasChart\n   * @param {Object} chart dc.js chart instance\n   * @returns {Boolean}\n   */\n  const hasChart = function (chart) {\n      return chartRegistry.has(chart);\n  };\n\n  /**\n   * Clear given group if one is provided, otherwise clears all groups.\n   * @function deregisterAllCharts\n   * @param {String} group Group name\n   * @return {undefined}\n   */\n  const deregisterAllCharts = function (group) {\n      chartRegistry.clear(group);\n  };\n\n  /**\n   * Clear all filters on all charts within the given chart group. If the chart group is not given then\n   * only charts that belong to the default chart group will be reset.\n   * @function filterAll\n   * @param {String} [group]\n   * @return {undefined}\n   */\n  const filterAll = function (group) {\n      const charts = chartRegistry.list(group);\n      for (let i = 0; i < charts.length; ++i) {\n          charts[i].filterAll();\n      }\n  };\n\n  /**\n   * Reset zoom level / focus on all charts that belong to the given chart group. If the chart group is\n   * not given then only charts that belong to the default chart group will be reset.\n   * @function refocusAll\n   * @param {String} [group]\n   * @return {undefined}\n   */\n  const refocusAll = function (group) {\n      const charts = chartRegistry.list(group);\n      for (let i = 0; i < charts.length; ++i) {\n          if (charts[i].focus) {\n              charts[i].focus();\n          }\n      }\n  };\n\n  /**\n   * Re-render all charts belong to the given chart group. If the chart group is not given then only\n   * charts that belong to the default chart group will be re-rendered.\n   * @function renderAll\n   * @param {String} [group]\n   * @return {undefined}\n   */\n  const renderAll = function (group) {\n      const charts = chartRegistry.list(group);\n      for (let i = 0; i < charts.length; ++i) {\n          charts[i].render();\n      }\n\n      if (config._renderlet !== null) {\n          config._renderlet(group);\n      }\n  };\n\n  /**\n   * Redraw all charts belong to the given chart group. If the chart group is not given then only charts\n   * that belong to the default chart group will be re-drawn. Redraw is different from re-render since\n   * when redrawing dc tries to update the graphic incrementally, using transitions, instead of starting\n   * from scratch.\n   * @function redrawAll\n   * @param {String} [group]\n   * @return {undefined}\n   */\n  const redrawAll = function (group) {\n      const charts = chartRegistry.list(group);\n      for (let i = 0; i < charts.length; ++i) {\n          charts[i].redraw();\n      }\n\n      if (config._renderlet !== null) {\n          config._renderlet(group);\n      }\n  };\n\n  /**\n   * Start a transition on a selection if transitions are globally enabled\n   * ({@link disableTransitions} is false) and the duration is greater than zero; otherwise return\n   * the selection. Since most operations are the same on a d3 selection and a d3 transition, this\n   * allows a common code path for both cases.\n   * @function transition\n   * @param {d3.selection} selection - the selection to be transitioned\n   * @param {Number|Function} [duration=250] - the duration of the transition in milliseconds, a\n   * function returning the duration, or 0 for no transition\n   * @param {Number|Function} [delay] - the delay of the transition in milliseconds, or a function\n   * returning the delay, or 0 for no delay\n   * @param {String} [name] - the name of the transition (if concurrent transitions on the same\n   * elements are needed)\n   * @returns {d3.transition|d3.selection}\n   */\n  const transition = function (selection, duration, delay, name) {\n      if (config.disableTransitions || duration <= 0) {\n          return selection;\n      }\n\n      let s = selection.transition(name);\n\n      if (duration >= 0 || duration !== undefined) {\n          s = s.duration(duration);\n      }\n      if (delay >= 0 || delay !== undefined) {\n          s = s.delay(delay);\n      }\n\n      return s;\n  };\n\n  /* somewhat silly, but to avoid duplicating logic */\n  const optionalTransition = function (enable, duration, delay, name) {\n      if (enable) {\n          return function (selection) {\n              return transition(selection, duration, delay, name);\n          };\n      } else {\n          return function (selection) {\n              return selection;\n          };\n      }\n  };\n\n  // See http://stackoverflow.com/a/20773846\n  const afterTransition = function (_transition, callback) {\n      if (_transition.empty() || !_transition.duration) {\n          callback.call(_transition);\n      } else {\n          let n = 0;\n          _transition\n              .each(() => { ++n; })\n              .on('end', () => {\n                  if (!--n) {\n                      callback.call(_transition);\n                  }\n              });\n      }\n  };\n\n  const renderlet = function (_) {\n      if (!arguments.length) {\n          return config._renderlet;\n      }\n      config._renderlet = _;\n      return null;\n  };\n\n  const instanceOfChart = function (o) {\n      return o instanceof Object && o.__dcFlag__ && true;\n  };\n\n  const events = {\n      current: null\n  };\n\n  /**\n   * This function triggers a throttled event function with a specified delay (in milli-seconds).  Events\n   * that are triggered repetitively due to user interaction such brush dragging might flood the library\n   * and invoke more renders than can be executed in time. Using this function to wrap your event\n   * function allows the library to smooth out the rendering by throttling events and only responding to\n   * the most recent event.\n   * @name events.trigger\n   * @example\n   * chart.on('renderlet', function(chart) {\n   *     // smooth the rendering through event throttling\n   *     events.trigger(function(){\n   *         // focus some other chart to the range selected by user on this chart\n   *         someOtherChart.focus(chart.filter());\n   *     });\n   * })\n   * @param {Function} closure\n   * @param {Number} [delay]\n   * @return {undefined}\n   */\n  events.trigger = function (closure, delay) {\n      if (!delay) {\n          closure();\n          return;\n      }\n\n      events.current = closure;\n\n      setTimeout(() => {\n          if (closure === events.current) {\n              closure();\n          }\n      }, delay);\n  };\n\n  /**\n   * The dc.js filters are functions which are passed into crossfilter to chose which records will be\n   * accumulated to produce values for the charts.  In the crossfilter model, any filters applied on one\n   * dimension will affect all the other dimensions but not that one.  dc always applies a filter\n   * function to the dimension; the function combines multiple filters and if any of them accept a\n   * record, it is filtered in.\n   *\n   * These filter constructors are used as appropriate by the various charts to implement brushing.  We\n   * mention below which chart uses which filter.  In some cases, many instances of a filter will be added.\n   *\n   * Each of the dc.js filters is an object with the following properties:\n   * * `isFiltered` - a function that returns true if a value is within the filter\n   * * `filterType` - a string identifying the filter, here the name of the constructor\n   *\n   * Currently these filter objects are also arrays, but this is not a requirement. Custom filters\n   * can be used as long as they have the properties above.\n   * @namespace filters\n   * @type {{}}\n   */\n  const filters = {};\n\n  /**\n   * RangedFilter is a filter which accepts keys between `low` and `high`.  It is used to implement X\n   * axis brushing for the {@link CoordinateGridMixin coordinate grid charts}.\n   *\n   * Its `filterType` is 'RangedFilter'\n   * @name RangedFilter\n   * @memberof filters\n   * @param {Number} low\n   * @param {Number} high\n   * @returns {Array<Number>}\n   * @constructor\n   */\n  filters.RangedFilter = function (low, high) {\n      const range = new Array(low, high);\n      range.isFiltered = function (value) {\n          return value >= this[0] && value < this[1];\n      };\n      range.filterType = 'RangedFilter';\n\n      return range;\n  };\n\n  /**\n   * TwoDimensionalFilter is a filter which accepts a single two-dimensional value.  It is used by the\n   * {@link HeatMap heat map chart} to include particular cells as they are clicked.  (Rows and columns are\n   * filtered by filtering all the cells in the row or column.)\n   *\n   * Its `filterType` is 'TwoDimensionalFilter'\n   * @name TwoDimensionalFilter\n   * @memberof filters\n   * @param {Array<Number>} filter\n   * @returns {Array<Number>}\n   * @constructor\n   */\n  filters.TwoDimensionalFilter = function (filter) {\n      if (filter === null) { return null; }\n\n      const f = filter;\n      f.isFiltered = function (value) {\n          return value.length && value.length === f.length &&\n                 value[0] === f[0] && value[1] === f[1];\n      };\n      f.filterType = 'TwoDimensionalFilter';\n\n      return f;\n  };\n\n  /**\n   * The RangedTwoDimensionalFilter allows filtering all values which fit within a rectangular\n   * region. It is used by the {@link ScatterPlot scatter plot} to implement rectangular brushing.\n   *\n   * It takes two two-dimensional points in the form `[[x1,y1],[x2,y2]]`, and normalizes them so that\n   * `x1 <= x2` and `y1 <= y2`. It then returns a filter which accepts any points which are in the\n   * rectangular range including the lower values but excluding the higher values.\n   *\n   * If an array of two values are given to the RangedTwoDimensionalFilter, it interprets the values as\n   * two x coordinates `x1` and `x2` and returns a filter which accepts any points for which `x1 <= x <\n   * x2`.\n   *\n   * Its `filterType` is 'RangedTwoDimensionalFilter'\n   * @name RangedTwoDimensionalFilter\n   * @memberof filters\n   * @param {Array<Array<Number>>} filter\n   * @returns {Array<Array<Number>>}\n   * @constructor\n   */\n  filters.RangedTwoDimensionalFilter = function (filter) {\n      if (filter === null) { return null; }\n\n      const f = filter;\n      let fromBottomLeft;\n\n      if (f[0] instanceof Array) {\n          fromBottomLeft = [\n              [Math.min(filter[0][0], filter[1][0]), Math.min(filter[0][1], filter[1][1])],\n              [Math.max(filter[0][0], filter[1][0]), Math.max(filter[0][1], filter[1][1])]\n          ];\n      } else {\n          fromBottomLeft = [[filter[0], -Infinity], [filter[1], Infinity]];\n      }\n\n      f.isFiltered = function (value) {\n          let x, y;\n\n          if (value instanceof Array) {\n              x = value[0];\n              y = value[1];\n          } else {\n              x = value;\n              y = fromBottomLeft[0][1];\n          }\n\n          return x >= fromBottomLeft[0][0] && x < fromBottomLeft[1][0] &&\n                 y >= fromBottomLeft[0][1] && y < fromBottomLeft[1][1];\n      };\n      f.filterType = 'RangedTwoDimensionalFilter';\n\n      return f;\n  };\n\n  // ******** Sunburst Chart ********\n\n  /**\n   * HierarchyFilter is a filter which accepts a key path as an array. It matches any node at, or\n   * child of, the given path. It is used by the {@link SunburstChart sunburst chart} to include particular cells and all\n   * their children as they are clicked.\n   *\n   * @name HierarchyFilter\n   * @memberof filters\n   * @param {String} path\n   * @returns {Array<String>}\n   * @constructor\n   */\n  filters.HierarchyFilter = function (path) {\n      if (path === null) {\n          return null;\n      }\n\n      const filter = path.slice(0);\n      filter.isFiltered = function (value) {\n          if (!(filter.length && value && value.length && value.length >= filter.length)) {\n              return false;\n          }\n\n          for (let i = 0; i < filter.length; i++) {\n              if (value[i] !== filter[i]) {\n                  return false;\n              }\n          }\n\n          return true;\n      };\n      return filter;\n  };\n\n  class InvalidStateException extends Error { }\n\n  /**\n   * Returns a function that given a string property name, can be used to pluck the property off an object.  A function\n   * can be passed as the second argument to also alter the data being returned.\n   *\n   * This can be a useful shorthand method to create accessor functions.\n   * @example\n   * var xPluck = pluck('x');\n   * var objA = {x: 1};\n   * xPluck(objA) // 1\n   * @example\n   * var xPosition = pluck('x', function (x, i) {\n   *     // `this` is the original datum,\n   *     // `x` is the x property of the datum,\n   *     // `i` is the position in the array\n   *     return this.radius + x;\n   * });\n   * selectAll('.circle').data(...).x(xPosition);\n   * @function pluck\n   * @param {String} n\n   * @param {Function} [f]\n   * @returns {Function}\n   */\n  const pluck = function (n, f) {\n      if (!f) {\n          return function (d) { return d[n]; };\n      }\n      return function (d, i) { return f.call(d, d[n], i); };\n  };\n\n  /**\n   * @namespace utils\n   * @type {{}}\n   */\n  const utils = {};\n\n  /**\n   * Print a single value filter.\n   * @method printSingleValue\n   * @memberof utils\n   * @param {any} filter\n   * @returns {String}\n   */\n  utils.printSingleValue = function (filter) {\n      let s = `${filter}`;\n\n      if (filter instanceof Date) {\n          s = config.dateFormat(filter);\n      } else if (typeof (filter) === 'string') {\n          s = filter;\n      } else if (utils.isFloat(filter)) {\n          s = utils.printSingleValue.fformat(filter);\n      } else if (utils.isInteger(filter)) {\n          s = Math.round(filter);\n      }\n\n      return s;\n  };\n  utils.printSingleValue.fformat = d3Format.format('.2f');\n\n  // convert 'day' to d3.timeDay and similar\n  utils._toTimeFunc = function (t) {\n      const mappings = {\n          'second': d3Time.timeSecond,\n          'minute': d3Time.timeMinute,\n          'hour': d3Time.timeHour,\n          'day': d3Time.timeDay,\n          'week': d3Time.timeWeek,\n          'month': d3Time.timeMonth,\n          'year': d3Time.timeYear\n      };\n      return mappings[t];\n  };\n\n  /**\n   * Arbitrary add one value to another.\n   *\n   * If the value l is of type Date, adds r units to it. t becomes the unit.\n   * For example utils.add(dt, 3, 'week') will add 3 (r = 3) weeks (t= 'week') to dt.\n   *\n   * If l is of type numeric, t is ignored. In this case if r is of type string,\n   * it is assumed to be percentage (whether or not it includes %). For example\n   * utils.add(30, 10) will give 40 and utils.add(30, '10') will give 33.\n   *\n   * They also generate strange results if l is a string.\n   * @method add\n   * @memberof utils\n   * @param {Date|Number} l the value to modify\n   * @param {String|Number} r the amount by which to modify the value\n   * @param {Function|String} [t=d3.timeDay] if `l` is a `Date`, then this should be a\n   * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#_interval).\n   * For backward compatibility with dc.js 2.0, it can also be the name of an interval, i.e.\n   * 'millis', 'second', 'minute', 'hour', 'day', 'week', 'month', or 'year'\n   * @returns {Date|Number}\n   */\n  utils.add = function (l, r, t) {\n      if (typeof r === 'string') {\n          r = r.replace('%', '');\n      }\n\n      if (l instanceof Date) {\n          if (typeof r === 'string') {\n              r = +r;\n          }\n          if (t === 'millis') {\n              return new Date(l.getTime() + r);\n          }\n          t = t || d3Time.timeDay;\n          if (typeof t !== 'function') {\n              t = utils._toTimeFunc(t);\n          }\n          return t.offset(l, r);\n      } else if (typeof r === 'string') {\n          const percentage = (+r / 100);\n          return l > 0 ? l * (1 + percentage) : l * (1 - percentage);\n      } else {\n          return l + r;\n      }\n  };\n\n  /**\n   * Arbitrary subtract one value from another.\n   *\n   * If the value l is of type Date, subtracts r units from it. t becomes the unit.\n   * For example utils.subtract(dt, 3, 'week') will subtract 3 (r = 3) weeks (t= 'week') from dt.\n   *\n   * If l is of type numeric, t is ignored. In this case if r is of type string,\n   * it is assumed to be percentage (whether or not it includes %). For example\n   * utils.subtract(30, 10) will give 20 and utils.subtract(30, '10') will give 27.\n   *\n   * They also generate strange results if l is a string.\n   * @method subtract\n   * @memberof utils\n   * @param {Date|Number} l the value to modify\n   * @param {String|Number} r the amount by which to modify the value\n   * @param {Function|String} [t=d3.timeDay] if `l` is a `Date`, then this should be a\n   * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#_interval).\n   * For backward compatibility with dc.js 2.0, it can also be the name of an interval, i.e.\n   * 'millis', 'second', 'minute', 'hour', 'day', 'week', 'month', or 'year'\n   * @returns {Date|Number}\n   */\n  utils.subtract = function (l, r, t) {\n      if (typeof r === 'string') {\n          r = r.replace('%', '');\n      }\n\n      if (l instanceof Date) {\n          if (typeof r === 'string') {\n              r = +r;\n          }\n          if (t === 'millis') {\n              return new Date(l.getTime() - r);\n          }\n          t = t || d3Time.timeDay;\n          if (typeof t !== 'function') {\n              t = utils._toTimeFunc(t);\n          }\n          return t.offset(l, -r);\n      } else if (typeof r === 'string') {\n          const percentage = (+r / 100);\n          return l < 0 ? l * (1 + percentage) : l * (1 - percentage);\n      } else {\n          return l - r;\n      }\n  };\n\n  /**\n   * Is the value a number?\n   * @method isNumber\n   * @memberof utils\n   * @param {any} n\n   * @returns {Boolean}\n   */\n  utils.isNumber = function (n) {\n      return n === +n;\n  };\n\n  /**\n   * Is the value a float?\n   * @method isFloat\n   * @memberof utils\n   * @param {any} n\n   * @returns {Boolean}\n   */\n  utils.isFloat = function (n) {\n      return n === +n && n !== (n | 0);\n  };\n\n  /**\n   * Is the value an integer?\n   * @method isInteger\n   * @memberof utils\n   * @param {any} n\n   * @returns {Boolean}\n   */\n  utils.isInteger = function (n) {\n      return n === +n && n === (n | 0);\n  };\n\n  /**\n   * Is the value very close to zero?\n   * @method isNegligible\n   * @memberof utils\n   * @param {any} n\n   * @returns {Boolean}\n   */\n  utils.isNegligible = function (n) {\n      return !utils.isNumber(n) || (n < constants.NEGLIGIBLE_NUMBER && n > -constants.NEGLIGIBLE_NUMBER);\n  };\n\n  /**\n   * Ensure the value is no greater or less than the min/max values.  If it is return the boundary value.\n   * @method clamp\n   * @memberof utils\n   * @param {any} val\n   * @param {any} min\n   * @param {any} max\n   * @returns {any}\n   */\n  utils.clamp = function (val, min, max) {\n      return val < min ? min : (val > max ? max : val);\n  };\n\n  /**\n   * Given `x`, return a function that always returns `x`.\n   *\n   * {@link https://github.com/d3/d3/blob/master/CHANGES.md#internals `d3.functor` was removed in d3 version 4}.\n   * This function helps to implement the replacement,\n   * `typeof x === \"function\" ? x : utils.constant(x)`\n   * @method constant\n   * @memberof utils\n   * @param {any} x\n   * @returns {Function}\n   */\n  utils.constant = function (x) {\n      return function () {\n          return x;\n      };\n  };\n\n  /**\n   * Using a simple static counter, provide a unique integer id.\n   * @method uniqueId\n   * @memberof utils\n   * @returns {Number}\n   */\n  let _idCounter = 0;\n  utils.uniqueId = function () {\n      return ++_idCounter;\n  };\n\n  /**\n   * Convert a name to an ID.\n   * @method nameToId\n   * @memberof utils\n   * @param {String} name\n   * @returns {String}\n   */\n  utils.nameToId = function (name) {\n      return name.toLowerCase().replace(/[\\s]/g, '_').replace(/[\\.']/g, '');\n  };\n\n  /**\n   * Append or select an item on a parent element.\n   * @method appendOrSelect\n   * @memberof utils\n   * @param {d3.selection} parent\n   * @param {String} selector\n   * @param {String} tag\n   * @returns {d3.selection}\n   */\n  utils.appendOrSelect = function (parent, selector, tag) {\n      tag = tag || selector;\n      let element = parent.select(selector);\n      if (element.empty()) {\n          element = parent.append(tag);\n      }\n      return element;\n  };\n\n  /**\n   * Return the number if the value is a number; else 0.\n   * @method safeNumber\n   * @memberof utils\n   * @param {Number|any} n\n   * @returns {Number}\n   */\n  utils.safeNumber = function (n) { return utils.isNumber(+n) ? +n : 0;};\n\n  /**\n   * Return true if both arrays are equal, if both array are null these are considered equal\n   * @method arraysEqual\n   * @memberof utils\n   * @param {Array|null} a1\n   * @param {Array|null} a2\n   * @returns {Boolean}\n   */\n  utils.arraysEqual = function (a1, a2) {\n      if (!a1 && !a2) {\n          return true;\n      }\n\n      if (!a1 || !a2) {\n          return false;\n      }\n\n      return a1.length === a2.length &&\n          // If elements are not integers/strings, we hope that it will match because of toString\n          // Test cases cover dates as well.\n          a1.every((elem, i) => elem.valueOf() === a2[i].valueOf());\n  };\n\n  // ******** Sunburst Chart ********\n  utils.allChildren = function (node) {\n      let paths = [];\n      paths.push(node.path);\n      console.log('currentNode', node);\n      if (node.children) {\n          for (let i = 0; i < node.children.length; i++) {\n              paths = paths.concat(utils.allChildren(node.children[i]));\n          }\n      }\n      return paths;\n  };\n\n  // builds a d3 Hierarchy from a collection\n  // TODO: turn this monster method something better.\n  utils.toHierarchy = function (list, accessor) {\n      const root = {'key': 'root', 'children': []};\n      for (let i = 0; i < list.length; i++) {\n          const data = list[i];\n          const parts = data.key;\n          const value = accessor(data);\n          let currentNode = root;\n          for (let j = 0; j < parts.length; j++) {\n              const currentPath = parts.slice(0, j + 1);\n              const children = currentNode.children;\n              const nodeName = parts[j];\n              let childNode;\n              if (j + 1 < parts.length) {\n                  // Not yet at the end of the sequence; move down the tree.\n                  childNode = findChild(children, nodeName);\n\n                  // If we don't already have a child node for this branch, create it.\n                  if (childNode === void 0) {\n                      childNode = {'key': nodeName, 'children': [], 'path': currentPath};\n                      children.push(childNode);\n                  }\n                  currentNode = childNode;\n              } else {\n                  // Reached the end of the sequence; create a leaf node.\n                  childNode = {'key': nodeName, 'value': value, 'data': data, 'path': currentPath};\n                  children.push(childNode);\n              }\n          }\n      }\n      return root;\n  };\n\n  function findChild (children, nodeName) {\n      for (let k = 0; k < children.length; k++) {\n          if (children[k].key === nodeName) {\n              return children[k];\n          }\n      }\n  }\n\n  utils.getAncestors = function (node) {\n      const path = [];\n      let current = node;\n      while (current.parent) {\n          path.unshift(current.name);\n          current = current.parent;\n      }\n      return path;\n  };\n\n  utils.arraysIdentical = function (a, b) {\n      let i = a.length;\n      if (i !== b.length) {\n          return false;\n      }\n      while (i--) {\n          if (a[i] !== b[i]) {\n              return false;\n          }\n      }\n      return true;\n  };\n\n  /**\n   * @namespace printers\n   * @type {{}}\n   */\n  const printers = {};\n\n  /**\n   * Converts a list of filters into a readable string.\n   * @method filters\n   * @memberof printers\n   * @param {Array<filters>} filters\n   * @returns {String}\n   */\n  printers.filters = function (filters) {\n      let s = '';\n\n      for (let i = 0; i < filters.length; ++i) {\n          if (i > 0) {\n              s += ', ';\n          }\n          s += printers.filter(filters[i]);\n      }\n\n      return s;\n  };\n\n  /**\n   * Converts a filter into a readable string.\n   * @method filter\n   * @memberof printers\n   * @param {filters|any|Array<any>} filter\n   * @returns {String}\n   */\n  printers.filter = function (filter) {\n      let s = '';\n\n      if (typeof filter !== 'undefined' && filter !== null) {\n          if (filter instanceof Array) {\n              if (filter.length >= 2) {\n                  s = `[${filter.map(e => utils.printSingleValue(e)).join(' -> ')}]`;\n              } else if (filter.length >= 1) {\n                  s = utils.printSingleValue(filter[0]);\n              }\n          } else {\n              s = utils.printSingleValue(filter);\n          }\n      }\n\n      return s;\n  };\n\n  /**\n   * @namespace units\n   * @type {{}}\n   */\n  const units = {};\n\n  /**\n   * The default value for {@link CoordinateGridMixin#xUnits .xUnits} for the\n   * {@link CoordinateGridMixin Coordinate Grid Chart} and should\n   * be used when the x values are a sequence of integers.\n   * It is a function that counts the number of integers in the range supplied in its start and end parameters.\n   * @method integers\n   * @memberof units\n   * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n   * @example\n   * chart.xUnits(units.integers) // already the default\n   * @param {Number} start\n   * @param {Number} end\n   * @returns {Number}\n   */\n  units.integers = function (start, end) {\n      return Math.abs(end - start);\n  };\n\n  /**\n   * This argument can be passed to the {@link CoordinateGridMixin#xUnits .xUnits} function of a\n   * coordinate grid chart to specify ordinal units for the x axis. Usually this parameter is used in\n   * combination with passing\n   * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal}\n   * to {@link CoordinateGridMixin#x .x}.\n   *\n   * As of dc.js 3.0, this is purely a placeholder or magic value which causes the chart to go into ordinal mode; the\n   * function is not called.\n   * @method ordinal\n   * @memberof units\n   * @return {uncallable}\n   * @see {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal}\n   * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n   * @see {@link CoordinateGridMixin#x coordinateGridMixin.x}\n   * @example\n   * chart.xUnits(units.ordinal)\n   *      .x(d3.scaleOrdinal())\n   */\n  units.ordinal = function () {\n      throw new Error('dc.units.ordinal should not be called - it is a placeholder');\n  };\n\n  /**\n   * @namespace fp\n   * @memberof units\n   * @type {{}}\n   */\n  units.fp = {};\n  /**\n   * This function generates an argument for the {@link CoordinateGridMixin Coordinate Grid Chart}\n   * {@link CoordinateGridMixin#xUnits .xUnits} function specifying that the x values are floating-point\n   * numbers with the given precision.\n   * The returned function determines how many values at the given precision will fit into the range\n   * supplied in its start and end parameters.\n   * @method precision\n   * @memberof units.fp\n   * @see {@link CoordinateGridMixin#xUnits coordinateGridMixin.xUnits}\n   * @example\n   * // specify values (and ticks) every 0.1 units\n   * chart.xUnits(units.fp.precision(0.1)\n   * // there are 500 units between 0.5 and 1 if the precision is 0.001\n   * var thousandths = units.fp.precision(0.001);\n   * thousandths(0.5, 1.0) // returns 500\n   * @param {Number} precision\n   * @returns {Function} start-end unit function\n   */\n  units.fp.precision = function (precision) {\n      const _f = function (s, e) {\n          const d = Math.abs((e - s) / _f.resolution);\n          if (utils.isNegligible(d - Math.floor(d))) {\n              return Math.floor(d);\n          } else {\n              return Math.ceil(d);\n          }\n      };\n      _f.resolution = precision;\n      return _f;\n  };\n\n  const _defaultFilterHandler = (dimension, filters) => {\n      if (filters.length === 0) {\n          dimension.filter(null);\n      } else if (filters.length === 1 && !filters[0].isFiltered) {\n          // single value and not a function-based filter\n          dimension.filterExact(filters[0]);\n      } else if (filters.length === 1 && filters[0].filterType === 'RangedFilter') {\n          // single range-based filter\n          dimension.filterRange(filters[0]);\n      } else {\n          dimension.filterFunction(d => {\n              for (let i = 0; i < filters.length; i++) {\n                  const filter = filters[i];\n                  if (filter.isFiltered) {\n                      if(filter.isFiltered(d)) {\n                          return true;\n                      }\n                  } else if (filter <= d && filter >= d) {\n                      return true;\n                  }\n              }\n              return false;\n          });\n      }\n      return filters;\n  };\n\n  const _defaultHasFilterHandler = (filters, filter) => {\n      if (filter === null || typeof (filter) === 'undefined') {\n          return filters.length > 0;\n      }\n      return filters.some(f => filter <= f && filter >= f);\n  };\n\n  const _defaultRemoveFilterHandler = (filters, filter) => {\n      for (let i = 0; i < filters.length; i++) {\n          if (filters[i] <= filter && filters[i] >= filter) {\n              filters.splice(i, 1);\n              break;\n          }\n      }\n      return filters;\n  };\n\n  const _defaultAddFilterHandler = (filters, filter) => {\n      filters.push(filter);\n      return filters;\n  };\n\n  const _defaultResetFilterHandler = filters => [];\n\n  /**\n   * `BaseMixin` is an abstract functional object representing a basic `dc` chart object\n   * for all chart and widget implementations. Methods from the {@link #BaseMixin BaseMixin} are inherited\n   * and available on all chart implementations in the `dc` library.\n   * @mixin BaseMixin\n   */\n  class BaseMixin {\n      constructor () {\n          this.__dcFlag__ = utils.uniqueId();\n          this._svgDescription = null;\n          this._keyboardAccessible = false;\n\n          this._dimension = undefined;\n          this._group = undefined;\n\n          this._anchor = undefined;\n          this._root = undefined;\n          this._svg = undefined;\n          this._isChild = undefined;\n\n          this._minWidth = 200;\n          this._defaultWidthCalc = element => {\n              const width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\n              return (width && width > this._minWidth) ? width : this._minWidth;\n          };\n          this._widthCalc = this._defaultWidthCalc;\n\n          this._minHeight = 200;\n          this._defaultHeightCalc = element => {\n              const height = element && element.getBoundingClientRect && element.getBoundingClientRect().height;\n              return (height && height > this._minHeight) ? height : this._minHeight;\n          };\n          this._heightCalc = this._defaultHeightCalc;\n          this._width = undefined;\n          this._height = undefined;\n          this._useViewBoxResizing = false;\n\n          this._keyAccessor = pluck('key');\n          this._valueAccessor = pluck('value');\n          this._label = pluck('key');\n\n          this._ordering = pluck('key');\n\n          this._renderLabel = false;\n\n          this._title = d => `${this.keyAccessor()(d)}: ${this.valueAccessor()(d)}`;\n          this._renderTitle = true;\n          this._controlsUseVisibility = false;\n\n          this._transitionDuration = 750;\n\n          this._transitionDelay = 0;\n\n          this._filterPrinter = printers.filters;\n\n          this._mandatoryAttributesList = ['dimension', 'group'];\n\n          this._chartGroup = constants.DEFAULT_CHART_GROUP;\n\n          this._listeners = d3Dispatch.dispatch(\n              'preRender',\n              'postRender',\n              'preRedraw',\n              'postRedraw',\n              'filtered',\n              'zoomed',\n              'renderlet',\n              'pretransition');\n\n          this._legend = undefined;\n          this._commitHandler = undefined;\n\n          this._defaultData = group => group.all();\n          this._data = this._defaultData;\n\n          this._filters = [];\n\n          this._filterHandler = _defaultFilterHandler;\n          this._hasFilterHandler = _defaultHasFilterHandler;\n          this._removeFilterHandler = _defaultRemoveFilterHandler;\n          this._addFilterHandler = _defaultAddFilterHandler;\n          this._resetFilterHandler = _defaultResetFilterHandler;\n      }\n\n      /**\n       * Set or get the height attribute of a chart. The height is applied to the SVGElement generated by\n       * the chart when rendered (or re-rendered). If a value is given, then it will be used to calculate\n       * the new height and the chart returned for method chaining.  The value can either be a numeric, a\n       * function, or falsy. If no value is specified then the value of the current height attribute will\n       * be returned.\n       *\n       * By default, without an explicit height being given, the chart will select the width of its\n       * anchor element. If that isn't possible it defaults to 200 (provided by the\n       * {@link BaseMixin#minHeight minHeight} property). Setting the value falsy will return\n       * the chart to the default behavior.\n       * @see {@link BaseMixin#minHeight minHeight}\n       * @example\n       * // Default height\n       * chart.height(function (element) {\n       *     var height = element && element.getBoundingClientRect && element.getBoundingClientRect().height;\n       *     return (height && height > chart.minHeight()) ? height : chart.minHeight();\n       * });\n       *\n       * chart.height(250); // Set the chart's height to 250px;\n       * chart.height(function(anchor) { return doSomethingWith(anchor); }); // set the chart's height with a function\n       * chart.height(null); // reset the height to the default auto calculation\n       * @param {Number|Function} [height]\n       * @returns {Number|BaseMixin}\n       */\n      height (height) {\n          if (!arguments.length) {\n              if (!utils.isNumber(this._height)) {\n                  // only calculate once\n                  this._height = this._heightCalc(this._root.node());\n              }\n              return this._height;\n          }\n          this._heightCalc = height ? (typeof height === 'function' ? height : utils.constant(height)) : this._defaultHeightCalc;\n          this._height = undefined;\n          return this;\n      }\n\n      /**\n       * Set or get the width attribute of a chart.\n       * @see {@link BaseMixin#height height}\n       * @see {@link BaseMixin#minWidth minWidth}\n       * @example\n       * // Default width\n       * chart.width(function (element) {\n       *     var width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\n       *     return (width && width > chart.minWidth()) ? width : chart.minWidth();\n       * });\n       * @param {Number|Function} [width]\n       * @returns {Number|BaseMixin}\n       */\n      width (width) {\n          if (!arguments.length) {\n              if (!utils.isNumber(this._width)) {\n                  // only calculate once\n                  this._width = this._widthCalc(this._root.node());\n              }\n              return this._width;\n          }\n          this._widthCalc = width ? (typeof width === 'function' ? width : utils.constant(width)) : this._defaultWidthCalc;\n          this._width = undefined;\n          return this;\n      }\n\n      /**\n       * Set or get the minimum width attribute of a chart. This only has effect when used with the default\n       * {@link BaseMixin#width width} function.\n       * @see {@link BaseMixin#width width}\n       * @param {Number} [minWidth=200]\n       * @returns {Number|BaseMixin}\n       */\n      minWidth (minWidth) {\n          if (!arguments.length) {\n              return this._minWidth;\n          }\n          this._minWidth = minWidth;\n          return this;\n      }\n\n      /**\n       * Set or get the minimum height attribute of a chart. This only has effect when used with the default\n       * {@link BaseMixin#height height} function.\n       * @see {@link BaseMixin#height height}\n       * @param {Number} [minHeight=200]\n       * @returns {Number|BaseMixin}\n       */\n      minHeight (minHeight) {\n          if (!arguments.length) {\n              return this._minHeight;\n          }\n          this._minHeight = minHeight;\n          return this;\n      }\n\n      /**\n       * Turn on/off using the SVG\n       * {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox `viewBox` attribute}.\n       * When enabled, `viewBox` will be set on the svg root element instead of `width` and `height`.\n       * Requires that the chart aspect ratio be defined using chart.width(w) and chart.height(h).\n       *\n       * This will maintain the aspect ratio while enabling the chart to resize responsively to the\n       * space given to the chart using CSS. For example, the chart can use `width: 100%; height:\n       * 100%` or absolute positioning to resize to its parent div.\n       *\n       * Since the text will be sized as if the chart is drawn according to the width and height, and\n       * will be resized if the chart is any other size, you need to set the chart width and height so\n       * that the text looks good. In practice, 600x400 seems to work pretty well for most charts.\n       *\n       * You can see examples of this resizing strategy in the [Chart Resizing\n       * Examples](http://dc-js.github.io/dc.js/resizing/); just add `?resize=viewbox` to any of the\n       * one-chart examples to enable `useViewBoxResizing`.\n       * @param {Boolean} [useViewBoxResizing=false]\n       * @returns {Boolean|BaseMixin}\n       */\n      useViewBoxResizing (useViewBoxResizing) {\n          if (!arguments.length) {\n              return this._useViewBoxResizing;\n          }\n          this._useViewBoxResizing = useViewBoxResizing;\n          return this;\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Set or get the dimension attribute of a chart. In `dc`, a dimension can be any valid\n       * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension crossfilter dimension}\n       *\n       * If a value is given, then it will be used as the new dimension. If no value is specified then\n       * the current dimension will be returned.\n       * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension crossfilter.dimension}\n       * @example\n       * var index = crossfilter([]);\n       * var dimension = index.dimension(pluck('key'));\n       * chart.dimension(dimension);\n       * @param {crossfilter.dimension} [dimension]\n       * @returns {crossfilter.dimension|BaseMixin}\n       */\n      dimension (dimension) {\n          if (!arguments.length) {\n              return this._dimension;\n          }\n          this._dimension = dimension;\n          this.expireCache();\n          return this;\n      }\n\n      /**\n       * Set the data callback or retrieve the chart's data set. The data callback is passed the chart's\n       * group and by default will return\n       * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_all group.all}.\n       * This behavior may be modified to, for instance, return only the top 5 groups.\n       * @example\n       * // Default data function\n       * chart.data(function (group) { return group.all(); });\n       *\n       * chart.data(function (group) { return group.top(5); });\n       * @param {Function} [callback]\n       * @returns {*|BaseMixin}\n       */\n      data (callback) {\n          if (!arguments.length) {\n              return this._data(this._group);\n          }\n          this._data = typeof callback === 'function' ? callback : utils.constant(callback);\n          this.expireCache();\n          return this;\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Set or get the group attribute of a chart. In `dc` a group is a\n       * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter group}.\n       * Usually the group should be created from the particular dimension associated with the same chart. If a value is\n       * given, then it will be used as the new group.\n       *\n       * If no value specified then the current group will be returned.\n       * If `name` is specified then it will be used to generate legend label.\n       * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter.group}\n       * @example\n       * var index = crossfilter([]);\n       * var dimension = index.dimension(pluck('key'));\n       * chart.dimension(dimension);\n       * chart.group(dimension.group().reduceSum());\n       * @param {crossfilter.group} [group]\n       * @param {String} [name]\n       * @returns {crossfilter.group|BaseMixin}\n       */\n      group (group, name) {\n          if (!arguments.length) {\n              return this._group;\n          }\n          this._group = group;\n          this._groupName = name;\n          this.expireCache();\n          return this;\n      }\n\n      /**\n       * Get or set an accessor to order ordinal dimensions.  The chart uses\n       * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort Array.sort}\n       * to sort elements; this accessor returns the value to order on.\n       * @example\n       * // Default ordering accessor\n       * _chart.ordering(pluck('key'));\n       * @param {Function} [orderFunction]\n       * @returns {Function|BaseMixin}\n       */\n      ordering (orderFunction) {\n          if (!arguments.length) {\n              return this._ordering;\n          }\n          this._ordering = orderFunction;\n          this.expireCache();\n          return this;\n      }\n\n      _computeOrderedGroups (data) {\n          // clone the array before sorting, otherwise Array.sort sorts in-place\n          return Array.from(data).sort((a, b) => d3Array.ascending(this._ordering(a), this._ordering(b)));\n      }\n\n      /**\n       * Clear all filters associated with this chart. The same effect can be achieved by calling\n       * {@link BaseMixin#filter chart.filter(null)}.\n       * @returns {BaseMixin}\n       */\n      filterAll () {\n          return this.filter(null);\n      }\n\n      /**\n       * Execute d3 single selection in the chart's scope using the given selector and return the d3\n       * selection.\n       *\n       * This function is **not chainable** since it does not return a chart instance; however the d3\n       * selection result can be chained to d3 function calls.\n       * @see {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3.select}\n       * @example\n       * // Has the same effect as d3.select('#chart-id').select(selector)\n       * chart.select(selector)\n       * @param {String} sel CSS selector string\n       * @returns {d3.selection}\n       */\n      select (sel) {\n          return this._root.select(sel);\n      }\n\n      /**\n       * Execute in scope d3 selectAll using the given selector and return d3 selection result.\n       *\n       * This function is **not chainable** since it does not return a chart instance; however the d3\n       * selection result can be chained to d3 function calls.\n       * @see {@link https://github.com/d3/d3-selection/blob/master/README.md#selectAll d3.selectAll}\n       * @example\n       * // Has the same effect as d3.select('#chart-id').selectAll(selector)\n       * chart.selectAll(selector)\n       * @param {String} sel CSS selector string\n       * @returns {d3.selection}\n       */\n      selectAll (sel) {\n          return this._root ? this._root.selectAll(sel) : null;\n      }\n\n      /**\n       * Set the root SVGElement to either be an existing chart's root; or any valid [d3 single\n       * selector](https://github.com/d3/d3-selection/blob/master/README.md#selecting-elements) specifying a dom\n       * block element such as a div; or a dom element or d3 selection. Optionally registers the chart\n       * within the chartGroup. This class is called internally on chart initialization, but be called\n       * again to relocate the chart. However, it will orphan any previously created SVGElements.\n       * @param {anchorChart|anchorSelector|anchorNode} [parent]\n       * @param {String} [chartGroup]\n       * @returns {String|node|d3.selection|BaseMixin}\n       */\n      anchor (parent, chartGroup) {\n          if (!arguments.length) {\n              return this._anchor;\n          }\n          if (instanceOfChart(parent)) {\n              this._anchor = parent.anchor();\n              if (this._anchor.children) { // is _anchor a div?\n                  this._anchor = `#${parent.anchorName()}`;\n              }\n              this._root = parent.root();\n              this._isChild = true;\n          } else if (parent) {\n              if (parent.select && parent.classed) { // detect d3 selection\n                  this._anchor = parent.node();\n              } else {\n                  this._anchor = parent;\n              }\n              this._root = d3Selection.select(this._anchor);\n              this._root.classed(constants.CHART_CLASS, true);\n              registerChart(this, chartGroup);\n              this._isChild = false;\n          } else {\n              throw new BadArgumentException('parent must be defined');\n          }\n          this._chartGroup = chartGroup;\n          return this;\n      }\n\n      /**\n       * Returns the DOM id for the chart's anchored location.\n       * @returns {String}\n       */\n      anchorName () {\n          const a = this.anchor();\n          if (a && a.id) {\n              return a.id;\n          }\n          if (a && a.replace) {\n              return a.replace('#', '');\n          }\n          return `dc-chart${this.chartID()}`;\n      }\n\n      /**\n       * Returns the root element where a chart resides. Usually it will be the parent div element where\n       * the SVGElement was created. You can also pass in a new root element however this is usually handled by\n       * dc internally. Resetting the root element on a chart outside of dc internals may have\n       * unexpected consequences.\n       * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement HTMLElement}\n       * @param {HTMLElement} [rootElement]\n       * @returns {HTMLElement|BaseMixin}\n       */\n      root (rootElement) {\n          if (!arguments.length) {\n              return this._root;\n          }\n          this._root = rootElement;\n          return this;\n      }\n\n      /**\n       * Returns the top SVGElement for this specific chart. You can also pass in a new SVGElement,\n       * however this is usually handled by dc internally. Resetting the SVGElement on a chart outside\n       * of dc internals may have unexpected consequences.\n       * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n       * @param {SVGElement|d3.selection} [svgElement]\n       * @returns {SVGElement|d3.selection|BaseMixin}\n       */\n      svg (svgElement) {\n          if (!arguments.length) {\n              return this._svg;\n          }\n          this._svg = svgElement;\n          return this;\n      }\n\n      /**\n       * Remove the chart's SVGElements from the dom and recreate the container SVGElement.\n       * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n       * @returns {SVGElement}\n       */\n      resetSvg () {\n          this.select('svg').remove();\n          return this.generateSvg();\n      }\n\n      sizeSvg () {\n          if (this._svg) {\n              if (!this._useViewBoxResizing) {\n                  this._svg\n                      .attr('width', this.width())\n                      .attr('height', this.height());\n              } else if (!this._svg.attr('viewBox')) {\n                  this._svg\n                      .attr('viewBox', `0 0 ${this.width()} ${this.height()}`);\n              }\n          }\n      }\n\n      generateSvg () {\n          this._svg = this.root().append('svg');\n      \n          if (this._svgDescription || this._keyboardAccessible) {\n\n              this._svg.append('desc')\n                  .attr('id', `desc-id-${this.__dcFlag__}`)\n                  .html(`${this.svgDescription()}`);\n\n              this._svg\n                  .attr('tabindex', '0')\n                  .attr('role', 'img')\n                  .attr('aria-labelledby', `desc-id-${this.__dcFlag__}`);\n          }\n\n          this.sizeSvg();\n          return this._svg;\n      }\n\n      /**\n       * Set or get description text for the entire SVG graphic. If set, will create a `<desc>` element as the first\n       * child of the SVG with the description text and also make the SVG focusable from keyboard.\n       * @param {String} [description]\n       * @returns {String|BaseMixin}\n       */\n      svgDescription (description) {\n          if (!arguments.length) {\n              return this._svgDescription || this.constructor.name;\n          }\n\n          this._svgDescription = description;\n          return this;\n      }\n\n      /**\n       * If set, interactive chart elements like individual bars in a bar chart or symbols in a scatter plot\n       * will be focusable from keyboard and on pressing Enter or Space will behave as if clicked on.\n       * \n       * If `svgDescription` has not been explicitly set, will also set SVG description text to the class\n       * constructor name, like BarChart or HeatMap, and make the entire SVG focusable.\n       * @param {Boolean} [keyboardAccessible=false]\n       * @returns {Boolean|BarChart}\n       */\n      keyboardAccessible (keyboardAccessible) {\n          if (!arguments.length) {\n              return this._keyboardAccessible;\n          }\n          this._keyboardAccessible = keyboardAccessible;\n          return this;\n      }\n\n      /**\n       * Set or get the filter printer function. The filter printer function is used to generate human\n       * friendly text for filter value(s) associated with the chart instance. The text will get shown\n       * in the `.filter element; see {@link BaseMixin#turnOnControls turnOnControls}.\n       *\n       * By default dc charts use a default filter printer {@link printers.filters printers.filters}\n       * that provides simple printing support for both single value and ranged filters.\n       * @example\n       * // for a chart with an ordinal brush, print the filters in upper case\n       * chart.filterPrinter(function(filters) {\n       *   return filters.map(function(f) { return f.toUpperCase(); }).join(', ');\n       * });\n       * // for a chart with a range brush, print the filter as start and extent\n       * chart.filterPrinter(function(filters) {\n       *   return 'start ' + utils.printSingleValue(filters[0][0]) +\n       *     ' extent ' + utils.printSingleValue(filters[0][1] - filters[0][0]);\n       * });\n       * @param {Function} [filterPrinterFunction=printers.filters]\n       * @returns {Function|BaseMixin}\n       */\n      filterPrinter (filterPrinterFunction) {\n          if (!arguments.length) {\n              return this._filterPrinter;\n          }\n          this._filterPrinter = filterPrinterFunction;\n          return this;\n      }\n\n      /**\n       * If set, use the `visibility` attribute instead of the `display` attribute for showing/hiding\n       * chart reset and filter controls, for less disruption to the layout.\n       * @param {Boolean} [controlsUseVisibility=false]\n       * @returns {Boolean|BaseMixin}\n       */\n      controlsUseVisibility (controlsUseVisibility) {\n          if (!arguments.length) {\n              return this._controlsUseVisibility;\n          }\n          this._controlsUseVisibility = controlsUseVisibility;\n          return this;\n      }\n\n      /**\n       * Turn on optional control elements within the root element. dc currently supports the\n       * following html control elements.\n       * * root.selectAll('.reset') - elements are turned on if the chart has an active filter. This type\n       * of control element is usually used to store a reset link to allow user to reset filter on a\n       * certain chart. This element will be turned off automatically if the filter is cleared.\n       * * root.selectAll('.filter') elements are turned on if the chart has an active filter. The text\n       * content of this element is then replaced with the current filter value using the filter printer\n       * function. This type of element will be turned off automatically if the filter is cleared.\n       * @returns {BaseMixin}\n       */\n      turnOnControls () {\n          if (this._root) {\n              const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n              this.selectAll('.reset').style(attribute, null);\n              this.selectAll('.filter').text(this._filterPrinter(this.filters())).style(attribute, null);\n          }\n          return this;\n      }\n\n      /**\n       * Turn off optional control elements within the root element.\n       * @see {@link BaseMixin#turnOnControls turnOnControls}\n       * @returns {BaseMixin}\n       */\n      turnOffControls () {\n          if (this._root) {\n              const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n              const value = this.controlsUseVisibility() ? 'hidden' : 'none';\n              this.selectAll('.reset').style(attribute, value);\n              this.selectAll('.filter').style(attribute, value).text(this.filter());\n          }\n          return this;\n      }\n\n      /**\n       * Set or get the animation transition duration (in milliseconds) for this chart instance.\n       * @param {Number} [duration=750]\n       * @returns {Number|BaseMixin}\n       */\n      transitionDuration (duration) {\n          if (!arguments.length) {\n              return this._transitionDuration;\n          }\n          this._transitionDuration = duration;\n          return this;\n      }\n\n      /**\n       * Set or get the animation transition delay (in milliseconds) for this chart instance.\n       * @param {Number} [delay=0]\n       * @returns {Number|BaseMixin}\n       */\n      transitionDelay (delay) {\n          if (!arguments.length) {\n              return this._transitionDelay;\n          }\n          this._transitionDelay = delay;\n          return this;\n      }\n\n      _mandatoryAttributes (_) {\n          if (!arguments.length) {\n              return this._mandatoryAttributesList;\n          }\n          this._mandatoryAttributesList = _;\n          return this;\n      }\n\n      checkForMandatoryAttributes (a) {\n          if (!this[a] || !this[a]()) {\n              throw new InvalidStateException(`Mandatory attribute chart.${a} is missing on chart[#${this.anchorName()}]`);\n          }\n      }\n\n      /**\n       * Invoking this method will force the chart to re-render everything from scratch. Generally it\n       * should only be used to render the chart for the first time on the page or if you want to make\n       * sure everything is redrawn from scratch instead of relying on the default incremental redrawing\n       * behaviour.\n       * @returns {BaseMixin}\n       */\n      render () {\n          this._height = this._width = undefined; // force recalculate\n          this._listeners.call('preRender', this, this);\n\n          if (this._mandatoryAttributesList) {\n              this._mandatoryAttributesList.forEach(e => this.checkForMandatoryAttributes(e));\n          }\n\n          const result = this._doRender();\n\n          if (this._legend) {\n              this._legend.render();\n          }\n\n          this._activateRenderlets('postRender');\n\n          return result;\n      }\n\n      _makeKeyboardAccessible (onClickFunction, ...onClickArgs) {\n          // called from each chart module's render and redraw methods\n          const tabElements = this._svg\n              .selectAll('.dc-tabbable')\n              .attr('tabindex', 0);\n                  \n          if (onClickFunction) {\n              tabElements.on('keydown', d3compat.eventHandler((d, event) => {\n                  // trigger only if d is an object undestood by KeyAccessor()\n                  if (event.keyCode === 13 && typeof d === 'object') {\n                      onClickFunction.call(this, d, ...onClickArgs);\n                  } \n                  // special case for space key press - prevent scrolling\n                  if (event.keyCode === 32 && typeof d === 'object') {\n                      onClickFunction.call(this, d, ...onClickArgs);\n                      event.preventDefault();                \n                  }\n              \n              }));\n          }\n      }\n\n      _activateRenderlets (event) {\n          this._listeners.call('pretransition', this, this);\n          if (this.transitionDuration() > 0 && this._svg) {\n              this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay())\n                  .on('end', () => {\n                      this._listeners.call('renderlet', this, this);\n                      if (event) {\n                          this._listeners.call(event, this, this);\n                      }\n                  });\n          } else {\n              this._listeners.call('renderlet', this, this);\n              if (event) {\n                  this._listeners.call(event, this, this);\n              }\n          }\n      }\n\n      /**\n       * Calling redraw will cause the chart to re-render data changes incrementally. If there is no\n       * change in the underlying data dimension then calling this method will have no effect on the\n       * chart. Most chart interaction in dc will automatically trigger this method through internal\n       * events (in particular {@link redrawAll redrawAll}); therefore, you only need to\n       * manually invoke this function if data is manipulated outside of dc's control (for example if\n       * data is loaded in the background using\n       * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_add crossfilter.add}).\n       * @returns {BaseMixin}\n       */\n      redraw () {\n          this.sizeSvg();\n          this._listeners.call('preRedraw', this, this);\n\n          const result = this._doRedraw();\n\n          if (this._legend) {\n              this._legend.render();\n          }\n\n          this._activateRenderlets('postRedraw');\n\n          return result;\n      }\n\n      /**\n       * Gets/sets the commit handler. If the chart has a commit handler, the handler will be called when\n       * the chart's filters have changed, in order to send the filter data asynchronously to a server.\n       *\n       * Unlike other functions in dc.js, the commit handler is asynchronous. It takes two arguments:\n       * a flag indicating whether this is a render (true) or a redraw (false), and a callback to be\n       * triggered once the commit is done. The callback has the standard node.js continuation signature\n       * with error first and result second.\n       * @param {Function} commitHandler\n       * @returns {BaseMixin}\n       */\n      commitHandler (commitHandler) {\n          if (!arguments.length) {\n              return this._commitHandler;\n          }\n          this._commitHandler = commitHandler;\n          return this;\n      }\n\n      /**\n       * Redraws all charts in the same group as this chart, typically in reaction to a filter\n       * change. If the chart has a {@link BaseMixin.commitFilter commitHandler}, it will\n       * be executed and waited for.\n       * @returns {BaseMixin}\n       */\n      redrawGroup () {\n          if (this._commitHandler) {\n              this._commitHandler(false, (error, result) => {\n                  if (error) {\n                      console.log(error);\n                  } else {\n                      redrawAll(this.chartGroup());\n                  }\n              });\n          } else {\n              redrawAll(this.chartGroup());\n          }\n          return this;\n      }\n\n      /**\n       * Renders all charts in the same group as this chart. If the chart has a\n       * {@link BaseMixin.commitFilter commitHandler}, it will be executed and waited for\n       * @returns {BaseMixin}\n       */\n      renderGroup () {\n          if (this._commitHandler) {\n              this._commitHandler(false, (error, result) => {\n                  if (error) {\n                      console.log(error);\n                  } else {\n                      renderAll(this.chartGroup());\n                  }\n              });\n          } else {\n              renderAll(this.chartGroup());\n          }\n          return this;\n      }\n\n      _invokeFilteredListener (f) {\n          if (f !== undefined) {\n              this._listeners.call('filtered', this, this, f);\n          }\n      }\n\n      _invokeZoomedListener () {\n          this._listeners.call('zoomed', this, this);\n      }\n\n      /**\n       * Set or get the has-filter handler. The has-filter handler is a function that checks to see if\n       * the chart's current filters (first argument) include a specific filter (second argument).  Using a custom has-filter handler allows\n       * you to change the way filters are checked for and replaced.\n       * @example\n       * // default has-filter handler\n       * chart.hasFilterHandler(function (filters, filter) {\n       *     if (filter === null || typeof(filter) === 'undefined') {\n       *         return filters.length > 0;\n       *     }\n       *     return filters.some(function (f) {\n       *         return filter <= f && filter >= f;\n       *     });\n       * });\n       *\n       * // custom filter handler (no-op)\n       * chart.hasFilterHandler(function(filters, filter) {\n       *     return false;\n       * });\n       * @param {Function} [hasFilterHandler]\n       * @returns {Function|BaseMixin}\n       */\n      hasFilterHandler (hasFilterHandler) {\n          if (!arguments.length) {\n              return this._hasFilterHandler;\n          }\n          this._hasFilterHandler = hasFilterHandler;\n          return this;\n      }\n\n      /**\n       * Check whether any active filter or a specific filter is associated with particular chart instance.\n       * This function is **not chainable**.\n       * @see {@link BaseMixin#hasFilterHandler hasFilterHandler}\n       * @param {*} [filter]\n       * @returns {Boolean}\n       */\n      hasFilter (filter) {\n          return this._hasFilterHandler(this._filters, filter);\n      }\n\n      /**\n       * Set or get the remove filter handler. The remove filter handler is a function that removes a\n       * filter from the chart's current filters. Using a custom remove filter handler allows you to\n       * change how filters are removed or perform additional work when removing a filter, e.g. when\n       * using a filter server other than crossfilter.\n       *\n       * The handler should return a new or modified array as the result.\n       * @example\n       * // default remove filter handler\n       * chart.removeFilterHandler(function (filters, filter) {\n       *     for (var i = 0; i < filters.length; i++) {\n       *         if (filters[i] <= filter && filters[i] >= filter) {\n       *             filters.splice(i, 1);\n       *             break;\n       *         }\n       *     }\n       *     return filters;\n       * });\n       *\n       * // custom filter handler (no-op)\n       * chart.removeFilterHandler(function(filters, filter) {\n       *     return filters;\n       * });\n       * @param {Function} [removeFilterHandler]\n       * @returns {Function|BaseMixin}\n       */\n      removeFilterHandler (removeFilterHandler) {\n          if (!arguments.length) {\n              return this._removeFilterHandler;\n          }\n          this._removeFilterHandler = removeFilterHandler;\n          return this;\n      }\n\n      /**\n       * Set or get the add filter handler. The add filter handler is a function that adds a filter to\n       * the chart's filter list. Using a custom add filter handler allows you to change the way filters\n       * are added or perform additional work when adding a filter, e.g. when using a filter server other\n       * than crossfilter.\n       *\n       * The handler should return a new or modified array as the result.\n       * @example\n       * // default add filter handler\n       * chart.addFilterHandler(function (filters, filter) {\n       *     filters.push(filter);\n       *     return filters;\n       * });\n       *\n       * // custom filter handler (no-op)\n       * chart.addFilterHandler(function(filters, filter) {\n       *     return filters;\n       * });\n       * @param {Function} [addFilterHandler]\n       * @returns {Function|BaseMixin}\n       */\n      addFilterHandler (addFilterHandler) {\n          if (!arguments.length) {\n              return this._addFilterHandler;\n          }\n          this._addFilterHandler = addFilterHandler;\n          return this;\n      }\n\n      /**\n       * Set or get the reset filter handler. The reset filter handler is a function that resets the\n       * chart's filter list by returning a new list. Using a custom reset filter handler allows you to\n       * change the way filters are reset, or perform additional work when resetting the filters,\n       * e.g. when using a filter server other than crossfilter.\n       *\n       * The handler should return a new or modified array as the result.\n       * @example\n       * // default remove filter handler\n       * function (filters) {\n       *     return [];\n       * }\n       *\n       * // custom filter handler (no-op)\n       * chart.resetFilterHandler(function(filters) {\n       *     return filters;\n       * });\n       * @param {Function} [resetFilterHandler]\n       * @returns {BaseMixin}\n       */\n      resetFilterHandler (resetFilterHandler) {\n          if (!arguments.length) {\n              return this._resetFilterHandler;\n          }\n          this._resetFilterHandler = resetFilterHandler;\n          return this;\n      }\n\n      applyFilters (filters) {\n          if (this.dimension() && this.dimension().filter) {\n              const fs = this._filterHandler(this.dimension(), filters);\n              if (fs) {\n                  filters = fs;\n              }\n          }\n          return filters;\n      }\n\n      /**\n       * Replace the chart filter. This is equivalent to calling `chart.filter(null).filter(filter)`\n       * but more efficient because the filter is only applied once.\n       *\n       * @param {*} [filter]\n       * @returns {BaseMixin}\n       */\n      replaceFilter (filter) {\n          this._filters = this._resetFilterHandler(this._filters);\n          this.filter(filter);\n          return this;\n      }\n\n      /**\n       * Filter the chart by the given parameter, or return the current filter if no input parameter\n       * is given.\n       *\n       * The filter parameter can take one of these forms:\n       * * A single value: the value will be toggled (added if it is not present in the current\n       * filters, removed if it is present)\n       * * An array containing a single array of values (`[[value,value,value]]`): each value is\n       * toggled\n       * * When appropriate for the chart, a {@link filters dc filter object} such as\n       *   * {@link filters.RangedFilter `filters.RangedFilter`} for the\n       * {@link CoordinateGridMixin CoordinateGridMixin} charts\n       *   * {@link filters.TwoDimensionalFilter `filters.TwoDimensionalFilter`} for the\n       * {@link HeatMap heat map}\n       *   * {@link filters.RangedTwoDimensionalFilter `filters.RangedTwoDimensionalFilter`}\n       * for the {@link ScatterPlot scatter plot}\n       * * `null`: the filter will be reset using the\n       * {@link BaseMixin#resetFilterHandler resetFilterHandler}\n       *\n       * Note that this is always a toggle (even when it doesn't make sense for the filter type). If\n       * you wish to replace the current filter, either call `chart.filter(null)` first - or it's more\n       * efficient to call {@link BaseMixin#replaceFilter `chart.replaceFilter(filter)`} instead.\n       *\n       * Each toggle is executed by checking if the value is already present using the\n       * {@link BaseMixin#hasFilterHandler hasFilterHandler}; if it is not present, it is added\n       * using the {@link BaseMixin#addFilterHandler addFilterHandler}; if it is already present,\n       * it is removed using the {@link BaseMixin#removeFilterHandler removeFilterHandler}.\n       *\n       * Once the filters array has been updated, the filters are applied to the\n       * crossfilter dimension, using the {@link BaseMixin#filterHandler filterHandler}.\n       *\n       * Once you have set the filters, call {@link BaseMixin#redrawGroup `chart.redrawGroup()`}\n       * (or {@link redrawAll `redrawAll()`}) to redraw the chart's group.\n       * @see {@link BaseMixin#addFilterHandler addFilterHandler}\n       * @see {@link BaseMixin#removeFilterHandler removeFilterHandler}\n       * @see {@link BaseMixin#resetFilterHandler resetFilterHandler}\n       * @see {@link BaseMixin#filterHandler filterHandler}\n       * @example\n       * // filter by a single string\n       * chart.filter('Sunday');\n       * // filter by a single age\n       * chart.filter(18);\n       * // filter by a set of states\n       * chart.filter([['MA', 'TX', 'ND', 'WA']]);\n       * // filter by range -- note the use of filters.RangedFilter, which is different\n       * // from the syntax for filtering a crossfilter dimension directly, dimension.filter([15,20])\n       * chart.filter(filters.RangedFilter(15,20));\n       * @param {*} [filter]\n       * @returns {BaseMixin}\n       */\n      filter (filter) {\n          if (!arguments.length) {\n              return this._filters.length > 0 ? this._filters[0] : null;\n          }\n          let filters = this._filters;\n          if (filter instanceof Array && filter[0] instanceof Array && !filter.isFiltered) {\n              // toggle each filter\n              filter[0].forEach(f => {\n                  if (this._hasFilterHandler(filters, f)) {\n                      filters = this._removeFilterHandler(filters, f);\n                  } else {\n                      filters = this._addFilterHandler(filters, f);\n                  }\n              });\n          } else if (filter === null) {\n              filters = this._resetFilterHandler(filters);\n          } else {\n              if (this._hasFilterHandler(filters, filter)) {\n                  filters = this._removeFilterHandler(filters, filter);\n              } else {\n                  filters = this._addFilterHandler(filters, filter);\n              }\n          }\n          this._filters = this.applyFilters(filters);\n          this._invokeFilteredListener(filter);\n\n          if (this._root !== null && this.hasFilter()) {\n              this.turnOnControls();\n          } else {\n              this.turnOffControls();\n          }\n\n          return this;\n      }\n\n      /**\n       * Returns all current filters. This method does not perform defensive cloning of the internal\n       * filter array before returning, therefore any modification of the returned array will effect the\n       * chart's internal filter storage.\n       * @returns {Array<*>}\n       */\n      filters () {\n          return this._filters;\n      }\n\n      highlightSelected (e) {\n          d3Selection.select(e).classed(constants.SELECTED_CLASS, true);\n          d3Selection.select(e).classed(constants.DESELECTED_CLASS, false);\n      }\n\n      fadeDeselected (e) {\n          d3Selection.select(e).classed(constants.SELECTED_CLASS, false);\n          d3Selection.select(e).classed(constants.DESELECTED_CLASS, true);\n      }\n\n      resetHighlight (e) {\n          d3Selection.select(e).classed(constants.SELECTED_CLASS, false);\n          d3Selection.select(e).classed(constants.DESELECTED_CLASS, false);\n      }\n\n      /**\n       * This function is passed to d3 as the onClick handler for each chart. The default behavior is to\n       * filter on the clicked datum (passed to the callback) and redraw the chart group.\n       *\n       * This function can be replaced in order to change the click behavior (but first look at\n       * @example\n       * var oldHandler = chart.onClick;\n       * chart.onClick = function(datum) {\n       *   // use datum.\n       * @param {*} datum\n       * @return {undefined}\n       */\n      onClick (datum) {\n          const filter = this.keyAccessor()(datum);\n          events.trigger(() => {\n              this.filter(filter);\n              this.redrawGroup();\n          });\n      }\n\n      /**\n       * Set or get the filter handler. The filter handler is a function that performs the filter action\n       * on a specific dimension. Using a custom filter handler allows you to perform additional logic\n       * before or after filtering.\n       * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter crossfilter.dimension.filter}\n       * @example\n       * // the default filter handler handles all possible cases for the charts in dc.js\n       * // you can replace it with something more specialized for your own chart\n       * chart.filterHandler(function (dimension, filters) {\n       *     if (filters.length === 0) {\n       *         // the empty case (no filtering)\n       *         dimension.filter(null);\n       *     } else if (filters.length === 1 && !filters[0].isFiltered) {\n       *         // single value and not a function-based filter\n       *         dimension.filterExact(filters[0]);\n       *     } else if (filters.length === 1 && filters[0].filterType === 'RangedFilter') {\n       *         // single range-based filter\n       *         dimension.filterRange(filters[0]);\n       *     } else {\n       *         // an array of values, or an array of filter objects\n       *         dimension.filterFunction(function (d) {\n       *             for (var i = 0; i < filters.length; i++) {\n       *                 var filter = filters[i];\n       *                 if (filter.isFiltered && filter.isFiltered(d)) {\n       *                     return true;\n       *                 } else if (filter <= d && filter >= d) {\n       *                     return true;\n       *                 }\n       *             }\n       *             return false;\n       *         });\n       *     }\n       *     return filters;\n       * });\n       *\n       * // custom filter handler\n       * chart.filterHandler(function(dimension, filter){\n       *     var newFilter = filter + 10;\n       *     dimension.filter(newFilter);\n       *     return newFilter; // set the actual filter value to the new value\n       * });\n       * @param {Function} [filterHandler]\n       * @returns {Function|BaseMixin}\n       */\n      filterHandler (filterHandler) {\n          if (!arguments.length) {\n              return this._filterHandler;\n          }\n          this._filterHandler = filterHandler;\n          return this;\n      }\n\n      // abstract function stub\n      _doRender () {\n          // do nothing in base, should be overridden by sub-function\n          return this;\n      }\n\n      _doRedraw () {\n          // do nothing in base, should be overridden by sub-function\n          return this;\n      }\n\n      legendables () {\n          // do nothing in base, should be overridden by sub-function\n          return [];\n      }\n\n      legendHighlight () {\n          // do nothing in base, should be overridden by sub-function\n      }\n\n      legendReset () {\n          // do nothing in base, should be overridden by sub-function\n      }\n\n      legendToggle () {\n          // do nothing in base, should be overriden by sub-function\n      }\n\n      isLegendableHidden () {\n          // do nothing in base, should be overridden by sub-function\n          return false;\n      }\n\n      /**\n       * Set or get the key accessor function. The key accessor function is used to retrieve the key\n       * value from the crossfilter group. Key values are used differently in different charts, for\n       * example keys correspond to slices in a pie chart and x axis positions in a grid coordinate chart.\n       * @example\n       * // default key accessor\n       * chart.keyAccessor(function(d) { return d.key; });\n       * // custom key accessor for a multi-value crossfilter reduction\n       * chart.keyAccessor(function(p) { return p.value.absGain; });\n       * @param {Function} [keyAccessor]\n       * @returns {Function|BaseMixin}\n       */\n      keyAccessor (keyAccessor) {\n          if (!arguments.length) {\n              return this._keyAccessor;\n          }\n          this._keyAccessor = keyAccessor;\n          return this;\n      }\n\n      /**\n       * Set or get the value accessor function. The value accessor function is used to retrieve the\n       * value from the crossfilter group. Group values are used differently in different charts, for\n       * example values correspond to slice sizes in a pie chart and y axis positions in a grid\n       * coordinate chart.\n       * @example\n       * // default value accessor\n       * chart.valueAccessor(function(d) { return d.value; });\n       * // custom value accessor for a multi-value crossfilter reduction\n       * chart.valueAccessor(function(p) { return p.value.percentageGain; });\n       * @param {Function} [valueAccessor]\n       * @returns {Function|BaseMixin}\n       */\n      valueAccessor (valueAccessor) {\n          if (!arguments.length) {\n              return this._valueAccessor;\n          }\n          this._valueAccessor = valueAccessor;\n          return this;\n      }\n\n      /**\n       * Set or get the label function. The chart class will use this function to render labels for each\n       * child element in the chart, e.g. slices in a pie chart or bubbles in a bubble chart. Not every\n       * chart supports the label function, for example line chart does not use this function\n       * at all. By default, enables labels; pass false for the second parameter if this is not desired.\n       * @example\n       * // default label function just return the key\n       * chart.label(function(d) { return d.key; });\n       * // label function has access to the standard d3 data binding and can get quite complicated\n       * chart.label(function(d) { return d.data.key + '(' + Math.floor(d.data.value / all.value() * 100) + '%)'; });\n       * @param {Function} [labelFunction]\n       * @param {Boolean} [enableLabels=true]\n       * @returns {Function|BaseMixin}\n       */\n      label (labelFunction, enableLabels) {\n          if (!arguments.length) {\n              return this._label;\n          }\n          this._label = labelFunction;\n          if ((enableLabels === undefined) || enableLabels) {\n              this._renderLabel = true;\n          }\n          return this;\n      }\n\n      /**\n       * Turn on/off label rendering\n       * @param {Boolean} [renderLabel=false]\n       * @returns {Boolean|BaseMixin}\n       */\n      renderLabel (renderLabel) {\n          if (!arguments.length) {\n              return this._renderLabel;\n          }\n          this._renderLabel = renderLabel;\n          return this;\n      }\n\n      /**\n       * Set or get the title function. The chart class will use this function to render the SVGElement title\n       * (usually interpreted by browser as tooltips) for each child element in the chart, e.g. a slice\n       * in a pie chart or a bubble in a bubble chart. Almost every chart supports the title function;\n       * however in grid coordinate charts you need to turn off the brush in order to see titles, because\n       * otherwise the brush layer will block tooltip triggering.\n       * @example\n       * // default title function shows \"key: value\"\n       * chart.title(function(d) { return d.key + ': ' + d.value; });\n       * // title function has access to the standard d3 data binding and can get quite complicated\n       * chart.title(function(p) {\n       *    return p.key.getFullYear()\n       *        + '\\n'\n       *        + 'Index Gain: ' + numberFormat(p.value.absGain) + '\\n'\n       *        + 'Index Gain in Percentage: ' + numberFormat(p.value.percentageGain) + '%\\n'\n       *        + 'Fluctuation / Index Ratio: ' + numberFormat(p.value.fluctuationPercentage) + '%';\n       * });\n       * @param {Function} [titleFunction]\n       * @returns {Function|BaseMixin}\n       */\n      title (titleFunction) {\n          if (!arguments.length) {\n              return this._title;\n          }\n          this._title = titleFunction;\n          return this;\n      }\n\n      /**\n       * Turn on/off title rendering, or return the state of the render title flag if no arguments are\n       * given.\n       * @param {Boolean} [renderTitle=true]\n       * @returns {Boolean|BaseMixin}\n       */\n      renderTitle (renderTitle) {\n          if (!arguments.length) {\n              return this._renderTitle;\n          }\n          this._renderTitle = renderTitle;\n          return this;\n      }\n\n      /**\n       * Get or set the chart group to which this chart belongs. Chart groups are rendered or redrawn\n       * together since it is expected they share the same underlying crossfilter data set.\n       * @param {String} [chartGroup]\n       * @returns {String|BaseMixin}\n       */\n      chartGroup (chartGroup) {\n          if (!arguments.length) {\n              return this._chartGroup;\n          }\n          if (!this._isChild) {\n              deregisterChart(this, this._chartGroup);\n          }\n          this._chartGroup = chartGroup;\n          if (!this._isChild) {\n              registerChart(this, this._chartGroup);\n          }\n          return this;\n      }\n\n      /**\n       * Expire the internal chart cache. dc charts cache some data internally on a per chart basis to\n       * speed up rendering and avoid unnecessary calculation; however it might be useful to clear the\n       * cache if you have changed state which will affect rendering.  For example, if you invoke\n       * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_add crossfilter.add}\n       * function or reset group or dimension after rendering, it is a good idea to\n       * clear the cache to make sure charts are rendered properly.\n       * @returns {BaseMixin}\n       */\n      expireCache () {\n          // do nothing in base, should be overridden by sub-function\n          return this;\n      }\n\n      /**\n       * Attach a Legend widget to this chart. The legend widget will automatically draw legend labels\n       * based on the color setting and names associated with each group.\n       * @example\n       * chart.legend(new Legend().x(400).y(10).itemHeight(13).gap(5))\n       * @param {Legend} [legend]\n       * @returns {Legend|BaseMixin}\n       */\n      legend (legend) {\n          if (!arguments.length) {\n              return this._legend;\n          }\n          this._legend = legend;\n          this._legend.parent(this);\n          return this;\n      }\n\n      /**\n       * Returns the internal numeric ID of the chart.\n       * @returns {String}\n       */\n      chartID () {\n          return this.__dcFlag__;\n      }\n\n      /**\n       * Set chart options using a configuration object. Each key in the object will cause the method of\n       * the same name to be called with the value to set that attribute for the chart.\n       * @example\n       * chart.options({dimension: myDimension, group: myGroup});\n       * @param {{}} opts\n       * @returns {BaseMixin}\n       */\n      options (opts) {\n          const applyOptions = [\n              'anchor',\n              'group',\n              'xAxisLabel',\n              'yAxisLabel',\n              'stack',\n              'title',\n              'point',\n              'getColor',\n              'overlayGeoJson'\n          ];\n\n          for (const o in opts) {\n              if (typeof (this[o]) === 'function') {\n                  if (opts[o] instanceof Array && applyOptions.indexOf(o) !== -1) {\n                      this[o].apply(this, opts[o]);\n                  } else {\n                      this[o].call(this, opts[o]);\n                  }\n              } else {\n                  logger.debug(`Not a valid option setter name: ${o}`);\n              }\n          }\n          return this;\n      }\n\n      /**\n       * All dc chart instance supports the following listeners.\n       * Supports the following events:\n       * * `renderlet` - This listener function will be invoked after transitions after redraw and render. Replaces the\n       * deprecated {@link BaseMixin#renderlet renderlet} method.\n       * * `pretransition` - Like `.on('renderlet', ...)` but the event is fired before transitions start.\n       * * `preRender` - This listener function will be invoked before chart rendering.\n       * * `postRender` - This listener function will be invoked after chart finish rendering including\n       * all renderlets' logic.\n       * * `preRedraw` - This listener function will be invoked before chart redrawing.\n       * * `postRedraw` - This listener function will be invoked after chart finish redrawing\n       * including all renderlets' logic.\n       * * `filtered` - This listener function will be invoked after a filter is applied, added or removed.\n       * * `zoomed` - This listener function will be invoked after a zoom is triggered.\n       * @see {@link https://github.com/d3/d3-dispatch/blob/master/README.md#dispatch_on d3.dispatch.on}\n       * @example\n       * .on('renderlet', function(chart, filter){...})\n       * .on('pretransition', function(chart, filter){...})\n       * .on('preRender', function(chart){...})\n       * .on('postRender', function(chart){...})\n       * .on('preRedraw', function(chart){...})\n       * .on('postRedraw', function(chart){...})\n       * .on('filtered', function(chart, filter){...})\n       * .on('zoomed', function(chart, filter){...})\n       * @param {String} event\n       * @param {Function} listener\n       * @returns {BaseMixin}\n       */\n      on (event, listener) {\n          this._listeners.on(event, listener);\n          return this;\n      }\n\n      /**\n       * A renderlet is similar to an event listener on rendering event. Multiple renderlets can be added\n       * to an individual chart.  Each time a chart is rerendered or redrawn the renderlets are invoked\n       * right after the chart finishes its transitions, giving you a way to modify the SVGElements.\n       * Renderlet functions take the chart instance as the only input parameter and you can\n       * use the dc API or use raw d3 to achieve pretty much any effect.\n       *\n       * Use {@link BaseMixin#on on} with a 'renderlet' prefix.\n       * Generates a random key for the renderlet, which makes it hard to remove.\n       * @deprecated chart.renderlet has been deprecated. Please use chart.on(\"renderlet.<renderletKey>\", renderletFunction)\n       * @example\n       * // do this instead of .renderlet(function(chart) { ... })\n       * chart.on(\"renderlet\", function(chart){\n       *     // mix of dc API and d3 manipulation\n       *     chart.select('g.y').style('display', 'none');\n       *     // its a closure so you can also access other chart variable available in the closure scope\n       *     moveChart.filter(chart.filter());\n       * });\n       * @param {Function} renderletFunction\n       * @returns {BaseMixin}\n       */\n      renderlet (renderletFunction) {\n          logger.warnOnce('chart.renderlet has been deprecated. Please use chart.on(\"renderlet.<renderletKey>\", renderletFunction)');\n          this.on(`renderlet.${utils.uniqueId()}`, renderletFunction);\n          return this;\n      }\n  }\n\n  const baseMixin = () => new BaseMixin();\n\n  /**\n   * The Color Mixin is an abstract chart functional class providing universal coloring support\n   * as a mix-in for any concrete chart implementation.\n   * @mixin ColorMixin\n   * @param {Object} Base\n   * @returns {ColorMixin}\n   */\n  const ColorMixin = Base => class extends Base {\n      constructor () {\n          super();\n\n          this._colors = d3Scale.scaleOrdinal(config.defaultColors());\n\n          this._colorAccessor = d => this.keyAccessor()(d);\n          this._colorCalculator = undefined;\n\n          {\n              const chart = this;\n              // ES6: this method is called very differently from stack-mixin and derived charts\n              // Removing and placing it as a member method is tricky\n\n              /**\n                   * Get the color for the datum d and counter i. This is used internally by charts to retrieve a color.\n                   * @method getColor\n                   * @memberof ColorMixin\n                   * @instance\n                   * @param {*} d\n                   * @param {Number} [i]\n                   * @returns {String}\n                   */\n              chart.getColor = function (d, i) {\n                  return chart._colorCalculator ?\n                      chart._colorCalculator.call(this, d, i) :\n                      chart._colors(chart._colorAccessor.call(this, d, i));\n              };\n          }\n      }\n\n      /**\n           * Set the domain by determining the min and max values as retrieved by\n           * {@link ColorMixin#colorAccessor .colorAccessor} over the chart's dataset.\n           * @memberof ColorMixin\n           * @instance\n           * @returns {ColorMixin}\n           */\n      calculateColorDomain () {\n          const newDomain = [d3Array.min(this.data(), this.colorAccessor()),\n                             d3Array.max(this.data(), this.colorAccessor())];\n          this._colors.domain(newDomain);\n          return this;\n      }\n\n      /**\n           * Retrieve current color scale or set a new color scale. This methods accepts any function that\n           * operates like a d3 scale.\n           * @memberof ColorMixin\n           * @instance\n           * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n           * @example\n           * // alternate categorical scale\n           * chart.colors(d3.scale.category20b());\n           * // ordinal scale\n           * chart.colors(d3.scaleOrdinal().range(['red','green','blue']));\n           * // convenience method, the same as above\n           * chart.ordinalColors(['red','green','blue']);\n           * // set a linear scale\n           * chart.linearColors([\"#4575b4\", \"#ffffbf\", \"#a50026\"]);\n           * @param {d3.scale} [colorScale=d3.scaleOrdinal(d3.schemeCategory20c)]\n           * @returns {d3.scale|ColorMixin}\n           */\n      colors (colorScale) {\n          if (!arguments.length) {\n              return this._colors;\n          }\n          if (colorScale instanceof Array) {\n              this._colors = d3Scale.scaleQuantize().range(colorScale); // deprecated legacy support, note: this fails for ordinal domains\n          } else {\n              this._colors = typeof colorScale === 'function' ? colorScale : utils.constant(colorScale);\n          }\n          return this;\n      }\n\n      /**\n           * Convenience method to set the color scale to\n           * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales d3.scaleOrdinal} with\n           * range `r`.\n           * @memberof ColorMixin\n           * @instance\n           * @param {Array<String>} r\n           * @returns {ColorMixin}\n           */\n      ordinalColors (r) {\n          return this.colors(d3Scale.scaleOrdinal().range(r));\n      }\n\n      /**\n           * Convenience method to set the color scale to an Hcl interpolated linear scale with range `r`.\n           * @memberof ColorMixin\n           * @instance\n           * @param {Array<Number>} r\n           * @returns {ColorMixin}\n           */\n      linearColors (r) {\n          return this.colors(d3Scale.scaleLinear()\n                  .range(r)\n                  .interpolate(d3Interpolate.interpolateHcl));\n      }\n\n      /**\n           * Set or the get color accessor function. This function will be used to map a data point in a\n           * crossfilter group to a color value on the color scale. The default function uses the key\n           * accessor.\n           * @memberof ColorMixin\n           * @instance\n           * @example\n           * // default index based color accessor\n           * .colorAccessor(function (d, i){return i;})\n           * // color accessor for a multi-value crossfilter reduction\n           * .colorAccessor(function (d){return d.value.absGain;})\n           * @param {Function} [colorAccessor]\n           * @returns {Function|ColorMixin}\n           */\n      colorAccessor (colorAccessor) {\n          if (!arguments.length) {\n              return this._colorAccessor;\n          }\n          this._colorAccessor = colorAccessor;\n          return this;\n      }\n\n      /**\n           * Set or get the current domain for the color mapping function. The domain must be supplied as an\n           * array.\n           *\n           * Note: previously this method accepted a callback function. Instead you may use a custom scale\n           * set by {@link ColorMixin#colors .colors}.\n           * @memberof ColorMixin\n           * @instance\n           * @param {Array<String>} [domain]\n           * @returns {Array<String>|ColorMixin}\n           */\n      colorDomain (domain) {\n          if (!arguments.length) {\n              return this._colors.domain();\n          }\n          this._colors.domain(domain);\n          return this;\n      }\n\n      /**\n           * Overrides the color selection algorithm, replacing it with a simple function.\n           *\n           * Normally colors will be determined by calling the `colorAccessor` to get a value, and then passing that\n           * value through the `colorScale`.\n           *\n           * But sometimes it is difficult to get a color scale to produce the desired effect. The `colorCalculator`\n           * takes the datum and index and returns a color directly.\n           * @memberof ColorMixin\n           * @instance\n           * @param {*} [colorCalculator]\n           * @returns {Function|ColorMixin}\n           */\n      colorCalculator (colorCalculator) {\n          if (!arguments.length) {\n              return this._colorCalculator || this.getColor;\n          }\n          this._colorCalculator = colorCalculator;\n          return this;\n      }\n  };\n\n  /**\n   * This Mixin provides reusable functionalities for any chart that needs to visualize data using bubbles.\n   * @mixin BubbleMixin\n   * @mixes ColorMixin\n   * @param {Object} Base\n   * @returns {BubbleMixin}\n   */\n  const BubbleMixin = Base => class extends ColorMixin(Base) {\n      constructor () {\n          super();\n\n          this._maxBubbleRelativeSize = 0.3;\n          this._minRadiusWithLabel = 10;\n          this._sortBubbleSize = false;\n          this._elasticRadius = false;\n          this._excludeElasticZero = true;\n\n          // These cane be used by derived classes as well, so member status\n          this.BUBBLE_NODE_CLASS = 'node';\n          this.BUBBLE_CLASS = 'bubble';\n          this.MIN_RADIUS = 10;\n\n          this.renderLabel(true);\n\n          this.data(group => {\n              const data = group.all();\n\n              if (this._keyboardAccessible) {\n                  // sort based on the x value (key)\n                  data.sort((a, b) => d3Array.ascending(this.keyAccessor()(a), this.keyAccessor()(b)));\n              }\n\n              if (this._sortBubbleSize) {\n                  // sort descending so smaller bubbles are on top\n                  const radiusAccessor = this.radiusValueAccessor();\n                  data.sort((a, b) => d3Array.descending(radiusAccessor(a), radiusAccessor(b)));\n              }\n              return data;\n          });\n\n          this._r = d3Scale.scaleLinear().domain([0, 100]);\n      }\n\n      _rValueAccessor (d) {\n          return d.r;\n      }\n\n      /**\n           * Get or set the bubble radius scale. By default the bubble chart uses\n           * {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleLinear d3.scaleLinear().domain([0, 100])}\n           * as its radius scale.\n           * @memberof BubbleMixin\n           * @instance\n           * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n           * @param {d3.scale} [bubbleRadiusScale=d3.scaleLinear().domain([0, 100])]\n           * @returns {d3.scale|BubbleMixin}\n           */\n      r (bubbleRadiusScale) {\n          if (!arguments.length) {\n              return this._r;\n          }\n          this._r = bubbleRadiusScale;\n          return this;\n      }\n\n      /**\n           * Turn on or off the elastic bubble radius feature, or return the value of the flag. If this\n           * feature is turned on, then bubble radii will be automatically rescaled to fit the chart better.\n           * @memberof BubbleMixin\n           * @instance\n           * @param {Boolean} [elasticRadius=false]\n           * @returns {Boolean|BubbleChart}\n           */\n      elasticRadius (elasticRadius) {\n          if (!arguments.length) {\n              return this._elasticRadius;\n          }\n          this._elasticRadius = elasticRadius;\n          return this;\n      }\n\n      calculateRadiusDomain () {\n          if (this._elasticRadius) {\n              this.r().domain([this.rMin(), this.rMax()]);\n          }\n      }\n\n      /**\n           * Get or set the radius value accessor function. If set, the radius value accessor function will\n           * be used to retrieve a data value for each bubble. The data retrieved then will be mapped using\n           * the r scale to the actual bubble radius. This allows you to encode a data dimension using bubble\n           * size.\n           * @memberof BubbleMixin\n           * @instance\n           * @param {Function} [radiusValueAccessor]\n           * @returns {Function|BubbleMixin}\n           */\n      radiusValueAccessor (radiusValueAccessor) {\n          if (!arguments.length) {\n              return this._rValueAccessor;\n          }\n          this._rValueAccessor = radiusValueAccessor;\n          return this;\n      }\n\n      rMin () {\n          let values = this.data().map(this.radiusValueAccessor());\n          if(this._excludeElasticZero) {\n              values = values.filter(value => value > 0);\n          }\n          return d3Array.min(values);\n      }\n\n      rMax () {\n          return d3Array.max(this.data(), e => this.radiusValueAccessor()(e));\n      }\n\n      bubbleR (d) {\n          const value = this.radiusValueAccessor()(d);\n          let r = this.r()(value);\n          if (isNaN(r) || value <= 0) {\n              r = 0;\n          }\n          return r;\n      }\n\n      _labelFunction (d) {\n          return this.label()(d);\n      }\n\n      _shouldLabel (d) {\n          return (this.bubbleR(d) > this._minRadiusWithLabel);\n      }\n\n      _labelOpacity (d) {\n          return this._shouldLabel(d) ? 1 : 0;\n      }\n\n      _labelPointerEvent (d) {\n          return this._shouldLabel(d) ? 'all' : 'none';\n      }\n\n      _doRenderLabel (bubbleGEnter) {\n          if (this.renderLabel()) {\n              let label = bubbleGEnter.select('text');\n\n              if (label.empty()) {\n                  label = bubbleGEnter.append('text')\n                          .attr('text-anchor', 'middle')\n                          .attr('dy', '.3em')\n                          .on('click', d3compat.eventHandler(d => this.onClick(d)));\n              }\n\n              label\n                      .attr('opacity', 0)\n                      .attr('pointer-events', d => this._labelPointerEvent(d))\n                      .text(d => this._labelFunction(d));\n              transition(label, this.transitionDuration(), this.transitionDelay())\n                      .attr('opacity', d => this._labelOpacity(d));\n          }\n      }\n\n      doUpdateLabels (bubbleGEnter) {\n          if (this.renderLabel()) {\n              const labels = bubbleGEnter.select('text')\n                      .attr('pointer-events', d => this._labelPointerEvent(d))\n                      .text(d => this._labelFunction(d));\n              transition(labels, this.transitionDuration(), this.transitionDelay())\n                      .attr('opacity', d => this._labelOpacity(d));\n          }\n      }\n\n      _titleFunction (d) {\n          return this.title()(d);\n      }\n\n      _doRenderTitles (g) {\n          if (this.renderTitle()) {\n              const title = g.select('title');\n\n              if (title.empty()) {\n                  g.append('title').text(d => this._titleFunction(d));\n              }\n          }\n      }\n\n      doUpdateTitles (g) {\n          if (this.renderTitle()) {\n              g.select('title').text(d => this._titleFunction(d));\n          }\n      }\n\n      /**\n           * Turn on or off the bubble sorting feature, or return the value of the flag. If enabled,\n           * bubbles will be sorted by their radius, with smaller bubbles in front.\n           * @memberof BubbleChart\n           * @instance\n           * @param {Boolean} [sortBubbleSize=false]\n           * @returns {Boolean|BubbleChart}\n           */\n      sortBubbleSize (sortBubbleSize) {\n          if (!arguments.length) {\n              return this._sortBubbleSize;\n          }\n          this._sortBubbleSize = sortBubbleSize;\n          return this;\n      }\n\n      /**\n           * Get or set the minimum radius. This will be used to initialize the radius scale's range.\n           * @memberof BubbleMixin\n           * @instance\n           * @param {Number} [radius=10]\n           * @returns {Number|BubbleMixin}\n           */\n      minRadius (radius) {\n          if (!arguments.length) {\n              return this.MIN_RADIUS;\n          }\n          this.MIN_RADIUS = radius;\n          return this;\n      }\n\n      /**\n           * Get or set the minimum radius for label rendering. If a bubble's radius is less than this value\n           * then no label will be rendered.\n           * @memberof BubbleMixin\n           * @instance\n           * @param {Number} [radius=10]\n           * @returns {Number|BubbleMixin}\n           */\n\n      minRadiusWithLabel (radius) {\n          if (!arguments.length) {\n              return this._minRadiusWithLabel;\n          }\n          this._minRadiusWithLabel = radius;\n          return this;\n      }\n\n      /**\n           * Get or set the maximum relative size of a bubble to the length of x axis. This value is useful\n           * when the difference in radius between bubbles is too great.\n           * @memberof BubbleMixin\n           * @instance\n           * @param {Number} [relativeSize=0.3]\n           * @returns {Number|BubbleMixin}\n           */\n      maxBubbleRelativeSize (relativeSize) {\n          if (!arguments.length) {\n              return this._maxBubbleRelativeSize;\n          }\n          this._maxBubbleRelativeSize = relativeSize;\n          return this;\n      }\n\n      /**\n       * Should the chart exclude zero when calculating elastic bubble radius?\n       * @memberof BubbleMixin\n       * @instance\n       * @param  {Boolean} [excludeZero=true]\n       * @returns {Boolean|BubbleMixin}\n       */\n      excludeElasticZero (excludeZero) {\n          if (!arguments.length) {\n              return this._excludeElasticZero;\n          }\n          this._excludeElasticZero = excludeZero;\n          return this;\n      }\n\n      fadeDeselectedArea (selection) {\n          if (this.hasFilter()) {\n              const chart = this;\n              this.selectAll(`g.${chart.BUBBLE_NODE_CLASS}`).each(function (d) {\n                  if (chart.isSelectedNode(d)) {\n                      chart.highlightSelected(this);\n                  } else {\n                      chart.fadeDeselected(this);\n                  }\n              });\n          } else {\n              const chart = this;\n              this.selectAll(`g.${chart.BUBBLE_NODE_CLASS}`).each(function () {\n                  chart.resetHighlight(this);\n              });\n          }\n      }\n\n      isSelectedNode (d) {\n          return this.hasFilter(d.key);\n      }\n\n      onClick (d) {\n          const filter = d.key;\n          events.trigger(() => {\n              this.filter(filter);\n              this.redrawGroup();\n          });\n      }\n  };\n\n  /**\n   * Cap is a mixin that groups small data elements below a _cap_ into an *others* grouping for both the\n   * Row and Pie Charts.\n   *\n   * The top ordered elements in the group up to the cap amount will be kept in the chart, and the rest\n   * will be replaced with an *others* element, with value equal to the sum of the replaced values. The\n   * keys of the elements below the cap limit are recorded in order to filter by those keys when the\n   * others* element is clicked.\n   * @mixin CapMixin\n   * @param {Object} Base\n   * @returns {CapMixin}\n   */\n  const CapMixin = Base => class extends Base {\n      constructor () {\n          super();\n\n          this._cap = Infinity;\n          this._takeFront = true;\n          this._othersLabel = 'Others';\n\n          this._othersGrouper = (topItems, restItems) => {\n              const restItemsSum = d3Array.sum(restItems, this.valueAccessor()),\n                  restKeys = restItems.map(this.keyAccessor());\n              if (restItemsSum > 0) {\n                  return topItems.concat([{\n                      others: restKeys,\n                      key: this.othersLabel(),\n                      value: restItemsSum\n                  }]);\n              }\n              return topItems;\n          };\n\n          // emulate old group.top(N) ordering\n          this.ordering(kv => -kv.value);\n\n          // return N \"top\" groups, where N is the cap, sorted by baseMixin.ordering\n          // whether top means front or back depends on takeFront\n          this.data(group => {\n              if (this._cap === Infinity) {\n                  return this._computeOrderedGroups(group.all());\n              } else {\n                  let items = group.all(), rest;\n                  items = this._computeOrderedGroups(items); // sort by baseMixin.ordering\n\n                  if (this._cap) {\n                      if (this._takeFront) {\n                          rest = items.slice(this._cap);\n                          items = items.slice(0, this._cap);\n                      } else {\n                          const start = Math.max(0, items.length - this._cap);\n                          rest = items.slice(0, start);\n                          items = items.slice(start);\n                      }\n                  }\n\n                  if (this._othersGrouper) {\n                      return this._othersGrouper(items, rest);\n                  }\n                  return items;\n              }\n          });\n      }\n\n      cappedKeyAccessor (d, i) {\n          if (d.others) {\n              return d.key;\n          }\n          return this.keyAccessor()(d, i);\n      }\n\n      cappedValueAccessor (d, i) {\n          if (d.others) {\n              return d.value;\n          }\n          return this.valueAccessor()(d, i);\n      }\n\n      /**\n           * Get or set the count of elements to that will be included in the cap. If there is an\n           * {@link CapMixin#othersGrouper othersGrouper}, any further elements will be combined in an\n           * extra element with its name determined by {@link CapMixin#othersLabel othersLabel}.\n           *\n           * As of dc.js 2.1 and onward, the capped charts use\n           * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_all group.all()}\n           * and {@link BaseMixin#ordering BaseMixin.ordering()} to determine the order of\n           * elements. Then `cap` and {@link CapMixin#takeFront takeFront} determine how many elements\n           * to keep, from which end of the resulting array.\n           *\n           * **Migration note:** Up through dc.js 2.0.*, capping used\n           * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_top group.top(N)},\n           * which selects the largest items according to\n           * {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group_order group.order()}.\n           * The chart then sorted the items according to {@link BaseMixin#ordering baseMixin.ordering()}.\n           * So the two values essentially had to agree, but if the `group.order()` was incorrect (it's\n           * easy to forget about), the wrong rows or slices would be displayed, in the correct order.\n           *\n           * If your chart previously relied on `group.order()`, use `chart.ordering()` instead. As of\n           * 2.1.5, the ordering defaults to sorting from greatest to least like `group.top(N)` did.\n           *\n           * If you want to cap by one ordering but sort by another, you can still do this by\n           * specifying your own {@link BaseMixin#data `.data()`} callback. For details, see the example\n           * {@link https://dc-js.github.io/dc.js/examples/cap-and-sort-differently.html Cap and Sort Differently}.\n           * @memberof CapMixin\n           * @instance\n           * @param {Number} [count=Infinity]\n           * @returns {Number|CapMixin}\n           */\n      cap (count) {\n          if (!arguments.length) {\n              return this._cap;\n          }\n          this._cap = count;\n          return this;\n      }\n\n      /**\n           * Get or set the direction of capping. If set, the chart takes the first\n           * {@link CapMixin#cap cap} elements from the sorted array of elements; otherwise\n           * it takes the last `cap` elements.\n           * @memberof CapMixin\n           * @instance\n           * @param {Boolean} [takeFront=true]\n           * @returns {Boolean|CapMixin}\n           */\n      takeFront (takeFront) {\n          if (!arguments.length) {\n              return this._takeFront;\n          }\n          this._takeFront = takeFront;\n          return this;\n      }\n\n      /**\n           * Get or set the label for *Others* slice when slices cap is specified.\n           * @memberof CapMixin\n           * @instance\n           * @param {String} [label=\"Others\"]\n           * @returns {String|CapMixin}\n           */\n      othersLabel (label) {\n          if (!arguments.length) {\n              return this._othersLabel;\n          }\n          this._othersLabel = label;\n          return this;\n      }\n\n      /**\n           * Get or set the grouper function that will perform the insertion of data for the *Others* slice\n           * if the slices cap is specified. If set to a falsy value, no others will be added.\n           *\n           * The grouper function takes an array of included (\"top\") items, and an array of the rest of\n           * the items. By default the grouper function computes the sum of the rest.\n           * @memberof CapMixin\n           * @instance\n           * @example\n           * // Do not show others\n           * chart.othersGrouper(null);\n           * // Default others grouper\n           * chart.othersGrouper(function (topItems, restItems) {\n           *     var restItemsSum = d3.sum(restItems, _chart.valueAccessor()),\n           *         restKeys = restItems.map(_chart.keyAccessor());\n           *     if (restItemsSum > 0) {\n           *         return topItems.concat([{\n           *             others: restKeys,\n           *             key: _chart.othersLabel(),\n           *             value: restItemsSum\n           *         }]);\n           *     }\n           *     return topItems;\n           * });\n           * @param {Function} [grouperFunction]\n           * @returns {Function|CapMixin}\n           */\n      othersGrouper (grouperFunction) {\n          if (!arguments.length) {\n              return this._othersGrouper;\n          }\n          this._othersGrouper = grouperFunction;\n          return this;\n      }\n\n      onClick (d) {\n          if (d.others) {\n              this.filter([d.others]);\n          }\n          super.onClick(d);\n      }\n  };\n\n  /**\n   * Margin is a mixin that provides margin utility functions for both the Row Chart and Coordinate Grid\n   * Charts.\n   * @mixin MarginMixin\n   * @param {Object} Base\n   * @returns {MarginMixin}\n   */\n  class MarginMixin extends BaseMixin {\n      constructor () {\n          super();\n\n          this._margin = {top: 10, right: 50, bottom: 30, left: 30};\n      }\n\n      /**\n       * Get or set the margins for a particular coordinate grid chart instance. The margins is stored as\n       * an associative Javascript array.\n       * @memberof MarginMixin\n       * @instance\n       * @example\n       * var leftMargin = chart.margins().left; // 30 by default\n       * chart.margins().left = 50;\n       * leftMargin = chart.margins().left; // now 50\n       * @param {{top: Number, right: Number, left: Number, bottom: Number}} [margins={top: 10, right: 50, bottom: 30, left: 30}]\n       * @returns {{top: Number, right: Number, left: Number, bottom: Number}|MarginMixin}\n       */\n      margins (margins) {\n          if (!arguments.length) {\n              return this._margin;\n          }\n          this._margin = margins;\n          return this;\n      }\n\n      /**\n       * Effective width of the chart excluding margins (in pixels).\n       *\n       * @returns {number}\n       */\n      effectiveWidth () {\n          return this.width() - this.margins().left - this.margins().right;\n      }\n\n      /**\n       * Effective height of the chart excluding margins (in pixels).\n       *\n       * @returns {number}\n       */\n      effectiveHeight () {\n          return this.height() - this.margins().top - this.margins().bottom;\n      }\n  }\n\n  const GRID_LINE_CLASS = 'grid-line';\n  const HORIZONTAL_CLASS = 'horizontal';\n  const VERTICAL_CLASS = 'vertical';\n  const Y_AXIS_LABEL_CLASS = 'y-axis-label';\n  const X_AXIS_LABEL_CLASS = 'x-axis-label';\n  const CUSTOM_BRUSH_HANDLE_CLASS = 'custom-brush-handle';\n  const DEFAULT_AXIS_LABEL_PADDING = 12;\n\n  /**\n   * Coordinate Grid is an abstract base chart designed to support a number of coordinate grid based\n   * concrete chart types, e.g. bar chart, line chart, and bubble chart.\n   * @mixin CoordinateGridMixin\n   * @mixes ColorMixin\n   * @mixes MarginMixin\n   */\n  class CoordinateGridMixin extends ColorMixin(MarginMixin) {\n      constructor () {\n          super();\n\n          this.colors(d3Scale.scaleOrdinal(d3ScaleChromatic.schemeCategory10));\n          this._mandatoryAttributes().push('x');\n          this._parent = undefined;\n          this._g = undefined;\n          this._chartBodyG = undefined;\n\n          this._x = undefined;\n          this._origX = undefined; // Will hold original scale in case of zoom\n          this._xOriginalDomain = undefined;\n          this._xAxis = null;\n          this._xUnits = units.integers;\n          this._xAxisPadding = 0;\n          this._xAxisPaddingUnit = d3Time.timeDay;\n          this._xElasticity = false;\n          this._xAxisLabel = undefined;\n          this._xAxisLabelPadding = 0;\n          this._lastXDomain = undefined;\n\n          this._y = undefined;\n          this._yAxis = null;\n          this._yAxisPadding = 0;\n          this._yElasticity = false;\n          this._yAxisLabel = undefined;\n          this._yAxisLabelPadding = 0;\n\n          this._brush = d3Brush.brushX();\n\n          this._gBrush = undefined;\n          this._brushOn = true;\n          this._parentBrushOn = false;\n          this._round = undefined;\n          this._ignoreBrushEvents = false; // ignore when carrying out programmatic brush operations\n\n          this._renderHorizontalGridLine = false;\n          this._renderVerticalGridLine = false;\n\n          this._resizing = false;\n          this._unitCount = undefined;\n\n          this._zoomScale = [1, Infinity];\n          this._zoomOutRestrict = true;\n\n          this._zoom = d3Zoom.zoom().on('zoom', d3compat.eventHandler((d, evt) => this._onZoom(evt)));\n          this._nullZoom = d3Zoom.zoom().on('zoom', null);\n          this._hasBeenMouseZoomable = false;\n          this._ignoreZoomEvents = false; // ignore when carrying out programmatic zoom operations\n\n          this._rangeChart = undefined;\n          this._focusChart = undefined;\n\n          this._mouseZoomable = false;\n          this._clipPadding = 0;\n\n          this._fOuterRangeBandPadding = 0.5;\n          this._fRangeBandPadding = 0;\n\n          this._useRightYAxis = false;\n          this._useTopXAxis = false;\n      }\n\n      /**\n       * When changing the domain of the x or y scale, it is necessary to tell the chart to recalculate\n       * and redraw the axes. (`.rescale()` is called automatically when the x or y scale is replaced\n       * with {@link CoordinateGridMixin+x .x()} or {@link CoordinateGridMixin#y .y()}, and has\n       * no effect on elastic scales.)\n       * @returns {CoordinateGridMixin}\n       */\n      rescale () {\n          this._unitCount = undefined;\n          this._resizing = true;\n          return this;\n      }\n\n      resizing (resizing) {\n          if (!arguments.length) {\n              return this._resizing;\n          }\n          this._resizing = resizing;\n          return this;\n      }\n\n      /**\n       * Get or set the range selection chart associated with this instance. Setting the range selection\n       * chart using this function will automatically update its selection brush when the current chart\n       * zooms in. In return the given range chart will also automatically attach this chart as its focus\n       * chart hence zoom in when range brush updates.\n       *\n       * Usually the range and focus charts will share a dimension. The range chart will set the zoom\n       * boundaries for the focus chart, so its dimension values must be compatible with the domain of\n       * the focus chart.\n       *\n       * See the [Nasdaq 100 Index](http://dc-js.github.com/dc.js/) example for this effect in action.\n       * @param {CoordinateGridMixin} [rangeChart]\n       * @returns {CoordinateGridMixin}\n       */\n      rangeChart (rangeChart) {\n          if (!arguments.length) {\n              return this._rangeChart;\n          }\n          this._rangeChart = rangeChart;\n          this._rangeChart.focusChart(this);\n          return this;\n      }\n\n      /**\n       * Get or set the scale extent for mouse zooms.\n       * @param {Array<Number|Date>} [extent=[1, Infinity]]\n       * @returns {Array<Number|Date>|CoordinateGridMixin}\n       */\n      zoomScale (extent) {\n          if (!arguments.length) {\n              return this._zoomScale;\n          }\n          this._zoomScale = extent;\n          return this;\n      }\n\n      /**\n       * Get or set the zoom restriction for the chart. If true limits the zoom to origional domain of the chart.\n       * @param {Boolean} [zoomOutRestrict=true]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      zoomOutRestrict (zoomOutRestrict) {\n          if (!arguments.length) {\n              return this._zoomOutRestrict;\n          }\n          this._zoomOutRestrict = zoomOutRestrict;\n          return this;\n      }\n\n      _generateG (parent) {\n          if (parent === undefined) {\n              this._parent = this.svg();\n          } else {\n              this._parent = parent;\n          }\n\n          const href = window.location.href.split('#')[0];\n\n          this._g = this._parent.append('g');\n\n          this._chartBodyG = this._g.append('g').attr('class', 'chart-body')\n              .attr('transform', `translate(${this.margins().left}, ${this.margins().top})`)\n              .attr('clip-path', `url(${href}#${this._getClipPathId()})`);\n\n          return this._g;\n      }\n\n      /**\n       * Get or set the root g element. This method is usually used to retrieve the g element in order to\n       * overlay custom svg drawing programatically. **Caution**: The root g element is usually generated\n       * by dc.js internals, and resetting it might produce unpredictable result.\n       * @param {SVGElement} [gElement]\n       * @returns {SVGElement|CoordinateGridMixin}\n       */\n      g (gElement) {\n          if (!arguments.length) {\n              return this._g;\n          }\n          this._g = gElement;\n          return this;\n      }\n\n      /**\n       * Set or get mouse zoom capability flag (default: false). When turned on the chart will be\n       * zoomable using the mouse wheel. If the range selector chart is attached zooming will also update\n       * the range selection brush on the associated range selector chart.\n       * @param {Boolean} [mouseZoomable=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      mouseZoomable (mouseZoomable) {\n          if (!arguments.length) {\n              return this._mouseZoomable;\n          }\n          this._mouseZoomable = mouseZoomable;\n          return this;\n      }\n\n      /**\n       * Retrieve the svg group for the chart body.\n       * @param {SVGElement} [chartBodyG]\n       * @returns {SVGElement}\n       */\n      chartBodyG (chartBodyG) {\n          if (!arguments.length) {\n              return this._chartBodyG;\n          }\n          this._chartBodyG = chartBodyG;\n          return this;\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Get or set the x scale. The x scale can be any d3\n       * {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale} or\n       * {@link https://github.com/d3/d3-scale/blob/master/README.md#ordinal-scales ordinal scale}\n       * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n       * @example\n       * // set x to a linear scale\n       * chart.x(d3.scaleLinear().domain([-2500, 2500]))\n       * // set x to a time scale to generate histogram\n       * chart.x(d3.scaleTime().domain([new Date(1985, 0, 1), new Date(2012, 11, 31)]))\n       * @param {d3.scale} [xScale]\n       * @returns {d3.scale|CoordinateGridMixin}\n       */\n      x (xScale) {\n          if (!arguments.length) {\n              return this._x;\n          }\n          this._x = xScale;\n          this._xOriginalDomain = this._x.domain();\n          this.rescale();\n          return this;\n      }\n\n      xOriginalDomain () {\n          return this._xOriginalDomain;\n      }\n\n      /**\n       * Set or get the xUnits function. The coordinate grid chart uses the xUnits function to calculate\n       * the number of data projections on the x axis such as the number of bars for a bar chart or the\n       * number of dots for a line chart.\n       *\n       * This function is expected to return a Javascript array of all data points on the x axis, or\n       * the number of points on the axis. d3 time range functions [d3.timeDays, d3.timeMonths, and\n       * d3.timeYears](https://github.com/d3/d3-time/blob/master/README.md#intervals) are all valid\n       * xUnits functions.\n       *\n       * dc.js also provides a few units function, see the {@link units Units Namespace} for\n       * a list of built-in units functions.\n       *\n       * Note that as of dc.js 3.0, `units.ordinal` is not a real function, because it is not\n       * possible to define this function compliant with the d3 range functions. It was already a\n       * magic value which caused charts to behave differently, and now it is completely so.\n       * @example\n       * // set x units to count days\n       * chart.xUnits(d3.timeDays);\n       * // set x units to count months\n       * chart.xUnits(d3.timeMonths);\n       *\n       * // A custom xUnits function can be used as long as it follows the following interface:\n       * // units in integer\n       * function(start, end) {\n       *      // simply calculates how many integers in the domain\n       *      return Math.abs(end - start);\n       * }\n       *\n       * // fixed units\n       * function(start, end) {\n       *      // be aware using fixed units will disable the focus/zoom ability on the chart\n       *      return 1000;\n       * }\n       * @param {Function} [xUnits=units.integers]\n       * @returns {Function|CoordinateGridMixin}\n       */\n      xUnits (xUnits) {\n          if (!arguments.length) {\n              return this._xUnits;\n          }\n          this._xUnits = xUnits;\n          return this;\n      }\n\n      /**\n       * Set or get the x axis used by a particular coordinate grid chart instance. This function is most\n       * useful when x axis customization is required. The x axis in dc.js is an instance of a\n       * {@link https://github.com/d3/d3-axis/blob/master/README.md#axisBottom d3 bottom axis object};\n       * therefore it supports any valid d3 axisBottom manipulation.\n       *\n       * **Caution**: The x axis is usually generated internally by dc; resetting it may cause\n       * unexpected results. Note also that when used as a getter, this function is not chainable:\n       * it returns the axis, not the chart,\n       * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n           * so attempting to call chart functions after calling `.xAxis()` will fail}.\n       * @see {@link https://github.com/d3/d3-axis/blob/master/README.md#axisBottom d3.axisBottom}\n       * @example\n       * // customize x axis tick format\n       * chart.xAxis().tickFormat(function(v) {return v + '%';});\n       * // customize x axis tick values\n       * chart.xAxis().tickValues([0, 100, 200, 300]);\n       * @param {d3.axis} [xAxis=d3.axisBottom()]\n       * @returns {d3.axis|CoordinateGridMixin}\n       */\n      xAxis (xAxis) {\n          if (!arguments.length) {\n              if (!this._xAxis) {\n                  this._xAxis = this._createXAxis();\n              }\n              return this._xAxis;\n          }\n          this._xAxis = xAxis;\n          return this;\n      }\n\n      /**\n       * Turn on/off elastic x axis behavior. If x axis elasticity is turned on, then the grid chart will\n       * attempt to recalculate the x axis range whenever a redraw event is triggered.\n       * @param {Boolean} [elasticX=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      elasticX (elasticX) {\n          if (!arguments.length) {\n              return this._xElasticity;\n          }\n          this._xElasticity = elasticX;\n          return this;\n      }\n\n      /**\n       * Set or get x axis padding for the elastic x axis. The padding will be added to both end of the x\n       * axis if elasticX is turned on; otherwise it is ignored.\n       *\n       * Padding can be an integer or percentage in string (e.g. '10%'). Padding can be applied to\n       * number or date x axes.  When padding a date axis, an integer represents number of units being padded\n       * and a percentage string will be treated the same as an integer. The unit will be determined by the\n       * xAxisPaddingUnit variable.\n       * @param {Number|String} [padding=0]\n       * @returns {Number|String|CoordinateGridMixin}\n       */\n      xAxisPadding (padding) {\n          if (!arguments.length) {\n              return this._xAxisPadding;\n          }\n          this._xAxisPadding = padding;\n          return this;\n      }\n\n      /**\n       * Set or get x axis padding unit for the elastic x axis. The padding unit will determine which unit to\n       * use when applying xAxis padding if elasticX is turned on and if x-axis uses a time dimension;\n       * otherwise it is ignored.\n       *\n       * The padding unit should be a\n       * [d3 time interval](https://github.com/d3/d3-time/blob/master/README.md#self._interval).\n       * For backward compatibility with dc.js 2.0, it can also be the name of a d3 time interval\n       * ('day', 'hour', etc). Available arguments are the\n       * [d3 time intervals](https://github.com/d3/d3-time/blob/master/README.md#intervals d3.timeInterval).\n       * @param {String} [unit=d3.timeDay]\n       * @returns {String|CoordinateGridMixin}\n       */\n      xAxisPaddingUnit (unit) {\n          if (!arguments.length) {\n              return this._xAxisPaddingUnit;\n          }\n          this._xAxisPaddingUnit = unit;\n          return this;\n      }\n\n      /**\n       * Returns the number of units displayed on the x axis. If the x axis is ordinal (`xUnits` is\n       * `units.ordinal`), this is the number of items in the domain of the x scale. Otherwise, the\n       * x unit count is calculated using the {@link CoordinateGridMixin#xUnits xUnits} function.\n       * @returns {Number}\n       */\n      xUnitCount () {\n          if (this._unitCount === undefined) {\n              if (this.isOrdinal()) {\n                  // In this case it number of items in domain\n                  this._unitCount = this.x().domain().length;\n              } else {\n                  this._unitCount = this.xUnits()(this.x().domain()[0], this.x().domain()[1]);\n\n                  // Sometimes xUnits() may return an array while sometimes directly the count\n                  if (this._unitCount instanceof Array) {\n                      this._unitCount = this._unitCount.length;\n                  }\n              }\n          }\n\n          return this._unitCount;\n      }\n\n      /**\n       * Gets or sets whether the chart should be drawn with a right axis instead of a left axis. When\n       * used with a chart in a composite chart, allows both left and right Y axes to be shown on a\n       * chart.\n       * @param {Boolean} [useRightYAxis=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      useRightYAxis (useRightYAxis) {\n          if (!arguments.length) {\n              return this._useRightYAxis;\n          }\n\n          // We need to warn if value is changing after self._yAxis was created\n          if (this._useRightYAxis !== useRightYAxis && this._yAxis) {\n              logger.warn('Value of useRightYAxis has been altered, after yAxis was created. ' +\n                  'You might get unexpected yAxis behavior. ' +\n                  'Make calls to useRightYAxis sooner in your chart creation process.');\n          }\n\n          this._useRightYAxis = useRightYAxis;\n          return this;\n      }\n\n      /**\n       * Gets or sets whether the chart should be drawn with a top axis instead of a bottom axis. When\n       * used with a chart in a composite chart, allows both top and bottom X axes to be shown on a\n       * chart.\n       * @param {Boolean} [useTopXAxis=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      useTopXAxis (useTopXAxis) {\n          if (!arguments.length) {\n              return this._useTopXAxis;\n          }\n\n          // We need to warn if value is changing after self._yAxis was created\n          if (this._useTopXAxis !== useTopXAxis && this._xAxis) {\n              logger.warn('Value of useTopXAxis has been altered, after xAxis was created. ' +\n                  'You might get unexpected yAxis behavior. ' +\n                  'Make calls to useTopXAxis sooner in your chart creation process.');\n          }\n\n          this._useTopXAxis = useTopXAxis;\n          return this;\n      }\n\n      /**\n       * Returns true if the chart is using ordinal xUnits ({@link units.ordinal units.ordinal}, or false\n       * otherwise. Most charts behave differently with ordinal data and use the result of this method to\n       * trigger the appropriate logic.\n       * @returns {Boolean}\n       */\n      isOrdinal () {\n          return this.xUnits() === units.ordinal;\n      }\n\n      _useOuterPadding () {\n          return true;\n      }\n\n      _ordinalXDomain () {\n          const groups = this._computeOrderedGroups(this.data());\n          return groups.map(this.keyAccessor());\n      }\n\n      _createXAxis () {\n          return this._useTopXAxis ? d3Axis.axisTop() : d3Axis.axisBottom();\n      }\n\n      // eslint-disable-next-line complexity\n      _prepareXAxis (g, render) {\n          if (!this.isOrdinal()) {\n              if (this.elasticX()) {\n                  this._x.domain([this.xAxisMin(), this.xAxisMax()]);\n              }\n          } else { // self._chart.isOrdinal()\n              // D3v4 - Ordinal charts would need scaleBand\n              // bandwidth is a method in scaleBand\n              // (https://github.com/d3/d3-scale/blob/master/README.md#scaleBand)\n              if (!this._x.bandwidth) {\n                  // If self._x is not a scaleBand create a new scale and\n                  // copy the original domain to the new scale\n                  logger.warn('For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need ' +\n                      'd3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). ' +\n                      'Replacing .x() with a d3.scaleBand with the same domain - ' +\n                      'make the same change in your code to avoid this warning!');\n                  this._x = d3Scale.scaleBand().domain(this._x.domain());\n              }\n\n              if (this.elasticX() || this._x.domain().length === 0) {\n                  this._x.domain(this._ordinalXDomain());\n              }\n          }\n\n          // has the domain changed?\n          const xdom = this._x.domain();\n          if (render || !utils.arraysEqual(this._lastXDomain, xdom)) {\n              this.rescale();\n          }\n          this._lastXDomain = xdom;\n\n          // please can't we always use rangeBands for bar charts?\n          if (this.isOrdinal()) {\n              this._x.range([0, this.xAxisLength()])\n                  .paddingInner(this._fRangeBandPadding)\n                  .paddingOuter(this._useOuterPadding() ? this._fOuterRangeBandPadding : 0);\n          } else {\n              this._x.range([0, this.xAxisLength()]);\n          }\n\n          if (!this._xAxis) {\n              this._xAxis = this._createXAxis();\n          }\n\n          this._xAxis = this._xAxis.scale(this.x());\n\n          this._renderVerticalGridLines(g);\n      }\n\n      renderXAxis (g) {\n          let axisXG = g.select('g.x');\n\n          if (axisXG.empty()) {\n              axisXG = g.append('g')\n                  .attr('class', 'axis x')\n                  .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`);\n          }\n\n          let axisXLab = g.select(`text.${X_AXIS_LABEL_CLASS}`);\n          const axisXLabY = this._useTopXAxis ? this._xAxisLabelPadding : (this.height() - this._xAxisLabelPadding);\n          if (axisXLab.empty() && this.xAxisLabel()) {\n              axisXLab = g.append('text')\n                  .attr('class', X_AXIS_LABEL_CLASS)\n                  .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${axisXLabY})`)\n                  .attr('text-anchor', 'middle');\n          }\n          if (this.xAxisLabel() && axisXLab.text() !== this.xAxisLabel()) {\n              axisXLab.text(this.xAxisLabel());\n          }\n\n          transition(axisXG, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`)\n              .call(this._xAxis);\n          transition(axisXLab, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${axisXLabY})`);\n      }\n\n      _renderVerticalGridLines (g) {\n          let gridLineG = g.select(`g.${VERTICAL_CLASS}`);\n\n          if (this._renderVerticalGridLine) {\n              if (gridLineG.empty()) {\n                  gridLineG = g.insert('g', ':first-child')\n                      .attr('class', `${GRID_LINE_CLASS} ${VERTICAL_CLASS}`)\n                      .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n              }\n\n              const ticks = this._xAxis.tickValues() ? this._xAxis.tickValues() :\n                  (typeof this._x.ticks === 'function' ? this._x.ticks.apply(this._x, this._xAxis.tickArguments()) : this._x.domain());\n\n              const lines = gridLineG.selectAll('line')\n                  .data(ticks);\n\n              // enter\n              const linesGEnter = lines.enter()\n                  .append('line')\n                  .attr('x1', d => this._x(d))\n                  .attr('y1', this._xAxisY() - this.margins().top)\n                  .attr('x2', d => this._x(d))\n                  .attr('y2', 0)\n                  .attr('opacity', 0);\n              transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n                  .attr('opacity', 0.5);\n\n              // update\n              transition(lines, this.transitionDuration(), this.transitionDelay())\n                  .attr('x1', d => this._x(d))\n                  .attr('y1', this._xAxisY() - this.margins().top)\n                  .attr('x2', d => this._x(d))\n                  .attr('y2', 0);\n\n              // exit\n              lines.exit().remove();\n          } else {\n              gridLineG.selectAll('line').remove();\n          }\n      }\n\n      _xAxisY () {\n          return this._useTopXAxis ? this.margins().top : this.height() - this.margins().bottom;\n      }\n\n      xAxisLength () {\n          return this.effectiveWidth();\n      }\n\n      /**\n       * Set or get the x axis label. If setting the label, you may optionally include additional padding to\n       * the margin to make room for the label. By default the padded is set to 12 to accomodate the text height.\n       * @param {String} [labelText]\n       * @param {Number} [padding=12]\n       * @returns {String}\n       */\n      xAxisLabel (labelText, padding) {\n          if (!arguments.length) {\n              return this._xAxisLabel;\n          }\n          this._xAxisLabel = labelText;\n          this.margins().bottom -= this._xAxisLabelPadding;\n          this._xAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n          this.margins().bottom += this._xAxisLabelPadding;\n          return this;\n      }\n\n      _createYAxis () {\n          return this._useRightYAxis ? d3Axis.axisRight() : d3Axis.axisLeft();\n      }\n\n      _prepareYAxis (g) {\n          if (this._y === undefined || this.elasticY()) {\n              if (this._y === undefined) {\n                  this._y = d3Scale.scaleLinear();\n              }\n              const _min = this.yAxisMin() || 0;\n              const _max = this.yAxisMax() || 0;\n              this._y.domain([_min, _max]).rangeRound([this.yAxisHeight(), 0]);\n          }\n\n          this._y.range([this.yAxisHeight(), 0]);\n\n          if (!this._yAxis) {\n              this._yAxis = this._createYAxis();\n          }\n\n          this._yAxis.scale(this._y);\n\n          this._renderHorizontalGridLinesForAxis(g, this._y, this._yAxis);\n      }\n\n      renderYAxisLabel (axisClass, text, rotation, labelXPosition) {\n          labelXPosition = labelXPosition || this._yAxisLabelPadding;\n\n          let axisYLab = this.g().select(`text.${Y_AXIS_LABEL_CLASS}.${axisClass}-label`);\n          const labelYPosition = (this.margins().top + this.yAxisHeight() / 2);\n          if (axisYLab.empty() && text) {\n              axisYLab = this.g().append('text')\n                  .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`)\n                  .attr('class', `${Y_AXIS_LABEL_CLASS} ${axisClass}-label`)\n                  .attr('text-anchor', 'middle')\n                  .text(text);\n          }\n          if (text && axisYLab.text() !== text) {\n              axisYLab.text(text);\n          }\n          transition(axisYLab, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`);\n      }\n\n      renderYAxisAt (axisClass, axis, position) {\n          let axisYG = this.g().select(`g.${axisClass}`);\n          if (axisYG.empty()) {\n              axisYG = this.g().append('g')\n                  .attr('class', `axis ${axisClass}`)\n                  .attr('transform', `translate(${position},${this.margins().top})`);\n          }\n\n          transition(axisYG, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', `translate(${position},${this.margins().top})`)\n              .call(axis);\n      }\n\n      renderYAxis () {\n          const axisPosition = this._useRightYAxis ? (this.width() - this.margins().right) : this._yAxisX();\n          this.renderYAxisAt('y', this._yAxis, axisPosition);\n          const labelPosition = this._useRightYAxis ? (this.width() - this._yAxisLabelPadding) : this._yAxisLabelPadding;\n          const rotation = this._useRightYAxis ? 90 : -90;\n          this.renderYAxisLabel('y', this.yAxisLabel(), rotation, labelPosition);\n      }\n\n      _renderHorizontalGridLinesForAxis (g, scale, axis) {\n          let gridLineG = g.select(`g.${HORIZONTAL_CLASS}`);\n\n          if (this._renderHorizontalGridLine) {\n              // see https://github.com/d3/d3-axis/blob/master/src/axis.js#L48\n              const ticks = axis.tickValues() ? axis.tickValues() :\n                  (scale.ticks ? scale.ticks.apply(scale, axis.tickArguments()) : scale.domain());\n\n              if (gridLineG.empty()) {\n                  gridLineG = g.insert('g', ':first-child')\n                      .attr('class', `${GRID_LINE_CLASS} ${HORIZONTAL_CLASS}`)\n                      .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n              }\n\n              const lines = gridLineG.selectAll('line')\n                  .data(ticks);\n\n              // enter\n              const linesGEnter = lines.enter()\n                  .append('line')\n                  .attr('x1', 1)\n                  .attr('y1', d => scale(d))\n                  .attr('x2', this.xAxisLength())\n                  .attr('y2', d => scale(d))\n                  .attr('opacity', 0);\n              transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n                  .attr('opacity', 0.5);\n\n              // update\n              transition(lines, this.transitionDuration(), this.transitionDelay())\n                  .attr('x1', 1)\n                  .attr('y1', d => scale(d))\n                  .attr('x2', this.xAxisLength())\n                  .attr('y2', d => scale(d));\n\n              // exit\n              lines.exit().remove();\n          } else {\n              gridLineG.selectAll('line').remove();\n          }\n      }\n\n      _yAxisX () {\n          return this.useRightYAxis() ? this.width() - this.margins().right : this.margins().left;\n      }\n\n      /**\n       * Set or get the y axis label. If setting the label, you may optionally include additional padding\n       * to the margin to make room for the label. By default the padding is set to 12 to accommodate the\n       * text height.\n       * @param {String} [labelText]\n       * @param {Number} [padding=12]\n       * @returns {String|CoordinateGridMixin}\n       */\n      yAxisLabel (labelText, padding) {\n          if (!arguments.length) {\n              return this._yAxisLabel;\n          }\n          this._yAxisLabel = labelText;\n          this.margins().left -= this._yAxisLabelPadding;\n          this._yAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n          this.margins().left += this._yAxisLabelPadding;\n          return this;\n      }\n\n      /**\n       * Get or set the y scale. The y scale is typically automatically determined by the chart implementation.\n       * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n       * @param {d3.scale} [yScale]\n       * @returns {d3.scale|CoordinateGridMixin}\n       */\n      y (yScale) {\n          if (!arguments.length) {\n              return this._y;\n          }\n          this._y = yScale;\n          this.rescale();\n          return this;\n      }\n\n      /**\n       * Set or get the y axis used by the coordinate grid chart instance. This function is most useful\n       * when y axis customization is required. Depending on `useRightYAxis` the y axis in dc.js is an instance of\n       * either [d3.axisLeft](https://github.com/d3/d3-axis/blob/master/README.md#axisLeft) or\n       * [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight); therefore it supports any\n       * valid d3 axis manipulation.\n       *\n       * **Caution**: The y axis is usually generated internally by dc; resetting it may cause\n       * unexpected results.  Note also that when used as a getter, this function is not chainable: it\n       * returns the axis, not the chart,\n       * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n           * so attempting to call chart functions after calling `.yAxis()` will fail}.\n       * In addition, depending on whether you are going to use the axis on left or right\n       * you need to appropriately pass [d3.axisLeft](https://github.com/d3/d3-axis/blob/master/README.md#axisLeft)\n       * or [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight)\n       * @see {@link https://github.com/d3/d3-axis/blob/master/README.md d3.axis}\n       * @example\n       * // customize y axis tick format\n       * chart.yAxis().tickFormat(function(v) {return v + '%';});\n       * // customize y axis tick values\n       * chart.yAxis().tickValues([0, 100, 200, 300]);\n       * @param {d3.axisLeft|d3.axisRight} [yAxis]\n       * @returns {d3.axisLeft|d3.axisRight|CoordinateGridMixin}\n       */\n      yAxis (yAxis) {\n          if (!arguments.length) {\n              if (!this._yAxis) {\n                  this._yAxis = this._createYAxis();\n              }\n              return this._yAxis;\n          }\n          this._yAxis = yAxis;\n          return this;\n      }\n\n      /**\n       * Turn on/off elastic y axis behavior. If y axis elasticity is turned on, then the grid chart will\n       * attempt to recalculate the y axis range whenever a redraw event is triggered.\n       * @param {Boolean} [elasticY=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      elasticY (elasticY) {\n          if (!arguments.length) {\n              return this._yElasticity;\n          }\n          this._yElasticity = elasticY;\n          return this;\n      }\n\n      /**\n       * Turn on/off horizontal grid lines.\n       * @param {Boolean} [renderHorizontalGridLines=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      renderHorizontalGridLines (renderHorizontalGridLines) {\n          if (!arguments.length) {\n              return this._renderHorizontalGridLine;\n          }\n          this._renderHorizontalGridLine = renderHorizontalGridLines;\n          return this;\n      }\n\n      /**\n       * Turn on/off vertical grid lines.\n       * @param {Boolean} [renderVerticalGridLines=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      renderVerticalGridLines (renderVerticalGridLines) {\n          if (!arguments.length) {\n              return this._renderVerticalGridLine;\n          }\n          this._renderVerticalGridLine = renderVerticalGridLines;\n          return this;\n      }\n\n      /**\n       * Calculates the minimum x value to display in the chart. Includes xAxisPadding if set.\n       * @returns {*}\n       */\n      xAxisMin () {\n          const m = d3Array.min(this.data(), e => this.keyAccessor()(e));\n          return utils.subtract(m, this._xAxisPadding, this._xAxisPaddingUnit);\n      }\n\n      /**\n       * Calculates the maximum x value to display in the chart. Includes xAxisPadding if set.\n       * @returns {*}\n       */\n      xAxisMax () {\n          const m = d3Array.max(this.data(), e => this.keyAccessor()(e));\n          return utils.add(m, this._xAxisPadding, this._xAxisPaddingUnit);\n      }\n\n      /**\n       * Calculates the minimum y value to display in the chart. Includes yAxisPadding if set.\n       * @returns {*}\n       */\n      yAxisMin () {\n          const m = d3Array.min(this.data(), e => this.valueAccessor()(e));\n          return utils.subtract(m, this._yAxisPadding);\n      }\n\n      /**\n       * Calculates the maximum y value to display in the chart. Includes yAxisPadding if set.\n       * @returns {*}\n       */\n      yAxisMax () {\n          const m = d3Array.max(this.data(), e => this.valueAccessor()(e));\n          return utils.add(m, this._yAxisPadding);\n      }\n\n      /**\n       * Set or get y axis padding for the elastic y axis. The padding will be added to the top and\n       * bottom of the y axis if elasticY is turned on; otherwise it is ignored.\n       *\n       * Padding can be an integer or percentage in string (e.g. '10%'). Padding can be applied to\n       * number or date axes. When padding a date axis, an integer represents number of days being padded\n       * and a percentage string will be treated the same as an integer.\n       * @param {Number|String} [padding=0]\n       * @returns {Number|CoordinateGridMixin}\n       */\n      yAxisPadding (padding) {\n          if (!arguments.length) {\n              return this._yAxisPadding;\n          }\n          this._yAxisPadding = padding;\n          return this;\n      }\n\n      yAxisHeight () {\n          return this.effectiveHeight();\n      }\n\n      /**\n       * Set or get the rounding function used to quantize the selection when brushing is enabled.\n       * @example\n       * // set x unit round to by month, this will make sure range selection brush will\n       * // select whole months\n       * chart.round(d3.timeMonth.round);\n       * @param {Function} [round]\n       * @returns {Function|CoordinateGridMixin}\n       */\n      round (round) {\n          if (!arguments.length) {\n              return this._round;\n          }\n          this._round = round;\n          return this;\n      }\n\n      _rangeBandPadding (_) {\n          if (!arguments.length) {\n              return this._fRangeBandPadding;\n          }\n          this._fRangeBandPadding = _;\n          return this;\n      }\n\n      _outerRangeBandPadding (_) {\n          if (!arguments.length) {\n              return this._fOuterRangeBandPadding;\n          }\n          this._fOuterRangeBandPadding = _;\n          return this;\n      }\n\n      filter (_) {\n          if (!arguments.length) {\n              return super.filter();\n          }\n\n          super.filter(_);\n\n          this.redrawBrush(_, false);\n\n          return this;\n      }\n\n      /**\n       * Get or set the brush. Brush must be an instance of d3 brushes\n       * https://github.com/d3/d3-brush/blob/master/README.md\n       * You will use this only if you are writing a new chart type that supports brushing.\n       *\n       * **Caution**: dc creates and manages brushes internally. Go through and understand the source code\n       * if you want to pass a new brush object. Even if you are only using the getter,\n       * the brush object may not behave the way you expect.\n       *\n       * @param {d3.brush} [_]\n       * @returns {d3.brush|CoordinateGridMixin}\n       */\n      brush (_) {\n          if (!arguments.length) {\n              return this._brush;\n          }\n          this._brush = _;\n          return this;\n      }\n\n      renderBrush (g, doTransition) {\n          if (this._brushOn) {\n              this._brush.on('start brush end', d3compat.eventHandler((d, evt) => this._brushing(evt)));\n\n              // To retrieve selection we need self._gBrush\n              this._gBrush = g.append('g')\n                  .attr('class', 'brush')\n                  .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n              this.setBrushExtents();\n\n              this.createBrushHandlePaths(this._gBrush, doTransition);\n\n              this.redrawBrush(this.filter(), doTransition);\n          }\n      }\n\n      createBrushHandlePaths (gBrush) {\n          let brushHandles = gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`).data([{type: 'w'}, {type: 'e'}]);\n\n          brushHandles = brushHandles\n              .enter()\n              .append('path')\n              .attr('class', CUSTOM_BRUSH_HANDLE_CLASS)\n              .merge(brushHandles);\n\n          brushHandles\n              .attr('d', d => this.resizeHandlePath(d));\n      }\n\n      extendBrush (brushSelection) {\n          if (brushSelection && this.round()) {\n              brushSelection[0] = this.round()(brushSelection[0]);\n              brushSelection[1] = this.round()(brushSelection[1]);\n          }\n          return brushSelection;\n      }\n\n      brushIsEmpty (brushSelection) {\n          return !brushSelection || brushSelection[1] <= brushSelection[0];\n      }\n\n      _brushing (evt) {\n          if (this._ignoreBrushEvents) {\n              return;\n          }\n\n          let brushSelection = evt.selection;\n          if (brushSelection) {\n              brushSelection = brushSelection.map(this.x().invert);\n          }\n\n          brushSelection = this.extendBrush(brushSelection);\n\n          this.redrawBrush(brushSelection, false);\n\n          const rangedFilter = this.brushIsEmpty(brushSelection) ? null : filters.RangedFilter(brushSelection[0], brushSelection[1]);\n\n          events.trigger(() => {\n              this.applyBrushSelection(rangedFilter);\n          }, constants.EVENT_DELAY);\n      }\n\n      // This can be overridden in a derived chart. For example Composite chart overrides it\n      applyBrushSelection (rangedFilter) {\n          this.replaceFilter(rangedFilter);\n          this.redrawGroup();\n      }\n\n      _withoutBrushEvents (closure) {\n          const oldValue = this._ignoreBrushEvents;\n          this._ignoreBrushEvents = true;\n\n          try {\n              closure();\n          } finally {\n              this._ignoreBrushEvents = oldValue;\n          }\n      }\n\n      setBrushExtents (doTransition) {\n          this._withoutBrushEvents(() => {\n              // Set boundaries of the brush, must set it before applying to self._gBrush\n              this._brush.extent([[0, 0], [this.effectiveWidth(), this.effectiveHeight()]]);\n          });\n\n          this._gBrush\n              .call(this._brush);\n      }\n\n      redrawBrush (brushSelection, doTransition) {\n          if (this._brushOn && this._gBrush) {\n              if (this._resizing) {\n                  this.setBrushExtents(doTransition);\n              }\n\n              if (!brushSelection) {\n                  this._withoutBrushEvents(() => {\n                      this._gBrush\n                          .call(this._brush.move, null);\n                  });\n\n                  this._gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n                      .attr('display', 'none');\n              } else {\n                  const scaledSelection = [this._x(brushSelection[0]), this._x(brushSelection[1])];\n\n                  const gBrush =\n                      optionalTransition(doTransition, this.transitionDuration(), this.transitionDelay())(this._gBrush);\n\n                  this._withoutBrushEvents(() => {\n                      gBrush\n                          .call(this._brush.move, scaledSelection);\n                  });\n\n                  gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n                      .attr('display', null)\n                      .attr('transform', (d, i) => `translate(${this._x(brushSelection[i])}, 0)`)\n                      .attr('d', d => this.resizeHandlePath(d));\n              }\n          }\n          this.fadeDeselectedArea(brushSelection);\n      }\n\n      fadeDeselectedArea (brushSelection) {\n          // do nothing, sub-chart should override this function\n      }\n\n      // borrowed from Crossfilter example\n      resizeHandlePath (d) {\n          d = d.type;\n          const e = +(d === 'e'), x = e ? 1 : -1, y = this.effectiveHeight() / 3;\n          return `M${0.5 * x},${y \n        }A6,6 0 0 ${e} ${6.5 * x},${y + 6 \n        }V${2 * y - 6 \n        }A6,6 0 0 ${e} ${0.5 * x},${2 * y \n        }Z` +\n              `M${2.5 * x},${y + 8 \n            }V${2 * y - 8 \n            }M${4.5 * x},${y + 8 \n            }V${2 * y - 8}`;\n      }\n\n      _getClipPathId () {\n          return `${this.anchorName().replace(/[ .#=\\[\\]\"]/g, '-')}-clip`;\n      }\n\n      /**\n       * Get or set the padding in pixels for the clip path. Once set padding will be applied evenly to\n       * the top, left, right, and bottom when the clip path is generated. If set to zero, the clip area\n       * will be exactly the chart body area minus the margins.\n       * @param {Number} [padding=5]\n       * @returns {Number|CoordinateGridMixin}\n       */\n      clipPadding (padding) {\n          if (!arguments.length) {\n              return this._clipPadding;\n          }\n          this._clipPadding = padding;\n          return this;\n      }\n\n      _generateClipPath () {\n          const defs = utils.appendOrSelect(this._parent, 'defs');\n          // cannot select <clippath> elements; bug in WebKit, must select by id\n          // https://groups.google.com/forum/#!topic/d3-js/6EpAzQ2gU9I\n          const id = this._getClipPathId();\n          const chartBodyClip = utils.appendOrSelect(defs, `#${id}`, 'clipPath').attr('id', id);\n\n          const padding = this._clipPadding * 2;\n\n          utils.appendOrSelect(chartBodyClip, 'rect')\n              .attr('width', this.xAxisLength() + padding)\n              .attr('height', this.yAxisHeight() + padding)\n              .attr('transform', `translate(-${this._clipPadding}, -${this._clipPadding})`);\n      }\n\n      _preprocessData () {\n      }\n\n      _doRender () {\n          this.resetSvg();\n\n          this._preprocessData();\n\n          this._generateG();\n          this._generateClipPath();\n\n          this._drawChart(true);\n\n          this._configureMouseZoom();\n\n          return this;\n      }\n\n      _doRedraw () {\n          this._preprocessData();\n\n          this._drawChart(false);\n          this._generateClipPath();\n\n          return this;\n      }\n\n      _drawChart (render) {\n          if (this.isOrdinal()) {\n              this._brushOn = false;\n          }\n\n          this._prepareXAxis(this.g(), render);\n          this._prepareYAxis(this.g());\n\n          this.plotData();\n\n          if (this.elasticX() || this._resizing || render) {\n              this.renderXAxis(this.g());\n          }\n\n          if (this.elasticY() || this._resizing || render) {\n              this.renderYAxis(this.g());\n          }\n\n          if (render) {\n              this.renderBrush(this.g(), false);\n          } else {\n              // Animate the brush only while resizing\n              this.redrawBrush(this.filter(), this._resizing);\n          }\n          this.fadeDeselectedArea(this.filter());\n          this.resizing(false);\n      }\n\n      _configureMouseZoom () {\n          // Save a copy of original x scale\n          this._origX = this._x.copy();\n\n          if (this._mouseZoomable) {\n              this._enableMouseZoom();\n          } else if (this._hasBeenMouseZoomable) {\n              this._disableMouseZoom();\n          }\n      }\n\n      _enableMouseZoom () {\n          this._hasBeenMouseZoomable = true;\n\n          const extent = [[0, 0], [this.effectiveWidth(), this.effectiveHeight()]];\n\n          this._zoom\n              .scaleExtent(this._zoomScale)\n              .extent(extent)\n              .duration(this.transitionDuration());\n\n          if (this._zoomOutRestrict) {\n              // Ensure minimum zoomScale is at least 1\n              const zoomScaleMin = Math.max(this._zoomScale[0], 1);\n              this._zoom\n                  .translateExtent(extent)\n                  .scaleExtent([zoomScaleMin, this._zoomScale[1]]);\n          }\n\n          this.root().call(this._zoom);\n\n          // Tell D3 zoom our current zoom/pan status\n          this._updateD3zoomTransform();\n      }\n\n      _disableMouseZoom () {\n          this.root().call(this._nullZoom);\n      }\n\n      _zoomHandler (newDomain, noRaiseEvents) {\n          let domFilter;\n\n          if (this._hasRangeSelected(newDomain)) {\n              this.x().domain(newDomain);\n              domFilter = filters.RangedFilter(newDomain[0], newDomain[1]);\n          } else {\n              this.x().domain(this._xOriginalDomain);\n              domFilter = null;\n          }\n\n          this.replaceFilter(domFilter);\n          this.rescale();\n          this.redraw();\n\n          if (!noRaiseEvents) {\n              if (this._rangeChart && !utils.arraysEqual(this.filter(), this._rangeChart.filter())) {\n                  events.trigger(() => {\n                      this._rangeChart.replaceFilter(domFilter);\n                      this._rangeChart.redraw();\n                  });\n              }\n\n              this._invokeZoomedListener();\n              events.trigger(() => {\n                  this.redrawGroup();\n              }, constants.EVENT_DELAY);\n          }\n      }\n\n      // event.transform.rescaleX(self._origX).domain() should give back newDomain\n      _domainToZoomTransform (newDomain, origDomain, xScale) {\n          const k = (origDomain[1] - origDomain[0]) / (newDomain[1] - newDomain[0]);\n          const xt = -1 * xScale(newDomain[0]);\n\n          return d3Zoom.zoomIdentity.scale(k).translate(xt, 0);\n      }\n\n      // If we changing zoom status (for example by calling focus), tell D3 zoom about it\n      _updateD3zoomTransform () {\n          if (this._zoom) {\n              this._withoutZoomEvents(() => {\n                  this._zoom.transform(this.root(), this._domainToZoomTransform(this.x().domain(), this._xOriginalDomain, this._origX));\n              });\n          }\n      }\n\n      _withoutZoomEvents (closure) {\n          const oldValue = this._ignoreZoomEvents;\n          this._ignoreZoomEvents = true;\n\n          try {\n              closure();\n          } finally {\n              this._ignoreZoomEvents = oldValue;\n          }\n      }\n\n      _onZoom (evt) {\n          // ignore zoom events if it was caused by a programmatic change\n          if (this._ignoreZoomEvents) {\n              return;\n          }\n\n          const newDomain = evt.transform.rescaleX(this._origX).domain();\n          this.focus(newDomain, false);\n      }\n\n      _checkExtents (ext, outerLimits) {\n          if (!ext || ext.length !== 2 || !outerLimits || outerLimits.length !== 2) {\n              return ext;\n          }\n\n          if (ext[0] > outerLimits[1] || ext[1] < outerLimits[0]) {\n              console.warn('Could not intersect extents, will reset');\n          }\n          // Math.max does not work (as the values may be dates as well)\n          return [ext[0] > outerLimits[0] ? ext[0] : outerLimits[0], ext[1] < outerLimits[1] ? ext[1] : outerLimits[1]];\n      }\n\n      /**\n       * Zoom this chart to focus on the given range. The given range should be an array containing only\n       * 2 elements (`[start, end]`) defining a range in the x domain. If the range is not given or set\n       * to null, then the zoom will be reset. _For focus to work elasticX has to be turned off;\n       * otherwise focus will be ignored.\n       *\n       * To avoid ping-pong volley of events between a pair of range and focus charts please set\n       * `noRaiseEvents` to `true`. In that case it will update this chart but will not fire `zoom` event\n       * and not try to update back the associated range chart.\n       * If you are calling it manually - typically you will leave it to `false` (the default).\n       *\n       * @example\n       * chart.on('renderlet', function(chart) {\n       *     // smooth the rendering through event throttling\n       *     events.trigger(function(){\n       *          // focus some other chart to the range selected by user on this chart\n       *          someOtherChart.focus(chart.filter());\n       *     });\n       * })\n       * @param {Array<Number>} [range]\n       * @param {Boolean} [noRaiseEvents = false]\n       * @return {undefined}\n       */\n      focus (range, noRaiseEvents) {\n          if (this._zoomOutRestrict) {\n              // ensure range is within self._xOriginalDomain\n              range = this._checkExtents(range, this._xOriginalDomain);\n\n              // If it has an associated range chart ensure range is within domain of that rangeChart\n              if (this._rangeChart) {\n                  range = this._checkExtents(range, this._rangeChart.x().domain());\n              }\n          }\n\n          this._zoomHandler(range, noRaiseEvents);\n          this._updateD3zoomTransform();\n      }\n\n      refocused () {\n          return !utils.arraysEqual(this.x().domain(), this._xOriginalDomain);\n      }\n\n      focusChart (c) {\n          if (!arguments.length) {\n              return this._focusChart;\n          }\n          this._focusChart = c;\n          this.on('filtered.dcjs-range-chart', chart => {\n              if (!chart.filter()) {\n                  events.trigger(() => {\n                      this._focusChart.x().domain(this._focusChart.xOriginalDomain(), true);\n                  });\n              } else if (!utils.arraysEqual(chart.filter(), this._focusChart.filter())) {\n                  events.trigger(() => {\n                      this._focusChart.focus(chart.filter(), true);\n                  });\n              }\n          });\n          return this;\n      }\n\n      /**\n       * Turn on/off the brush-based range filter. When brushing is on then user can drag the mouse\n       * across a chart with a quantitative scale to perform range filtering based on the extent of the\n       * brush, or click on the bars of an ordinal bar chart or slices of a pie chart to filter and\n       * un-filter them. However turning on the brush filter will disable other interactive elements on\n       * the chart such as highlighting, tool tips, and reference lines. Zooming will still be possible\n       * if enabled, but only via scrolling (panning will be disabled.)\n       * @param {Boolean} [brushOn=true]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      brushOn (brushOn) {\n          if (!arguments.length) {\n              return this._brushOn;\n          }\n          this._brushOn = brushOn;\n          return this;\n      }\n\n      /**\n       * This will be internally used by composite chart onto children. Please go not invoke directly.\n       *\n       * @protected\n       * @param {Boolean} [brushOn=false]\n       * @returns {Boolean|CoordinateGridMixin}\n       */\n      parentBrushOn (brushOn) {\n          if (!arguments.length) {\n              return this._parentBrushOn;\n          }\n          this._parentBrushOn = brushOn;\n          return this;\n      }\n\n      // Get the SVG rendered brush\n      gBrush () {\n          return this._gBrush;\n      }\n\n      _hasRangeSelected (range) {\n          return range instanceof Array && range.length > 1;\n      }\n  }\n\n  // https://github.com/d3/d3-plugins/blob/master/box/box.js\n\n  const d3Box = function () {\n      let width = 1;\n      let height = 1;\n      let duration = 0;\n      const delay = 0;\n      let domain = null;\n      let value = Number;\n      let whiskers = boxWhiskers;\n      let quartiles = boxQuartiles;\n      let tickFormat = null;\n\n      // Enhanced attributes\n      let renderDataPoints = false;\n      const dataRadius = 3;\n      let dataOpacity = 0.3;\n      let dataWidthPortion = 0.8;\n      let renderTitle = false;\n      let showOutliers = true;\n      let boldOutlier = false;\n\n\n      // For each small multiple\n      function box (g) {\n          g.each(function (data, index) {\n              data = data.map(value).sort(d3Array.ascending);\n              const _g = d3Selection.select(this);\n              const n = data.length;\n              let min;\n              let max;\n\n              // Leave if there are no items.\n              if (n === 0) {return;}\n\n              // Compute quartiles. Must return exactly 3 elements.\n              const quartileData = data.quartiles = quartiles(data);\n\n              // Compute whiskers. Must return exactly 2 elements, or null.\n              const whiskerIndices = whiskers && whiskers.call(this, data, index),\n                  whiskerData = whiskerIndices && whiskerIndices.map(_i => data[_i]);\n\n              // Compute outliers. If no whiskers are specified, all data are 'outliers'.\n              // We compute the outliers as indices, so that we can join across transitions!\n              const outlierIndices = whiskerIndices ?\n                  d3Array.range(0, whiskerIndices[0]).concat(d3Array.range(whiskerIndices[1] + 1, n)) : d3Array.range(n);\n\n              // Determine the maximum value based on if outliers are shown\n              if (showOutliers) {\n                  min = data[0];\n                  max = data[n - 1];\n              } else {\n                  min = data[whiskerIndices[0]];\n                  max = data[whiskerIndices[1]];\n              }\n              const pointIndices = d3Array.range(whiskerIndices[0], whiskerIndices[1] + 1);\n\n              // Compute the new x-scale.\n              const x1 = d3Scale.scaleLinear()\n                  .domain(domain && domain.call(this, data, index) || [min, max])\n                  .range([height, 0]);\n\n              // Retrieve the old x-scale, if this is an update.\n              const x0 = this.__chart__ || d3Scale.scaleLinear()\n                  .domain([0, Infinity])\n                  .range(x1.range());\n\n              // Stash the new scale.\n              this.__chart__ = x1;\n\n              // Note: the box, median, and box tick elements are fixed in number,\n              // so we only have to handle enter and update. In contrast, the outliers\n              // and other elements are variable, so we need to exit them! Variable\n              // elements also fade in and out.\n\n              // Update center line: the vertical line spanning the whiskers.\n              const center = _g.selectAll('line.center')\n                  .data(whiskerData ? [whiskerData] : []);\n\n              center.enter().insert('line', 'rect')\n                  .attr('class', 'center')\n                  .attr('x1', width / 2)\n                  .attr('y1', d => x0(d[0]))\n                  .attr('x2', width / 2)\n                  .attr('y2', d => x0(d[1]))\n                  .style('opacity', 1e-6)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .style('opacity', 1)\n                  .attr('y1', d => x1(d[0]))\n                  .attr('y2', d => x1(d[1]));\n\n              center.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .style('opacity', 1)\n                  .attr('x1', width / 2)\n                  .attr('x2', width / 2)\n                  .attr('y1', d => x1(d[0]))\n                  .attr('y2', d => x1(d[1]));\n\n              center.exit().transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .style('opacity', 1e-6)\n                  .attr('y1', d => x1(d[0]))\n                  .attr('y2', d => x1(d[1]))\n                  .remove();\n\n              // Update innerquartile box.\n              const _box = _g.selectAll('rect.box')\n                  .data([quartileData]);\n\n              _box.enter().append('rect')\n                  .attr('class', 'box')\n                  .attr('x', 0)\n                  .attr('y', d => x0(d[2]))\n                  .attr('width', width)\n                  .attr('height', d => x0(d[0]) - x0(d[2]))\n                  .style('fill-opacity', (renderDataPoints) ? 0.1 : 1)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y', d => x1(d[2]))\n                  .attr('height', d => x1(d[0]) - x1(d[2]));\n\n              _box.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('width', width)\n                  .attr('y', d => x1(d[2]))\n                  .attr('height', d => x1(d[0]) - x1(d[2]));\n\n              // Update median line.\n              const medianLine = _g.selectAll('line.median')\n                  .data([quartileData[1]]);\n\n              medianLine.enter().append('line')\n                  .attr('class', 'median')\n                  .attr('x1', 0)\n                  .attr('y1', x0)\n                  .attr('x2', width)\n                  .attr('y2', x0)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y1', x1)\n                  .attr('y2', x1);\n\n              medianLine.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('x1', 0)\n                  .attr('x2', width)\n                  .attr('y1', x1)\n                  .attr('y2', x1);\n\n              // Update whiskers.\n              const whisker = _g.selectAll('line.whisker')\n                  .data(whiskerData || []);\n\n              whisker.enter().insert('line', 'circle, text')\n                  .attr('class', 'whisker')\n                  .attr('x1', 0)\n                  .attr('y1', x0)\n                  .attr('x2', width)\n                  .attr('y2', x0)\n                  .style('opacity', 1e-6)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y1', x1)\n                  .attr('y2', x1)\n                  .style('opacity', 1);\n\n              whisker.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('x1', 0)\n                  .attr('x2', width)\n                  .attr('y1', x1)\n                  .attr('y2', x1)\n                  .style('opacity', 1);\n\n              whisker.exit().transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y1', x1)\n                  .attr('y2', x1)\n                  .style('opacity', 1e-6)\n                  .remove();\n\n              // Update outliers.\n              if (showOutliers) {\n                  const outlierClass = boldOutlier ? 'outlierBold' : 'outlier';\n                  const outlierSize = boldOutlier ? 3 : 5;\n                  const outlierX = boldOutlier ?\n                      function () {\n                          return Math.floor(Math.random() *\n                              (width * dataWidthPortion) +\n                              1 + ((width - (width * dataWidthPortion)) / 2));\n                      } :\n                      function () {\n                          return width / 2;\n                      };\n\n                  const outlier = _g.selectAll(`circle.${outlierClass}`)\n                      .data(outlierIndices, Number);\n\n                  outlier.enter().insert('circle', 'text')\n                      .attr('class', outlierClass)\n                      .attr('r', outlierSize)\n                      .attr('cx', outlierX)\n                      .attr('cy', i => x0(data[i]))\n                      .style('opacity', 1e-6)\n                      .transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cy', i => x1(data[i]))\n                      .style('opacity', 0.6);\n\n                  if (renderTitle) {\n                      outlier.selectAll('title').remove();\n                      outlier.append('title').text(i => data[i]);\n                  }\n\n                  outlier.transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cx', outlierX)\n                      .attr('cy', i => x1(data[i]))\n                      .style('opacity', 0.6);\n\n                  outlier.exit().transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cy', 0) //function (i) { return x1(d[i]); })\n                      .style('opacity', 1e-6)\n                      .remove();\n              }\n\n              // Update Values\n              if (renderDataPoints) {\n                  const point = _g.selectAll('circle.data')\n                      .data(pointIndices);\n\n                  point.enter().insert('circle', 'text')\n                      .attr('class', 'data')\n                      .attr('r', dataRadius)\n                      .attr('cx', () => Math.floor(Math.random() *\n                              (width * dataWidthPortion) +\n                              1 + ((width - (width * dataWidthPortion)) / 2)))\n                      .attr('cy', i => x0(data[i]))\n                      .style('opacity', 1e-6)\n                      .transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cy', i => x1(data[i]))\n                      .style('opacity', dataOpacity);\n\n                  if (renderTitle) {\n                      point.selectAll('title').remove();\n                      point.append('title').text(i => data[i]);\n                  }\n\n                  point.transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cx', () => Math.floor(Math.random() *\n                              (width * dataWidthPortion) +\n                              1 + ((width - (width * dataWidthPortion)) / 2)))\n                      .attr('cy', i => x1(data[i]))\n                      .style('opacity', dataOpacity);\n\n                  point.exit().transition()\n                      .duration(duration)\n                      .delay(delay)\n                      .attr('cy', 0)\n                      .style('opacity', 1e-6)\n                      .remove();\n              }\n\n              // Compute the tick format.\n              const format = tickFormat || x1.tickFormat(8);\n\n              // Update box ticks.\n              const boxTick = _g.selectAll('text.box')\n                  .data(quartileData);\n\n              boxTick.enter().append('text')\n                  .attr('class', 'box')\n                  .attr('dy', '.3em')\n                  .attr('dx', (d, i) => i & 1 ? 6 : -6)\n                  .attr('x', (d, i) => i & 1 ? width : 0)\n                  .attr('y', x0)\n                  .attr('text-anchor', (d, i) => i & 1 ? 'start' : 'end')\n                  .text(format)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y', x1);\n\n              boxTick.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .text(format)\n                  .attr('x', (d, i) => i & 1 ? width : 0)\n                  .attr('y', x1);\n\n              // Update whisker ticks. These are handled separately from the box\n              // ticks because they may or may not exist, and we want don't want\n              // to join box ticks pre-transition with whisker ticks post-.\n              const whiskerTick = _g.selectAll('text.whisker')\n                  .data(whiskerData || []);\n\n              whiskerTick.enter().append('text')\n                  .attr('class', 'whisker')\n                  .attr('dy', '.3em')\n                  .attr('dx', 6)\n                  .attr('x', width)\n                  .attr('y', x0)\n                  .text(format)\n                  .style('opacity', 1e-6)\n                  .transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y', x1)\n                  .style('opacity', 1);\n\n              whiskerTick.transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .text(format)\n                  .attr('x', width)\n                  .attr('y', x1)\n                  .style('opacity', 1);\n\n              whiskerTick.exit().transition()\n                  .duration(duration)\n                  .delay(delay)\n                  .attr('y', x1)\n                  .style('opacity', 1e-6)\n                  .remove();\n\n              // Remove temporary quartiles element from within data array.\n              delete data.quartiles;\n          });\n          d3Timer.timerFlush();\n      }\n\n      box.width = function (x) {\n          if (!arguments.length) {\n              return width;\n          }\n          width = x;\n          return box;\n      };\n\n      box.height = function (x) {\n          if (!arguments.length) {\n              return height;\n          }\n          height = x;\n          return box;\n      };\n\n      box.tickFormat = function (x) {\n          if (!arguments.length) {\n              return tickFormat;\n          }\n          tickFormat = x;\n          return box;\n      };\n\n      box.showOutliers = function (x) {\n          if (!arguments.length) {\n              return showOutliers;\n          }\n          showOutliers = x;\n          return box;\n      };\n\n      box.boldOutlier = function (x) {\n          if (!arguments.length) {\n              return boldOutlier;\n          }\n          boldOutlier = x;\n          return box;\n      };\n\n      box.renderDataPoints = function (x) {\n          if (!arguments.length) {\n              return renderDataPoints;\n          }\n          renderDataPoints = x;\n          return box;\n      };\n\n      box.renderTitle = function (x) {\n          if (!arguments.length) {\n              return renderTitle;\n          }\n          renderTitle = x;\n          return box;\n      };\n\n      box.dataOpacity = function (x) {\n          if (!arguments.length) {\n              return dataOpacity;\n          }\n          dataOpacity = x;\n          return box;\n      };\n\n      box.dataWidthPortion = function (x) {\n          if (!arguments.length) {\n              return dataWidthPortion;\n          }\n          dataWidthPortion = x;\n          return box;\n      };\n\n      box.duration = function (x) {\n          if (!arguments.length) {\n              return duration;\n          }\n          duration = x;\n          return box;\n      };\n\n      box.domain = function (x) {\n          if (!arguments.length) {\n              return domain;\n          }\n          domain = x === null ? x : typeof x === 'function' ? x : utils.constant(x);\n          return box;\n      };\n\n      box.value = function (x) {\n          if (!arguments.length) {\n              return value;\n          }\n          value = x;\n          return box;\n      };\n\n      box.whiskers = function (x) {\n          if (!arguments.length) {\n              return whiskers;\n          }\n          whiskers = x;\n          return box;\n      };\n\n      box.quartiles = function (x) {\n          if (!arguments.length) {\n              return quartiles;\n          }\n          quartiles = x;\n          return box;\n      };\n\n      return box;\n  };\n\n  function boxWhiskers (d) {\n      return [0, d.length - 1];\n  }\n\n  function boxQuartiles (d) {\n      return [\n          d3Array.quantile(d, 0.25),\n          d3Array.quantile(d, 0.5),\n          d3Array.quantile(d, 0.75)\n      ];\n  }\n\n  /**\n   * Stack Mixin is an mixin that provides cross-chart support of stackability using d3.stack.\n   * @mixin StackMixin\n   * @mixes CoordinateGridMixin\n   */\n  class StackMixin extends CoordinateGridMixin {\n      constructor () {\n          super();\n\n          this._stackLayout = d3Shape.stack();\n\n          this._stack = [];\n          this._titles = {};\n\n          this._hidableStacks = false;\n          this._evadeDomainFilter = false;\n\n          this.data(() => {\n              const layers = this._stack.filter(this._visibility);\n              if (!layers.length) {\n                  return [];\n              }\n              layers.forEach((l, i) => this._prepareValues(l, i));\n              const v4data = layers[0].values.map((v, i) => {\n                  const col = {x: v.x};\n                  layers.forEach(layer => {\n                      col[layer.name] = layer.values[i].y;\n                  });\n                  return col;\n              });\n              const keys = layers.map(layer => layer.name);\n              const v4result = this.stackLayout().keys(keys)(v4data);\n              v4result.forEach((series, i) => {\n                  series.forEach((ys, j) => {\n                      layers[i].values[j].y0 = ys[0];\n                      layers[i].values[j].y1 = ys[1];\n                  });\n              });\n              return layers;\n          });\n\n          this.colorAccessor(function (d) {\n              return this.layer || this.name || d.name || d.layer;\n          });\n      }\n\n      _prepareValues (layer, layerIdx) {\n          const valAccessor = layer.accessor || this.valueAccessor();\n          layer.name = String(layer.name || layerIdx);\n          const allValues = layer.group.all().map((d, i) => ({\n              x: this.keyAccessor()(d, i),\n              y: layer.hidden ? null : valAccessor(d, i),\n              data: d,\n              layer: layer.name,\n              hidden: layer.hidden\n          }));\n\n          layer.domainValues = allValues.filter(l => this._domainFilter()(l));\n          layer.values = this.evadeDomainFilter() ? allValues : layer.domainValues;\n      }\n\n      _domainFilter () {\n          if (!this.x()) {\n              return utils.constant(true);\n          }\n          const xDomain = this.x().domain();\n          if (this.isOrdinal()) {\n              // TODO #416\n              //var domainSet = d3.set(xDomain);\n              return () => true //domainSet.has(p.x);\n              ;\n          }\n          if (this.elasticX()) {\n              return () => true;\n          }\n          return p => p.x >= xDomain[0] && p.x <= xDomain[xDomain.length - 1];\n      }\n\n      /**\n       * Stack a new crossfilter group onto this chart with an optional custom value accessor. All stacks\n       * in the same chart will share the same key accessor and therefore the same set of keys.\n       *\n       * For example, in a stacked bar chart, the bars of each stack will be positioned using the same set\n       * of keys on the x axis, while stacked vertically. If name is specified then it will be used to\n       * generate the legend label.\n       * @see {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#group-map-reduce crossfilter.group}\n       * @example\n       * // stack group using default accessor\n       * chart.stack(valueSumGroup)\n       * // stack group using custom accessor\n       * .stack(avgByDayGroup, function(d){return d.value.avgByDay;});\n       * @param {crossfilter.group} group\n       * @param {String} [name]\n       * @param {Function} [accessor]\n       * @returns {Array<{group: crossfilter.group, name: String, accessor: Function}>|StackMixin}\n       */\n      stack (group, name, accessor) {\n          if (!arguments.length) {\n              return this._stack;\n          }\n\n          if (arguments.length <= 2) {\n              accessor = name;\n          }\n\n          const layer = {group: group};\n          if (typeof name === 'string') {\n              layer.name = name;\n          }\n          if (typeof accessor === 'function') {\n              layer.accessor = accessor;\n          }\n          this._stack.push(layer);\n\n          return this;\n      }\n\n      group (g, n, f) {\n          if (!arguments.length) {\n              return super.group();\n          }\n          this._stack = [];\n          this._titles = {};\n          this.stack(g, n);\n          if (f) {\n              this.valueAccessor(f);\n          }\n          return super.group(g, n);\n      }\n\n      /**\n       * Allow named stacks to be hidden or shown by clicking on legend items.\n       * This does not affect the behavior of hideStack or showStack.\n       * @param {Boolean} [hidableStacks=false]\n       * @returns {Boolean|StackMixin}\n       */\n      hidableStacks (hidableStacks) {\n          if (!arguments.length) {\n              return this._hidableStacks;\n          }\n          this._hidableStacks = hidableStacks;\n          return this;\n      }\n\n      _findLayerByName (n) {\n          const i = this._stack.map(pluck('name')).indexOf(n);\n          return this._stack[i];\n      }\n\n      /**\n       * Hide all stacks on the chart with the given name.\n       * The chart must be re-rendered for this change to appear.\n       * @param {String} stackName\n       * @returns {StackMixin}\n       */\n      hideStack (stackName) {\n          const layer = this._findLayerByName(stackName);\n          if (layer) {\n              layer.hidden = true;\n          }\n          return this;\n      }\n\n      /**\n       * Show all stacks on the chart with the given name.\n       * The chart must be re-rendered for this change to appear.\n       * @param {String} stackName\n       * @returns {StackMixin}\n       */\n      showStack (stackName) {\n          const layer = this._findLayerByName(stackName);\n          if (layer) {\n              layer.hidden = false;\n          }\n          return this;\n      }\n\n      getValueAccessorByIndex (index) {\n          return this._stack[index].accessor || this.valueAccessor();\n      }\n\n      yAxisMin () {\n          const m = d3Array.min(this._flattenStack(), p => (p.y < 0) ? (p.y + p.y0) : p.y0);\n          return utils.subtract(m, this.yAxisPadding());\n      }\n\n      yAxisMax () {\n          const m = d3Array.max(this._flattenStack(), p => (p.y > 0) ? (p.y + p.y0) : p.y0);\n          return utils.add(m, this.yAxisPadding());\n      }\n\n      _flattenStack () {\n          // A round about way to achieve flatMap\n          // When target browsers support flatMap, just replace map -> flatMap, no concat needed\n          const values = this.data().map(layer => layer.domainValues);\n          return [].concat(...values);\n      }\n\n      xAxisMin () {\n          const m = d3Array.min(this._flattenStack(), pluck('x'));\n          return utils.subtract(m, this.xAxisPadding(), this.xAxisPaddingUnit());\n      }\n\n      xAxisMax () {\n          const m = d3Array.max(this._flattenStack(), pluck('x'));\n          return utils.add(m, this.xAxisPadding(), this.xAxisPaddingUnit());\n      }\n\n      /**\n       * Set or get the title function. Chart class will use this function to render svg title (usually interpreted by\n       * browser as tooltips) for each child element in the chart, i.e. a slice in a pie chart or a bubble in a bubble chart.\n       * Almost every chart supports title function however in grid coordinate chart you need to turn off brush in order to\n       * use title otherwise the brush layer will block tooltip trigger.\n       *\n       * If the first argument is a stack name, the title function will get or set the title for that stack. If stackName\n       * is not provided, the first stack is implied.\n       * @example\n       * // set a title function on 'first stack'\n       * chart.title('first stack', function(d) { return d.key + ': ' + d.value; });\n       * // get a title function from 'second stack'\n       * var secondTitleFunction = chart.title('second stack');\n       * @param {String} [stackName]\n       * @param {Function} [titleAccessor]\n       * @returns {String|StackMixin}\n       */\n      title (stackName, titleAccessor) {\n          if (!stackName) {\n              return super.title();\n          }\n\n          if (typeof stackName === 'function') {\n              return super.title(stackName);\n          }\n          if (stackName === this._groupName && typeof titleAccessor === 'function') {\n              return super.title(titleAccessor);\n          }\n\n          if (typeof titleAccessor !== 'function') {\n              return this._titles[stackName] || super.title();\n          }\n\n          this._titles[stackName] = titleAccessor;\n\n          return this;\n      }\n\n      /**\n       * Gets or sets the stack layout algorithm, which computes a baseline for each stack and\n       * propagates it to the next.\n       * @see {@link https://github.com/d3/d3-3.x-api-reference/blob/master/Stack-Layout.md d3.stackD3v3}\n       * @param {Function} [_stack=d3.stackD3v3]\n       * @returns {Function|StackMixin}\n       */\n      stackLayout (_stack) {\n          if (!arguments.length) {\n              return this._stackLayout;\n          }\n          this._stackLayout = _stack;\n          return this;\n      }\n\n      /**\n       * Since dc.js 2.0, there has been {@link https://github.com/dc-js/dc.js/issues/949 an issue}\n       * where points are filtered to the current domain. While this is a useful optimization, it is\n       * incorrectly implemented: the next point outside the domain is required in order to draw lines\n       * that are clipped to the bounds, as well as bars that are partly clipped.\n       *\n       * A fix will be included in dc.js 2.1.x, but a workaround is needed for dc.js 2.0 and until\n       * that fix is published, so set this flag to skip any filtering of points.\n       *\n       * Once the bug is fixed, this flag will have no effect, and it will be deprecated.\n       * @param {Boolean} [evadeDomainFilter=false]\n       * @returns {Boolean|StackMixin}\n       */\n      evadeDomainFilter (evadeDomainFilter) {\n          if (!arguments.length) {\n              return this._evadeDomainFilter;\n          }\n          this._evadeDomainFilter = evadeDomainFilter;\n          return this;\n      }\n\n      _visibility (l) {\n          return !l.hidden;\n      }\n\n      _ordinalXDomain () {\n          const flat = this._flattenStack().map(pluck('data'));\n          const ordered = this._computeOrderedGroups(flat);\n          return ordered.map(this.keyAccessor());\n      }\n\n      legendables () {\n          return this._stack.map((layer, i) => ({\n              chart: this,\n              name: layer.name,\n              hidden: layer.hidden || false,\n              color: this.getColor.call(layer, layer.values, i)\n          }));\n      }\n\n      isLegendableHidden (d) {\n          const layer = this._findLayerByName(d.name);\n          return layer ? layer.hidden : false;\n      }\n\n      legendToggle (d) {\n          if (this._hidableStacks) {\n              if (this.isLegendableHidden(d)) {\n                  this.showStack(d.name);\n              } else {\n                  this.hideStack(d.name);\n              }\n              //_chart.redraw();\n              this.renderGroup();\n          }\n      }\n  }\n\n  const MIN_BAR_WIDTH = 1;\n  const DEFAULT_GAP_BETWEEN_BARS = 2;\n  const LABEL_PADDING = 3;\n\n  /**\n   * Concrete bar chart/histogram implementation.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n   * @mixes StackMixin\n   */\n  class BarChart extends StackMixin {\n      /**\n       * Create a Bar Chart\n       * @example\n       * // create a bar chart under #chart-container1 element using the default global chart group\n       * var chart1 = new BarChart('#chart-container1');\n       * // create a bar chart under #chart-container2 element using chart group A\n       * var chart2 = new BarChart('#chart-container2', 'chartGroupA');\n       * // create a sub-chart under a composite parent chart\n       * var chart3 = new BarChart(compositeChart);\n       * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n       * specifying a dom block element such as a div; or a dom element or d3 selection.  If the bar\n       * chart is a sub-chart in a {@link CompositeChart Composite Chart} then pass in the parent\n       * composite chart instance instead.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._gap = DEFAULT_GAP_BETWEEN_BARS;\n          this._centerBar = false;\n          this._alwaysUseRounding = false;\n\n          this._barWidth = undefined;\n\n          this.label(d => utils.printSingleValue(d.y0 + d.y), false);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Get or set the outer padding on an ordinal bar chart. This setting has no effect on non-ordinal charts.\n       * Will pad the width by `padding * barWidth` on each side of the chart.\n       * @param {Number} [padding=0.5]\n       * @returns {Number|BarChart}\n       */\n      outerPadding (padding) {\n          if (!arguments.length) {\n              return this._outerRangeBandPadding();\n          }\n          return this._outerRangeBandPadding(padding);\n      }\n\n      rescale () {\n          super.rescale();\n          this._barWidth = undefined;\n          return this;\n      }\n\n      render () {\n          if (this.round() && this._centerBar && !this._alwaysUseRounding) {\n              logger.warn('By default, brush rounding is disabled if bars are centered. ' +\n                  'See dc.js bar chart API documentation for details.');\n          }\n\n          return super.render();\n      }\n\n      plotData () {\n          let layers = this.chartBodyG().selectAll('g.stack')\n              .data(this.data());\n\n          this._calculateBarWidth();\n\n          layers = layers\n              .enter()\n              .append('g')\n              .attr('class', (d, i) => `stack _${i}`)\n              .merge(layers);\n\n          const last = layers.size() - 1;\n          {\n              const chart = this;\n              layers.each(function (d, i) {\n                  const layer = d3Selection.select(this);\n\n                  chart._renderBars(layer, i, d);\n\n                  if (chart.renderLabel() && last === i) {\n                      chart._renderLabels(layer, i, d);\n                  }\n              });\n          }\n      }\n\n      _barHeight (d) {\n          return utils.safeNumber(Math.abs(this.y()(d.y + d.y0) - this.y()(d.y0)));\n      }\n\n      _labelXPos (d) {\n          let x = this.x()(d.x);\n          if (!this._centerBar) {\n              x += this._barWidth / 2;\n          }\n          if (this.isOrdinal() && this._gap !== undefined) {\n              x += this._gap / 2;\n          }\n          return utils.safeNumber(x);\n      }\n\n      _labelYPos (d) {\n          let y = this.y()(d.y + d.y0);\n\n          if (d.y < 0) {\n              y -= this._barHeight(d);\n          }\n\n          return utils.safeNumber(y - LABEL_PADDING);\n      }\n\n      _renderLabels (layer, layerIndex, data) {\n          const labels = layer.selectAll('text.barLabel')\n              .data(data.values, pluck('x'));\n\n          const labelsEnterUpdate = labels\n              .enter()\n              .append('text')\n              .attr('class', 'barLabel')\n              .attr('text-anchor', 'middle')\n              .attr('x', d => this._labelXPos(d))\n              .attr('y', d => this._labelYPos(d))\n              .merge(labels);\n\n          if (this.isOrdinal()) {\n              labelsEnterUpdate.on('click', d3compat.eventHandler(d => this.onClick(d)));\n              labelsEnterUpdate.attr('cursor', 'pointer');\n          }\n\n          transition(labelsEnterUpdate, this.transitionDuration(), this.transitionDelay())\n              .attr('x', d => this._labelXPos(d))\n              .attr('y', d => this._labelYPos(d))\n              .text(d => this.label()(d));\n\n          transition(labels.exit(), this.transitionDuration(), this.transitionDelay())\n              .attr('height', 0)\n              .remove();\n      }\n\n      _barXPos (d) {\n          let x = this.x()(d.x);\n          if (this._centerBar) {\n              x -= this._barWidth / 2;\n          }\n          if (this.isOrdinal() && this._gap !== undefined) {\n              x += this._gap / 2;\n          }\n          return utils.safeNumber(x);\n      }\n\n      _renderBars (layer, layerIndex, data) {\n          const bars = layer.selectAll('rect.bar')\n              .data(data.values, pluck('x'));\n\n          const enter = bars.enter()\n              .append('rect')\n              .attr('class', 'bar')\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('fill', pluck('data', this.getColor))\n              .attr('x', d => this._barXPos(d))\n              .attr('y', this.yAxisHeight())\n              .attr('height', 0);\n\n          const barsEnterUpdate = enter.merge(bars);\n\n          if (this.renderTitle()) {\n              enter.append('title').text(pluck('data', this.title(data.name)));\n          }\n\n          if (this.isOrdinal()) {\n              barsEnterUpdate.on('click', d3compat.eventHandler(d => this.onClick(d)));\n          }\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.onClick);\n          }\n\n          transition(barsEnterUpdate, this.transitionDuration(), this.transitionDelay())\n              .attr('x', d => this._barXPos(d))\n              .attr('y', d => {\n                  let y = this.y()(d.y + d.y0);\n\n                  if (d.y < 0) {\n                      y -= this._barHeight(d);\n                  }\n\n                  return utils.safeNumber(y);\n              })\n              .attr('width', this._barWidth)\n              .attr('height', d => this._barHeight(d))\n              .attr('fill', pluck('data', this.getColor))\n              .select('title').text(pluck('data', this.title(data.name)));\n\n          transition(bars.exit(), this.transitionDuration(), this.transitionDelay())\n              .attr('x', d => this.x()(d.x))\n              .attr('width', this._barWidth * 0.9)\n              .remove();\n      }\n\n      _calculateBarWidth () {\n          if (this._barWidth === undefined) {\n              const numberOfBars = this.xUnitCount();\n\n              // please can't we always use rangeBands for bar charts?\n              if (this.isOrdinal() && this._gap === undefined) {\n                  this._barWidth = Math.floor(this.x().bandwidth());\n              } else if (this._gap) {\n                  this._barWidth = Math.floor((this.xAxisLength() - (numberOfBars - 1) * this._gap) / numberOfBars);\n              } else {\n                  this._barWidth = Math.floor(this.xAxisLength() / (1 + this.barPadding()) / numberOfBars);\n              }\n\n              if (this._barWidth === Infinity || isNaN(this._barWidth) || this._barWidth < MIN_BAR_WIDTH) {\n                  this._barWidth = MIN_BAR_WIDTH;\n              }\n          }\n      }\n\n      fadeDeselectedArea (brushSelection) {\n          const bars = this.chartBodyG().selectAll('rect.bar');\n\n          if (this.isOrdinal()) {\n              if (this.hasFilter()) {\n                  bars.classed(constants.SELECTED_CLASS, d => this.hasFilter(d.x));\n                  bars.classed(constants.DESELECTED_CLASS, d => !this.hasFilter(d.x));\n              } else {\n                  bars.classed(constants.SELECTED_CLASS, false);\n                  bars.classed(constants.DESELECTED_CLASS, false);\n              }\n          } else if (this.brushOn() || this.parentBrushOn()) {\n              if (!this.brushIsEmpty(brushSelection)) {\n                  const start = brushSelection[0];\n                  const end = brushSelection[1];\n\n                  bars.classed(constants.DESELECTED_CLASS, d => d.x < start || d.x >= end);\n              } else {\n                  bars.classed(constants.DESELECTED_CLASS, false);\n              }\n          }\n      }\n\n      /**\n       * Whether the bar chart will render each bar centered around the data position on the x-axis.\n       * @param {Boolean} [centerBar=false]\n       * @returns {Boolean|BarChart}\n       */\n      centerBar (centerBar) {\n          if (!arguments.length) {\n              return this._centerBar;\n          }\n          this._centerBar = centerBar;\n          return this;\n      }\n\n      onClick (d) {\n          super.onClick(d.data);\n      }\n\n      /**\n       * Get or set the spacing between bars as a fraction of bar size. Valid values are between 0-1.\n       * Setting this value will also remove any previously set {@link BarChart#gap gap}. See the\n       * {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3 docs}\n       * for a visual description of how the padding is applied.\n       * @param {Number} [barPadding=0]\n       * @returns {Number|BarChart}\n       */\n      barPadding (barPadding) {\n          if (!arguments.length) {\n              return this._rangeBandPadding();\n          }\n          this._rangeBandPadding(barPadding);\n          this._gap = undefined;\n          return this;\n      }\n\n      _useOuterPadding () {\n          return this._gap === undefined;\n      }\n\n      /**\n       * Manually set fixed gap (in px) between bars instead of relying on the default auto-generated\n       * gap.  By default the bar chart implementation will calculate and set the gap automatically\n       * based on the number of data points and the length of the x axis.\n       * @param {Number} [gap=2]\n       * @returns {Number|BarChart}\n       */\n      gap (gap) {\n          if (!arguments.length) {\n              return this._gap;\n          }\n          this._gap = gap;\n          return this;\n      }\n\n      extendBrush (brushSelection) {\n          if (brushSelection && this.round() && (!this._centerBar || this._alwaysUseRounding)) {\n              brushSelection[0] = this.round()(brushSelection[0]);\n              brushSelection[1] = this.round()(brushSelection[1]);\n          }\n          return brushSelection;\n      }\n\n      /**\n       * Set or get whether rounding is enabled when bars are centered. If false, using\n       * rounding with centered bars will result in a warning and rounding will be ignored.  This flag\n       * has no effect if bars are not {@link BarChart#centerBar centered}.\n       * When using standard d3.js rounding methods, the brush often doesn't align correctly with\n       * centered bars since the bars are offset.  The rounding function must add an offset to\n       * compensate, such as in the following example.\n       * @example\n       * chart.round(function(n) { return Math.floor(n) + 0.5; });\n       * @param {Boolean} [alwaysUseRounding=false]\n       * @returns {Boolean|BarChart}\n       */\n      alwaysUseRounding (alwaysUseRounding) {\n          if (!arguments.length) {\n              return this._alwaysUseRounding;\n          }\n          this._alwaysUseRounding = alwaysUseRounding;\n          return this;\n      }\n\n      legendHighlight (d) {\n          const colorFilter = (color, inv) => function () {\n              const item = d3Selection.select(this);\n              const match = item.attr('fill') === color;\n              return inv ? !match : match;\n          };\n\n          if (!this.isLegendableHidden(d)) {\n              this.g().selectAll('rect.bar')\n                  .classed('highlight', colorFilter(d.color))\n                  .classed('fadeout', colorFilter(d.color, true));\n          }\n      }\n\n      legendReset () {\n          this.g().selectAll('rect.bar')\n              .classed('highlight', false)\n              .classed('fadeout', false);\n      }\n\n      xAxisMax () {\n          let max = super.xAxisMax();\n          if ('resolution' in this.xUnits()) {\n              const res = this.xUnits().resolution;\n              max += res;\n          }\n          return max;\n      }\n  }\n\n  const barChart = (parent, chartGroup) => new BarChart(parent, chartGroup);\n\n  // Returns a function to compute the interquartile range.\n  function defaultWhiskersIQR (k) {\n      return d => {\n          const q1 = d.quartiles[0];\n          const q3 = d.quartiles[2];\n          const iqr = (q3 - q1) * k;\n\n          let i = -1;\n          let j = d.length;\n\n          do {\n              ++i;\n          } while (d[i] < q1 - iqr);\n\n          do {\n              --j;\n          } while (d[j] > q3 + iqr);\n\n          return [i, j];\n      };\n  }\n\n  /**\n   * A box plot is a chart that depicts numerical data via their quartile ranges.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.io/dc.js/examples/boxplot-basic.html Boxplot Basic example}\n   * - {@link http://dc-js.github.io/dc.js/examples/boxplot-enhanced.html Boxplot Enhanced example}\n   * - {@link http://dc-js.github.io/dc.js/examples/boxplot-render-data.html Boxplot Render Data example}\n   * - {@link http://dc-js.github.io/dc.js/examples/boxplot-time.html Boxplot time example}\n   * @mixes CoordinateGridMixin\n   */\n  class BoxPlot extends CoordinateGridMixin {\n      /**\n       * Create a Box Plot.\n       *\n       * @example\n       * // create a box plot under #chart-container1 element using the default global chart group\n       * var boxPlot1 = new BoxPlot('#chart-container1');\n       * // create a box plot under #chart-container2 element using chart group A\n       * var boxPlot2 = new BoxPlot('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._whiskerIqrFactor = 1.5;\n          this._whiskersIqr = defaultWhiskersIQR;\n          this._whiskers = this._whiskersIqr(this._whiskerIqrFactor);\n\n          this._box = d3Box();\n          this._tickFormat = null;\n          this._renderDataPoints = false;\n          this._dataOpacity = 0.3;\n          this._dataWidthPortion = 0.8;\n          this._showOutliers = true;\n          this._boldOutlier = false;\n\n          // Used in yAxisMin and yAxisMax to add padding in pixel coordinates\n          // so the min and max data points/whiskers are within the chart\n          this._yRangePadding = 8;\n\n          this._boxWidth = (innerChartWidth, xUnits) => {\n              if (this.isOrdinal()) {\n                  return this.x().bandwidth();\n              } else {\n                  return innerChartWidth / (1 + this.boxPadding()) / xUnits;\n              }\n          };\n\n          // default to ordinal\n          this.x(d3Scale.scaleBand());\n          this.xUnits(units.ordinal);\n\n          // valueAccessor should return an array of values that can be coerced into numbers\n          // or if data is overloaded for a static array of arrays, it should be `Number`.\n          // Empty arrays are not included.\n          this.data(group => group.all().map(d => {\n              d.map = accessor => accessor.call(d, d);\n              return d;\n          }).filter(d => {\n              const values = this.valueAccessor()(d);\n              return values.length !== 0;\n          }));\n\n          this.boxPadding(0.8);\n          this.outerPadding(0.5);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Get or set the spacing between boxes as a fraction of box size. Valid values are within 0-1.\n       * See the {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3 docs}\n       * for a visual description of how the padding is applied.\n       * @see {@link https://github.com/d3/d3-scale/blob/master/README.md#scaleBand d3.scaleBand}\n       * @param {Number} [padding=0.8]\n       * @returns {Number|BoxPlot}\n       */\n      boxPadding (padding) {\n          if (!arguments.length) {\n              return this._rangeBandPadding();\n          }\n          return this._rangeBandPadding(padding);\n      }\n\n      /**\n       * Get or set the outer padding on an ordinal box chart. This setting has no effect on non-ordinal charts\n       * or on charts with a custom {@link BoxPlot#boxWidth .boxWidth}. Will pad the width by\n       * `padding * barWidth` on each side of the chart.\n       * @param {Number} [padding=0.5]\n       * @returns {Number|BoxPlot}\n       */\n      outerPadding (padding) {\n          if (!arguments.length) {\n              return this._outerRangeBandPadding();\n          }\n          return this._outerRangeBandPadding(padding);\n      }\n\n      /**\n       * Get or set the numerical width of the boxplot box. The width may also be a function taking as\n       * parameters the chart width excluding the right and left margins, as well as the number of x\n       * units.\n       * @example\n       * // Using numerical parameter\n       * chart.boxWidth(10);\n       * // Using function\n       * chart.boxWidth((innerChartWidth, xUnits) { ... });\n       * @param {Number|Function} [boxWidth=0.5]\n       * @returns {Number|Function|BoxPlot}\n       */\n      boxWidth (boxWidth) {\n          if (!arguments.length) {\n              return this._boxWidth;\n          }\n          this._boxWidth = typeof boxWidth === 'function' ? boxWidth : utils.constant(boxWidth);\n          return this;\n      }\n\n      _boxTransform (d, i) {\n          const xOffset = this.x()(this.keyAccessor()(d, i));\n          return `translate(${xOffset}, 0)`;\n      }\n\n      _preprocessData () {\n          if (this.elasticX()) {\n              this.x().domain([]);\n          }\n      }\n\n      plotData () {\n          this._calculatedBoxWidth = this._boxWidth(this.effectiveWidth(), this.xUnitCount());\n\n          this._box.whiskers(this._whiskers)\n              .width(this._calculatedBoxWidth)\n              .height(this.effectiveHeight())\n              .value(this.valueAccessor())\n              .domain(this.y().domain())\n              .duration(this.transitionDuration())\n              .tickFormat(this._tickFormat)\n              .renderDataPoints(this._renderDataPoints)\n              .dataOpacity(this._dataOpacity)\n              .dataWidthPortion(this._dataWidthPortion)\n              .renderTitle(this.renderTitle())\n              .showOutliers(this._showOutliers)\n              .boldOutlier(this._boldOutlier);\n\n          const boxesG = this.chartBodyG().selectAll('g.box').data(this.data(), this.keyAccessor());\n\n          const boxesGEnterUpdate = this._renderBoxes(boxesG);\n          this._updateBoxes(boxesGEnterUpdate);\n          this._removeBoxes(boxesG);\n\n          this.fadeDeselectedArea(this.filter());\n      }\n\n      _renderBoxes (boxesG) {\n          const boxesGEnter = boxesG.enter().append('g');\n\n          boxesGEnter\n              .attr('class', 'box')\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('transform', (d, i) => this._boxTransform(d, i))\n              .call(this._box)\n              .on('click', d3compat.eventHandler(d => {\n                  this.filter(this.keyAccessor()(d));\n                  this.redrawGroup();\n              }))\n              .selectAll('circle')\n              .classed('dc-tabbable', this._keyboardAccessible);\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.onClick);\n          }\n\n          return boxesGEnter.merge(boxesG);\n      }\n\n      _updateBoxes (boxesG) {\n          const chart = this;\n          transition(boxesG, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', (d, i) => this._boxTransform(d, i))\n              .call(this._box)\n              .each(function (d) {\n                  const color = chart.getColor(d, 0);\n                  d3Selection.select(this).select('rect.box').attr('fill', color);\n                  d3Selection.select(this).selectAll('circle.data').attr('fill', color);\n              });\n      }\n\n      _removeBoxes (boxesG) {\n          boxesG.exit().remove().call(this._box);\n      }\n\n      _minDataValue () {\n          return d3Array.min(this.data(), e => d3Array.min(this.valueAccessor()(e)));\n      }\n\n      _maxDataValue () {\n          return d3Array.max(this.data(), e => d3Array.max(this.valueAccessor()(e)));\n      }\n\n      _yAxisRangeRatio () {\n          return ((this._maxDataValue() - this._minDataValue()) / this.effectiveHeight());\n      }\n\n      onClick (d) {\n          this.filter(this.keyAccessor()(d));\n          this.redrawGroup();\n      }\n\n      fadeDeselectedArea (brushSelection) {\n          const chart = this;\n          if (this.hasFilter()) {\n              if (this.isOrdinal()) {\n                  this.g().selectAll('g.box').each(function (d) {\n                      if (chart.isSelectedNode(d)) {\n                          chart.highlightSelected(this);\n                      } else {\n                          chart.fadeDeselected(this);\n                      }\n                  });\n              } else {\n                  if (!(this.brushOn() || this.parentBrushOn())) {\n                      return;\n                  }\n                  const start = brushSelection[0];\n                  const end = brushSelection[1];\n                  this.g().selectAll('g.box').each(function (d) {\n                      const key = chart.keyAccessor()(d);\n                      if (key < start || key >= end) {\n                          chart.fadeDeselected(this);\n                      } else {\n                          chart.highlightSelected(this);\n                      }\n                  });\n              }\n          } else {\n              this.g().selectAll('g.box').each(function () {\n                  chart.resetHighlight(this);\n              });\n          }\n      }\n\n      isSelectedNode (d) {\n          return this.hasFilter(this.keyAccessor()(d));\n      }\n\n      yAxisMin () {\n          const padding = this._yRangePadding * this._yAxisRangeRatio();\n          return utils.subtract(this._minDataValue() - padding, this.yAxisPadding());\n      }\n\n      yAxisMax () {\n          const padding = this._yRangePadding * this._yAxisRangeRatio();\n          return utils.add(this._maxDataValue() + padding, this.yAxisPadding());\n      }\n\n      /**\n       * Get or set the numerical format of the boxplot median, whiskers and quartile labels. Defaults\n       * to integer formatting.\n       * @example\n       * // format ticks to 2 decimal places\n       * chart.tickFormat(d3.format('.2f'));\n       * @param {Function} [tickFormat]\n       * @returns {Number|Function|BoxPlot}\n       */\n      tickFormat (tickFormat) {\n          if (!arguments.length) {\n              return this._tickFormat;\n          }\n          this._tickFormat = tickFormat;\n          return this;\n      }\n\n      /**\n       * Get or set the amount of padding to add, in pixel coordinates, to the top and\n       * bottom of the chart to accommodate box/whisker labels.\n       * @example\n       * // allow more space for a bigger whisker font\n       * chart.yRangePadding(12);\n       * @param {Function} [yRangePadding = 8]\n       * @returns {Number|Function|BoxPlot}\n       */\n      yRangePadding (yRangePadding) {\n          if (!arguments.length) {\n              return this._yRangePadding;\n          }\n          this._yRangePadding = yRangePadding;\n          return this;\n      }\n\n      /**\n       * Get or set whether individual data points will be rendered.\n       * @example\n       * // Enable rendering of individual data points\n       * chart.renderDataPoints(true);\n       * @param {Boolean} [show=false]\n       * @returns {Boolean|BoxPlot}\n       */\n      renderDataPoints (show) {\n          if (!arguments.length) {\n              return this._renderDataPoints;\n          }\n          this._renderDataPoints = show;\n          return this;\n      }\n\n      /**\n       * Get or set the opacity when rendering data.\n       * @example\n       * // If individual data points are rendered increase the opacity.\n       * chart.dataOpacity(0.7);\n       * @param {Number} [opacity=0.3]\n       * @returns {Number|BoxPlot}\n       */\n      dataOpacity (opacity) {\n          if (!arguments.length) {\n              return this._dataOpacity;\n          }\n          this._dataOpacity = opacity;\n          return this;\n      }\n\n      /**\n       * Get or set the portion of the width of the box to show data points.\n       * @example\n       * // If individual data points are rendered increase the data box.\n       * chart.dataWidthPortion(0.9);\n       * @param {Number} [percentage=0.8]\n       * @returns {Number|BoxPlot}\n       */\n      dataWidthPortion (percentage) {\n          if (!arguments.length) {\n              return this._dataWidthPortion;\n          }\n          this._dataWidthPortion = percentage;\n          return this;\n      }\n\n      /**\n       * Get or set whether outliers will be rendered.\n       * @example\n       * // Disable rendering of outliers\n       * chart.showOutliers(false);\n       * @param {Boolean} [show=true]\n       * @returns {Boolean|BoxPlot}\n       */\n      showOutliers (show) {\n          if (!arguments.length) {\n              return this._showOutliers;\n          }\n          this._showOutliers = show;\n          return this;\n      }\n\n      /**\n       * Get or set whether outliers will be drawn bold.\n       * @example\n       * // If outliers are rendered display as bold\n       * chart.boldOutlier(true);\n       * @param {Boolean} [show=false]\n       * @returns {Boolean|BoxPlot}\n       */\n      boldOutlier (show) {\n          if (!arguments.length) {\n              return this._boldOutlier;\n          }\n          this._boldOutlier = show;\n          return this;\n      }\n  }\n\n  const boxPlot = (parent, chartGroup) => new BoxPlot(parent, chartGroup);\n\n  /**\n   * A concrete implementation of a general purpose bubble chart that allows data visualization using the\n   * following dimensions:\n   * - x axis position\n   * - y axis position\n   * - bubble radius\n   * - color\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * - {@link http://dc-js.github.com/dc.js/vc/index.html US Venture Capital Landscape 2011}\n   * @mixes BubbleMixin\n   * @mixes CoordinateGridMixin\n   */\n  class BubbleChart extends BubbleMixin(CoordinateGridMixin) {\n      /**\n       * Create a Bubble Chart.\n       *\n       * @example\n       * // create a bubble chart under #chart-container1 element using the default global chart group\n       * var bubbleChart1 = new BubbleChart('#chart-container1');\n       * // create a bubble chart under #chart-container2 element using chart group A\n       * var bubbleChart2 = new BubbleChart('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this.transitionDuration(750);\n\n          this.transitionDelay(0);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _bubbleLocator (d) {\n          return `translate(${this._bubbleX(d)},${this._bubbleY(d)})`;\n      }\n\n      plotData () {\n          this.calculateRadiusDomain();\n          this.r().range([this.MIN_RADIUS, this.xAxisLength() * this.maxBubbleRelativeSize()]);\n\n          const data = this.data();\n          let bubbleG = this.chartBodyG().selectAll(`g.${this.BUBBLE_NODE_CLASS}`)\n              .data(data, d => d.key);\n          if (this.sortBubbleSize() || this.keyboardAccessible()) {\n              // update dom order based on sort\n              bubbleG.order();\n          }\n\n          this._removeNodes(bubbleG);\n\n          bubbleG = this._renderNodes(bubbleG);\n\n          this._updateNodes(bubbleG);\n\n          this.fadeDeselectedArea(this.filter());\n      }\n\n      _renderNodes (bubbleG) {\n          const bubbleGEnter = bubbleG.enter().append('g');\n\n          bubbleGEnter\n              .attr('class', this.BUBBLE_NODE_CLASS)\n              .attr('transform', d => this._bubbleLocator(d))\n              .append('circle').attr('class', (d, i) => `${this.BUBBLE_CLASS} _${i}`)\n              .on('click', d3compat.eventHandler(d => this.onClick(d)))\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('fill', this.getColor)\n              .attr('r', 0);\n\n          bubbleG = bubbleGEnter.merge(bubbleG);\n\n          transition(bubbleG, this.transitionDuration(), this.transitionDelay())\n              .select(`circle.${this.BUBBLE_CLASS}`)\n              .attr('r', d => this.bubbleR(d))\n              .attr('opacity', d => (this.bubbleR(d) > 0) ? 1 : 0);\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.onClick);\n          }\n\n          this._doRenderLabel(bubbleGEnter);\n\n          this._doRenderTitles(bubbleGEnter);\n\n          return bubbleG;\n      }\n\n      _updateNodes (bubbleG) {\n          transition(bubbleG, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', d => this._bubbleLocator(d))\n              .select(`circle.${this.BUBBLE_CLASS}`)\n              .attr('fill', this.getColor)\n              .attr('r', d => this.bubbleR(d))\n              .attr('opacity', d => (this.bubbleR(d) > 0) ? 1 : 0);\n\n          this.doUpdateLabels(bubbleG);\n          this.doUpdateTitles(bubbleG);\n      }\n\n      _removeNodes (bubbleG) {\n          bubbleG.exit().remove();\n      }\n\n      _bubbleX (d) {\n          let x = this.x()(this.keyAccessor()(d));\n          if (isNaN(x) || !isFinite(x)) {\n              x = 0;\n          }\n          return x;\n      }\n\n      _bubbleY (d) {\n          let y = this.y()(this.valueAccessor()(d));\n          if (isNaN(y) || !isFinite(y)) {\n              y = 0;\n          }\n          return y;\n      }\n\n      renderBrush () {\n          // override default x axis brush from parent chart\n      }\n\n      redrawBrush (brushSelection, doTransition) {\n          // override default x axis brush from parent chart\n          this.fadeDeselectedArea(brushSelection);\n      }\n  }\n\n  const bubbleChart = (parent, chartGroup) => new BubbleChart(parent, chartGroup);\n\n  const BUBBLE_OVERLAY_CLASS = 'bubble-overlay';\n  const BUBBLE_NODE_CLASS = 'node';\n  const BUBBLE_CLASS = 'bubble';\n\n  /**\n   * The bubble overlay chart is quite different from the typical bubble chart. With the bubble overlay\n   * chart you can arbitrarily place bubbles on an existing svg or bitmap image, thus changing the\n   * typical x and y positioning while retaining the capability to visualize data using bubble radius\n   * and coloring.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n   * @mixes BubbleMixin\n   * @mixes BaseMixin\n   */\n  class BubbleOverlay extends BubbleMixin(BaseMixin) {\n      /**\n       * Create a Bubble Overlay.\n       *\n       * @example\n       * // create a bubble overlay chart on top of the '#chart-container1 svg' element using the default global chart group\n       * var bubbleChart1 = BubbleOverlayChart('#chart-container1').svg(d3.select('#chart-container1 svg'));\n       * // create a bubble overlay chart on top of the '#chart-container2 svg' element using chart group A\n       * var bubbleChart2 = new CompositeChart('#chart-container2', 'chartGroupA').svg(d3.select('#chart-container2 svg'));\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          /**\n           * **mandatory**\n           *\n           * Set the underlying svg image element. Unlike other dc charts this chart will not generate a svg\n           * element; therefore the bubble overlay chart will not work if this function is not invoked. If the\n           * underlying image is a bitmap, then an empty svg will need to be created on top of the image.\n           * @example\n           * // set up underlying svg element\n           * chart.svg(d3.select('#chart svg'));\n           * @param {SVGElement|d3.selection} [imageElement]\n           * @returns {BubbleOverlay}\n           */\n          this._g = undefined;\n          this._points = [];\n          this._keyboardAccessible = false;\n\n          this.transitionDuration(750);\n\n          this.transitionDelay(0);\n\n          this.radiusValueAccessor(d => d.value);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Set up a data point on the overlay. The name of a data point should match a specific 'key' among\n       * data groups generated using keyAccessor.  If a match is found (point name <-> data group key)\n       * then a bubble will be generated at the position specified by the function. x and y\n       * value specified here are relative to the underlying svg.\n       * @param {String} name\n       * @param {Number} x\n       * @param {Number} y\n       * @returns {BubbleOverlay}\n       */\n      point (name, x, y) {\n          this._points.push({name: name, x: x, y: y});\n          return this;\n      }\n\n      _doRender () {\n          this._g = this._initOverlayG();\n\n          this.r().range([this.MIN_RADIUS, this.width() * this.maxBubbleRelativeSize()]);\n\n          this._initializeBubbles();\n\n          this.fadeDeselectedArea(this.filter());\n\n          return this;\n      }\n\n      _initOverlayG () {\n          this._g = this.select(`g.${BUBBLE_OVERLAY_CLASS}`);\n          if (this._g.empty()) {\n              this._g = this.svg().append('g').attr('class', BUBBLE_OVERLAY_CLASS);\n          }\n          return this._g;\n      }\n\n      _initializeBubbles () {\n          const data = this._mapData();\n          this.calculateRadiusDomain();\n\n          this._points.forEach(point => {\n              const nodeG = this._getNodeG(point, data);\n\n              let circle = nodeG.select(`circle.${BUBBLE_CLASS}`);\n\n              if (circle.empty()) {\n                  circle = nodeG.append('circle')\n                      .attr('class', BUBBLE_CLASS)\n                      .classed('dc-tabbable', this._keyboardAccessible)\n                      .attr('r', 0)\n                      .attr('fill', this.getColor)\n                      .on('click', d3compat.eventHandler(d => this.onClick(d)));\n              }\n\n              if (this._keyboardAccessible) {\n                  this._makeKeyboardAccessible(this.onClick);\n              }\n\n              transition(circle, this.transitionDuration(), this.transitionDelay())\n                  .attr('r', d => this.bubbleR(d));\n\n              this._doRenderLabel(nodeG);\n\n              this._doRenderTitles(nodeG);\n          });\n      }\n\n      _mapData () {\n          const data = {};\n          this.data().forEach(datum => {\n              data[this.keyAccessor()(datum)] = datum;\n          });\n          return data;\n      }\n\n      _getNodeG (point, data) {\n          const bubbleNodeClass = `${BUBBLE_NODE_CLASS} ${utils.nameToId(point.name)}`;\n\n          let nodeG = this._g.select(`g.${utils.nameToId(point.name)}`);\n\n          if (nodeG.empty()) {\n              nodeG = this._g.append('g')\n                  .attr('class', bubbleNodeClass)\n                  .attr('transform', `translate(${point.x},${point.y})`);\n          }\n\n          nodeG.datum(data[point.name]);\n\n          return nodeG;\n      }\n\n      _doRedraw () {\n          this._updateBubbles();\n\n          this.fadeDeselectedArea(this.filter());\n\n          return this;\n      }\n\n      _updateBubbles () {\n          const data = this._mapData();\n          this.calculateRadiusDomain();\n\n          this._points.forEach(point => {\n              const nodeG = this._getNodeG(point, data);\n\n              const circle = nodeG.select(`circle.${BUBBLE_CLASS}`);\n\n              transition(circle, this.transitionDuration(), this.transitionDelay())\n                  .attr('r', d => this.bubbleR(d))\n                  .attr('fill', this.getColor);\n\n              this.doUpdateLabels(nodeG);\n\n              this.doUpdateTitles(nodeG);\n          });\n      }\n\n      debug (flag) {\n          if (flag) {\n              let debugG = this.select(`g.${constants.DEBUG_GROUP_CLASS}`);\n\n              if (debugG.empty()) {\n                  debugG = this.svg()\n                      .append('g')\n                      .attr('class', constants.DEBUG_GROUP_CLASS);\n              }\n\n              const debugText = debugG.append('text')\n                  .attr('x', 10)\n                  .attr('y', 20);\n\n              debugG\n                  .append('rect')\n                  .attr('width', this.width())\n                  .attr('height', this.height())\n                  .on('mousemove', d3compat.eventHandler((d, evt) => {\n                      const position = d3compat.pointer(evt, debugG.node());\n                      const msg = `${position[0]}, ${position[1]}`;\n                      debugText.text(msg);\n                  }));\n          } else {\n              this.selectAll('.debug').remove();\n          }\n\n          return this;\n      }\n\n  }\n\n  const bubbleOverlay = (parent, chartGroup) => new BubbleOverlay(parent, chartGroup);\n\n  const GROUP_CSS_CLASS = 'dc-cbox-group';\n  const ITEM_CSS_CLASS = 'dc-cbox-item';\n\n  /**\n   * The CboxMenu is a simple widget designed to filter a dimension by\n   * selecting option(s) from a set of HTML `<input />` elements. The menu can be\n   * made into a set of radio buttons (single select) or checkboxes (multiple).\n   * @mixes BaseMixin\n   */\n  class CboxMenu extends BaseMixin {\n      /**\n       * Create a Cbox Menu.\n       *\n       * @example\n       * // create a cboxMenu under #cbox-container using the default global chart group\n       * var cbox = new CboxMenu('#cbox-container')\n       *                .dimension(states)\n       *                .group(stateGroup);\n       * // the option text can be set via the title() function\n       * // by default the option text is '`key`: `value`'\n       * cbox.title(function (d){\n       *     return 'STATE: ' + d.key;\n       * })\n       * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n       * [d3 single selector](https://github.com/mbostock/d3/wiki/Selections#selecting-elements) specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this widget should be placed in.\n       * Interaction with the widget will only trigger events and redraws within its group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._cbox = undefined;\n          this._promptText = 'Select all';\n          this._multiple = false;\n          this._inputType = 'radio';\n          this._promptValue = null;\n\n          this._uniqueId = utils.uniqueId();\n\n          this.data(group => group.all().filter(this._filterDisplayed));\n\n          // There is an accessor for this attribute, initialized with default value\n          this._filterDisplayed = d => this.valueAccessor()(d) > 0;\n\n          this._order = (a, b) => {\n              if (this.keyAccessor()(a) > this.keyAccessor()(b)) {\n                  return 1;\n              }\n              if (this.keyAccessor()(a) < this.keyAccessor()(b)) {\n                  return -1;\n              }\n              return 0;\n          };\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          return this._doRedraw();\n      }\n\n      _doRedraw () {\n          this.select('ul').remove();\n          this._cbox = this.root()\n              .append('ul')\n              .classed(GROUP_CSS_CLASS, true);\n          this._renderOptions();\n\n          if (this.hasFilter() && this._multiple) {\n              this._cbox.selectAll('input')\n              // adding `false` avoids failing test cases in phantomjs\n                  .property('checked', d => d && this.filters().indexOf(String(this.keyAccessor()(d))) >= 0 || false);\n          } else if (this.hasFilter()) {\n              this._cbox.selectAll('input')\n                  .property('checked', d => {\n                      if (!d) {\n                          return false;\n                      }\n                      return this.keyAccessor()(d) === this.filter();\n                  });\n          }\n          return this;\n      }\n\n      _renderOptions () {\n          let options = this._cbox\n              .selectAll(`li.${ITEM_CSS_CLASS}`)\n              .data(this.data(), d => this.keyAccessor()(d));\n\n          options.exit().remove();\n\n          options = options.enter()\n              .append('li')\n              .classed(ITEM_CSS_CLASS, true)\n              .merge(options);\n\n          options\n              .append('input')\n              .attr('type', this._inputType)\n              .attr('value', d => this.keyAccessor()(d))\n              .attr('name', `domain_${this._uniqueId}`)\n              .attr('id', (d, i) => `input_${this._uniqueId}_${i}`);\n          options\n              .append('label')\n              .attr('for', (d, i) => `input_${this._uniqueId}_${i}`)\n              .text(this.title());\n\n          const chart = this;\n          // 'all' option\n          if (this._multiple) {\n              this._cbox\n                  .append('li')\n                  .append('input')\n                  .attr('type', 'reset')\n                  .text(this._promptText)\n                  .on('click', d3compat.eventHandler(function (d, evt) {\n                      return chart._onChange(d, evt, this);\n                  }));\n          } else {\n              const li = this._cbox.append('li');\n              li.append('input')\n                  .attr('type', this._inputType)\n                  .attr('value', this._promptValue)\n                  .attr('name', `domain_${this._uniqueId}`)\n                  .attr('id', (d, i) => `input_${this._uniqueId}_all`)\n                  .property('checked', true);\n              li.append('label')\n                  .attr('for', (d, i) => `input_${this._uniqueId}_all`)\n                  .text(this._promptText);\n          }\n\n          this._cbox\n              .selectAll(`li.${ITEM_CSS_CLASS}`)\n              .sort(this._order);\n\n          this._cbox.on('change', d3compat.eventHandler(function (d, evt) {\n              return chart._onChange(d, evt, this);\n          }));\n          return options;\n      }\n\n      _onChange (d, evt, element) {\n          let values;\n\n          const target = d3Selection.select(evt.target);\n          let options;\n\n          if (!target.datum()) {\n              values = this._promptValue || null;\n          } else {\n              options = d3Selection.select(element).selectAll('input')\n                  .filter(function (o) {\n                      if (o) {\n                          return this.checked;\n                      }\n                  });\n              values = options.nodes().map(option => option.value);\n              // check if only prompt option is selected\n              if (!this._multiple && values.length === 1) {\n                  values = values[0];\n              }\n          }\n          this.onChange(values);\n      }\n\n      onChange (val) {\n          if (val && this._multiple) {\n              this.replaceFilter([val]);\n          } else if (val) {\n              this.replaceFilter(val);\n          } else {\n              this.filterAll();\n          }\n          events.trigger(() => {\n              this.redrawGroup();\n          });\n      }\n\n      /**\n       * Get or set the function that controls the ordering of option tags in the\n       * cbox menu. By default options are ordered by the group key in ascending\n       * order.\n       * @param {Function} [order]\n       * @returns {Function|CboxMenu}\n       * @example\n       * // order by the group's value\n       * chart.order(function (a,b) {\n       *     return a.value > b.value ? 1 : b.value > a.value ? -1 : 0;\n       * });\n       */\n      order (order) {\n          if (!arguments.length) {\n              return this._order;\n          }\n          this._order = order;\n          return this;\n      }\n\n      /**\n       * Get or set the text displayed in the options used to prompt selection.\n       * @param {String} [promptText='Select all']\n       * @returns {String|CboxMenu}\n       * @example\n       * chart.promptText('All states');\n       */\n      promptText (promptText) {\n          if (!arguments.length) {\n              return this._promptText;\n          }\n          this._promptText = promptText;\n          return this;\n      }\n\n      /**\n       * Get or set the function that filters options prior to display. By default options\n       * with a value of < 1 are not displayed.\n       * @param {function} [filterDisplayed]\n       * @returns {Function|CboxMenu}\n       * @example\n       * // display all options override the `filterDisplayed` function:\n       * chart.filterDisplayed(function () {\n       *     return true;\n       * });\n       */\n      filterDisplayed (filterDisplayed) {\n          if (!arguments.length) {\n              return this._filterDisplayed;\n          }\n          this._filterDisplayed = filterDisplayed;\n          return this;\n      }\n\n      /**\n       * Controls the type of input element. Setting it to true converts\n       * the HTML `input` tags from radio buttons to checkboxes.\n       * @param {boolean} [multiple=false]\n       * @returns {Boolean|CboxMenu}\n       * @example\n       * chart.multiple(true);\n       */\n      multiple (multiple) {\n          if (!arguments.length) {\n              return this._multiple;\n          }\n          this._multiple = multiple;\n          if (this._multiple) {\n              this._inputType = 'checkbox';\n          } else {\n              this._inputType = 'radio';\n          }\n          return this;\n      }\n\n      /**\n       * Controls the default value to be used for\n       * [dimension.filter](https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter)\n       * when only the prompt value is selected. If `null` (the default), no filtering will occur when\n       * just the prompt is selected.\n       * @param {?*} [promptValue=null]\n       * @returns {*|CboxMenu}\n       */\n      promptValue (promptValue) {\n          if (!arguments.length) {\n              return this._promptValue;\n          }\n          this._promptValue = promptValue;\n\n          return this;\n      }\n  }\n\n  const cboxMenu = (parent, chartGroup) => new CboxMenu(parent, chartGroup);\n\n  const SUB_CHART_CLASS = 'sub';\n  const DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING = 12;\n\n  /**\n   * Composite charts are a special kind of chart that render multiple charts on the same Coordinate\n   * Grid. You can overlay (compose) different bar/line/area charts in a single composite chart to\n   * achieve some quite flexible charting effects.\n   * @mixes CoordinateGridMixin\n   */\n  class CompositeChart extends CoordinateGridMixin {\n      /**\n       * Create a Composite Chart.\n       * @example\n       * // create a composite chart under #chart-container1 element using the default global chart group\n       * var compositeChart1 = new CompositeChart('#chart-container1');\n       * // create a composite chart under #chart-container2 element using chart group A\n       * var compositeChart2 = new CompositeChart('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._children = [];\n\n          this._childOptions = {};\n\n          this._shareColors = false;\n          this._shareTitle = true;\n          this._alignYAxes = false;\n\n          this._rightYAxis = d3Axis.axisRight();\n          this._rightYAxisLabel = 0;\n          this._rightYAxisLabelPadding = DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING;\n          this._rightY = undefined;\n          this._rightAxisGridLines = false;\n\n          this._mandatoryAttributes([]);\n          this.transitionDuration(500);\n          this.transitionDelay(0);\n\n          this.on('filtered.dcjs-composite-chart', chart => {\n              // Propagate the filters onto the children\n              // Notice that on children the call is .replaceFilter and not .filter\n              //   the reason is that _chart.filter() returns the entire current set of filters not just the last added one\n              for (let i = 0; i < this._children.length; ++i) {\n                  this._children[i].replaceFilter(this.filter());\n              }\n          });\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _generateG () {\n          const g = super._generateG();\n\n          for (let i = 0; i < this._children.length; ++i) {\n              const child = this._children[i];\n\n              this._generateChildG(child, i);\n\n              if (!child.dimension()) {\n                  child.dimension(this.dimension());\n              }\n              if (!child.group()) {\n                  child.group(this.group());\n              }\n\n              child.chartGroup(this.chartGroup());\n              child.svg(this.svg());\n              child.xUnits(this.xUnits());\n              child.transitionDuration(this.transitionDuration(), this.transitionDelay());\n              child.parentBrushOn(this.brushOn());\n              child.brushOn(false);\n              child.renderTitle(this.renderTitle());\n              child.elasticX(this.elasticX());\n          }\n\n          return g;\n      }\n\n      rescale () {\n          super.rescale();\n\n          this._children.forEach(child => {\n              child.rescale();\n          });\n\n          return this;\n      }\n\n      resizing (resizing) {\n          if (!arguments.length) {\n              return super.resizing();\n          }\n          super.resizing(resizing);\n\n          this._children.forEach(child => {\n              child.resizing(resizing);\n          });\n\n          return this;\n      }\n\n      _prepareYAxis () {\n          const left = (this._leftYAxisChildren().length !== 0);\n          const right = (this._rightYAxisChildren().length !== 0);\n          const ranges = this._calculateYAxisRanges(left, right);\n\n          if (left) {\n              this._prepareLeftYAxis(ranges);\n          }\n          if (right) {\n              this._prepareRightYAxis(ranges);\n          }\n\n          if (this._leftYAxisChildren().length > 0 && !this._rightAxisGridLines) {\n              this._renderHorizontalGridLinesForAxis(this.g(), this.y(), this.yAxis());\n          } else if (this._rightYAxisChildren().length > 0) {\n              this._renderHorizontalGridLinesForAxis(this.g(), this._rightY, this._rightYAxis);\n          }\n      }\n\n      renderYAxis () {\n          if (this._leftYAxisChildren().length !== 0) {\n              this.renderYAxisAt('y', this.yAxis(), this.margins().left);\n              this.renderYAxisLabel('y', this.yAxisLabel(), -90);\n          }\n\n          if (this._rightYAxisChildren().length !== 0) {\n              this.renderYAxisAt('yr', this.rightYAxis(), this.width() - this.margins().right);\n              this.renderYAxisLabel('yr', this.rightYAxisLabel(), 90, this.width() - this._rightYAxisLabelPadding);\n          }\n      }\n\n      _calculateYAxisRanges (left, right) {\n          let lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax;\n          let ranges;\n\n          if (left) {\n              lyAxisMin = this._yAxisMin();\n              lyAxisMax = this._yAxisMax();\n          }\n\n          if (right) {\n              ryAxisMin = this._rightYAxisMin();\n              ryAxisMax = this._rightYAxisMax();\n          }\n\n          if (this.alignYAxes() && left && right) {\n              ranges = this._alignYAxisRanges(lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax);\n          }\n\n          return ranges || {\n              lyAxisMin: lyAxisMin,\n              lyAxisMax: lyAxisMax,\n              ryAxisMin: ryAxisMin,\n              ryAxisMax: ryAxisMax\n          };\n      }\n\n      _alignYAxisRanges (lyAxisMin, lyAxisMax, ryAxisMin, ryAxisMax) {\n          // since the two series will share a zero, each Y is just a multiple\n          // of the other. and the ratio should be the ratio of the ranges of the\n          // input data, so that they come out the same height. so we just min/max\n\n          // note: both ranges already include zero due to the stack mixin (#667)\n          // if #667 changes, we can reconsider whether we want data height or\n          // height from zero to be equal. and it will be possible for the axes\n          // to be aligned but not visible.\n          const extentRatio = (ryAxisMax - ryAxisMin) / (lyAxisMax - lyAxisMin);\n\n          return {\n              lyAxisMin: Math.min(lyAxisMin, ryAxisMin / extentRatio),\n              lyAxisMax: Math.max(lyAxisMax, ryAxisMax / extentRatio),\n              ryAxisMin: Math.min(ryAxisMin, lyAxisMin * extentRatio),\n              ryAxisMax: Math.max(ryAxisMax, lyAxisMax * extentRatio)\n          };\n      }\n\n      _prepareRightYAxis (ranges) {\n          const needDomain = this.rightY() === undefined || this.elasticY(),\n              needRange = needDomain || this.resizing();\n          if (this.rightY() === undefined) {\n              this.rightY(d3Scale.scaleLinear());\n          }\n          if (needDomain) {\n              this.rightY().domain([ranges.ryAxisMin, ranges.ryAxisMax]);\n          }\n          if (needRange) {\n              this.rightY().rangeRound([this.yAxisHeight(), 0]);\n          }\n\n          this.rightY().range([this.yAxisHeight(), 0]);\n          this.rightYAxis(this.rightYAxis().scale(this.rightY()));\n\n          // In D3v4 create a RightAxis\n          // _chart.rightYAxis().orient('right');\n      }\n\n      _prepareLeftYAxis (ranges) {\n          const needDomain = this.y() === undefined || this.elasticY(),\n              needRange = needDomain || this.resizing();\n          if (this.y() === undefined) {\n              this.y(d3Scale.scaleLinear());\n          }\n          if (needDomain) {\n              this.y().domain([ranges.lyAxisMin, ranges.lyAxisMax]);\n          }\n          if (needRange) {\n              this.y().rangeRound([this.yAxisHeight(), 0]);\n          }\n\n          this.y().range([this.yAxisHeight(), 0]);\n          this.yAxis(this.yAxis().scale(this.y()));\n\n          // In D3v4 create a LeftAxis\n          // _chart.yAxis().orient('left');\n      }\n\n      _generateChildG (child, i) {\n          child._generateG(this.g());\n          child.g().attr('class', `${SUB_CHART_CLASS} _${i}`);\n      }\n\n      plotData () {\n          for (let i = 0; i < this._children.length; ++i) {\n              const child = this._children[i];\n\n              if (!child.g()) {\n                  this._generateChildG(child, i);\n              }\n\n              if (this._shareColors) {\n                  child.colors(this.colors());\n              }\n\n              child.x(this.x());\n\n              child.xAxis(this.xAxis());\n\n              if (child.useRightYAxis()) {\n                  child.y(this.rightY());\n                  child.yAxis(this.rightYAxis());\n              } else {\n                  child.y(this.y());\n                  child.yAxis(this.yAxis());\n              }\n\n              child.plotData();\n\n              child._activateRenderlets();\n          }\n      }\n\n      /**\n       * Get or set whether to draw gridlines from the right y axis.  Drawing from the left y axis is the\n       * default behavior. This option is only respected when subcharts with both left and right y-axes\n       * are present.\n       * @param {Boolean} [useRightAxisGridLines=false]\n       * @returns {Boolean|CompositeChart}\n       */\n      useRightAxisGridLines (useRightAxisGridLines) {\n          if (!arguments) {\n              return this._rightAxisGridLines;\n          }\n\n          this._rightAxisGridLines = useRightAxisGridLines;\n          return this;\n      }\n\n      /**\n       * Get or set chart-specific options for all child charts. This is equivalent to calling\n       * {@link BaseMixin#options .options} on each child chart.\n       * @param {Object} [childOptions]\n       * @returns {Object|CompositeChart}\n       */\n      childOptions (childOptions) {\n          if (!arguments.length) {\n              return this._childOptions;\n          }\n          this._childOptions = childOptions;\n          this._children.forEach(child => {\n              child.options(this._childOptions);\n          });\n          return this;\n      }\n\n      fadeDeselectedArea (brushSelection) {\n          if (this.brushOn()) {\n              for (let i = 0; i < this._children.length; ++i) {\n                  const child = this._children[i];\n                  child.fadeDeselectedArea(brushSelection);\n              }\n          }\n      }\n\n      /**\n       * Set or get the right y axis label.\n       * @param {String} [rightYAxisLabel]\n       * @param {Number} [padding]\n       * @returns {String|CompositeChart}\n       */\n      rightYAxisLabel (rightYAxisLabel, padding) {\n          if (!arguments.length) {\n              return this._rightYAxisLabel;\n          }\n          this._rightYAxisLabel = rightYAxisLabel;\n          this.margins().right -= this._rightYAxisLabelPadding;\n          this._rightYAxisLabelPadding = (padding === undefined) ? DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING : padding;\n          this.margins().right += this._rightYAxisLabelPadding;\n          return this;\n      }\n\n      /**\n       * Combine the given charts into one single composite coordinate grid chart.\n       * @example\n       * moveChart.compose([\n       *     // when creating sub-chart you need to pass in the parent chart\n       *     new LineChart(moveChart)\n       *         .group(indexAvgByMonthGroup) // if group is missing then parent's group will be used\n       *         .valueAccessor(function (d){return d.value.avg;})\n       *         // most of the normal functions will continue to work in a composed chart\n       *         .renderArea(true)\n       *         .stack(monthlyMoveGroup, function (d){return d.value;})\n       *         .title(function (d){\n       *             var value = d.value.avg?d.value.avg:d.value;\n       *             if(isNaN(value)) value = 0;\n       *             return dateFormat(d.key) + '\\n' + numberFormat(value);\n       *         }),\n       *     new BarChart(moveChart)\n       *         .group(volumeByMonthGroup)\n       *         .centerBar(true)\n       * ]);\n       * @param {Array<Chart>} [subChartArray]\n       * @returns {CompositeChart}\n       */\n      compose (subChartArray) {\n          this._children = subChartArray;\n          this._children.forEach(child => {\n              child.height(this.height());\n              child.width(this.width());\n              child.margins(this.margins());\n\n              if (this._shareTitle) {\n                  child.title(this.title());\n              }\n\n              child.options(this._childOptions);\n          });\n          this.rescale();\n          return this;\n      }\n\n      _setChildrenProperty (prop, value) {\n          this._children.forEach(child => {\n              child[prop](value);\n          });\n      }\n\n      // properties passed through in compose()\n      height (height) {\n          if(!arguments.length) {\n              return super.height();\n          }\n          super.height(height);\n          this._setChildrenProperty('height', height);\n          return this;\n      }\n\n      width (width) {\n          if(!arguments.length) {\n              return super.width();\n          }\n          super.width(width);\n          this._setChildrenProperty('width', width);\n          return this;\n      }\n\n      margins (margins) {\n          if(!arguments.length) {\n              return super.margins();\n          }\n          super.margins(margins);\n          this._setChildrenProperty('margins', margins);\n          return this;\n      }\n\n      /**\n       * Returns the child charts which are composed into the composite chart.\n       * @returns {Array<BaseMixin>}\n       */\n      children () {\n          return this._children;\n      }\n\n      /**\n       * Get or set color sharing for the chart. If set, the {@link ColorMixin#colors .colors()} value from this chart\n       * will be shared with composed children. Additionally if the child chart implements\n       * Stackable and has not set a custom .colorAccessor, then it will generate a color\n       * specific to its order in the composition.\n       * @param {Boolean} [shareColors=false]\n       * @returns {Boolean|CompositeChart}\n       */\n      shareColors (shareColors) {\n          if (!arguments.length) {\n              return this._shareColors;\n          }\n          this._shareColors = shareColors;\n          return this;\n      }\n\n      /**\n       * Get or set title sharing for the chart. If set, the {@link BaseMixin#title .title()} value from\n       * this chart will be shared with composed children.\n       *\n       * Note: currently you must call this before `compose` or the child will still get the parent's\n       * `title` function!\n       * @param {Boolean} [shareTitle=true]\n       * @returns {Boolean|CompositeChart}\n       */\n      shareTitle (shareTitle) {\n          if (!arguments.length) {\n              return this._shareTitle;\n          }\n          this._shareTitle = shareTitle;\n          return this;\n      }\n\n      /**\n       * Get or set the y scale for the right axis. The right y scale is typically automatically\n       * generated by the chart implementation.\n       * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n       * @param {d3.scale} [yScale]\n       * @returns {d3.scale|CompositeChart}\n       */\n      rightY (yScale) {\n          if (!arguments.length) {\n              return this._rightY;\n          }\n          this._rightY = yScale;\n          this.rescale();\n          return this;\n      }\n\n      /**\n       * Get or set alignment between left and right y axes. A line connecting '0' on both y axis\n       * will be parallel to x axis. This only has effect when {@link CoordinateGridMixin#elasticY elasticY} is true.\n       * @param {Boolean} [alignYAxes=false]\n       * @returns {Chart}\n       */\n      alignYAxes (alignYAxes) {\n          if (!arguments.length) {\n              return this._alignYAxes;\n          }\n          this._alignYAxes = alignYAxes;\n          this.rescale();\n          return this;\n      }\n\n      _leftYAxisChildren () {\n          return this._children.filter(child => !child.useRightYAxis());\n      }\n\n      _rightYAxisChildren () {\n          return this._children.filter(child => child.useRightYAxis());\n      }\n\n      _getYAxisMin (charts) {\n          return charts.map(c => c.yAxisMin());\n      }\n\n      _yAxisMin () {\n          return d3Array.min(this._getYAxisMin(this._leftYAxisChildren()));\n      }\n\n      _rightYAxisMin () {\n          return d3Array.min(this._getYAxisMin(this._rightYAxisChildren()));\n      }\n\n      _getYAxisMax (charts) {\n          return charts.map(c => c.yAxisMax());\n      }\n\n      _yAxisMax () {\n          return utils.add(d3Array.max(this._getYAxisMax(this._leftYAxisChildren())), this.yAxisPadding());\n      }\n\n      _rightYAxisMax () {\n          return utils.add(d3Array.max(this._getYAxisMax(this._rightYAxisChildren())), this.yAxisPadding());\n      }\n\n      _getAllXAxisMinFromChildCharts () {\n          return this._children.map(c => c.xAxisMin());\n      }\n\n      xAxisMin () {\n          return utils.subtract(d3Array.min(this._getAllXAxisMinFromChildCharts()), this.xAxisPadding(), this.xAxisPaddingUnit());\n      }\n\n      _getAllXAxisMaxFromChildCharts () {\n          return this._children.map(c => c.xAxisMax());\n      }\n\n      xAxisMax () {\n          return utils.add(d3Array.max(this._getAllXAxisMaxFromChildCharts()), this.xAxisPadding(), this.xAxisPaddingUnit());\n      }\n\n      legendables () {\n          return this._children.reduce((items, child) => {\n              if (this._shareColors) {\n                  child.colors(this.colors());\n              }\n              items.push.apply(items, child.legendables());\n              return items;\n          }, []);\n      }\n\n      legendHighlight (d) {\n          for (let j = 0; j < this._children.length; ++j) {\n              const child = this._children[j];\n              child.legendHighlight(d);\n          }\n      }\n\n      legendReset (d) {\n          for (let j = 0; j < this._children.length; ++j) {\n              const child = this._children[j];\n              child.legendReset(d);\n          }\n      }\n\n      legendToggle () {\n          console.log('composite should not be getting legendToggle itself');\n      }\n\n      /**\n       * Set or get the right y axis used by the composite chart. This function is most useful when y\n       * axis customization is required. The y axis in dc.js is an instance of a\n       * [d3.axisRight](https://github.com/d3/d3-axis/blob/master/README.md#axisRight) therefore it supports any valid\n       * d3 axis manipulation.\n       *\n       * **Caution**: The right y axis is usually generated internally by dc; resetting it may cause\n       * unexpected results.  Note also that when used as a getter, this function is not chainable: it\n       * returns the axis, not the chart,\n       * {@link https://github.com/dc-js/dc.js/wiki/FAQ#why-does-everything-break-after-a-call-to-xaxis-or-yaxis\n       * so attempting to call chart functions after calling `.yAxis()` will fail}.\n       * @see {@link https://github.com/d3/d3-axis/blob/master/README.md#axisRight}\n       * @example\n       * // customize y axis tick format\n       * chart.rightYAxis().tickFormat(function (v) {return v + '%';});\n       * // customize y axis tick values\n       * chart.rightYAxis().tickValues([0, 100, 200, 300]);\n       * @param {d3.axisRight} [rightYAxis]\n       * @returns {d3.axisRight|CompositeChart}\n       */\n      rightYAxis (rightYAxis) {\n          if (!arguments.length) {\n              return this._rightYAxis;\n          }\n          this._rightYAxis = rightYAxis;\n          return this;\n      }\n\n      yAxisMin () {\n          throw new Error('Not supported for this chart type');\n      }\n\n      yAxisMax () {\n          throw new Error('Not supported for this chart type');\n      }\n  }\n\n  const compositeChart = (parent, chartGroup) => new CompositeChart(parent, chartGroup);\n\n  /**\n   * The data count widget is a simple widget designed to display the number of records selected by the\n   * current filters out of the total number of records in the data set. Once created the data count widget\n   * will automatically update the text content of child elements with the following classes:\n   *\n   * * `.total-count` - total number of records\n   * * `.filter-count` - number of records matched by the current filters\n   *\n   * Note: this widget works best for the specific case of showing the number of records out of a\n   * total. If you want a more general-purpose numeric display, please use the\n   * {@link NumberDisplay} widget instead.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * @mixes BaseMixin\n   */\n  class DataCount extends BaseMixin {\n      /**\n       * Create a Data Count widget.\n       * @example\n       * var ndx = crossfilter(data);\n       * var all = ndx.groupAll();\n       *\n       * new DataCount('.dc-data-count')\n       *     .crossfilter(ndx)\n       *     .groupAll(all);\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._formatNumber = d3Format.format(',d');\n          this._crossfilter = null;\n          this._groupAll = null;\n          this._html = {some: '', all: ''};\n\n          this._mandatoryAttributes(['crossfilter', 'groupAll']);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Gets or sets an optional object specifying HTML templates to use depending how many items are\n       * selected. The text `%total-count` will replaced with the total number of records, and the text\n       * `%filter-count` will be replaced with the number of selected records.\n       * - all: HTML template to use if all items are selected\n       * - some: HTML template to use if not all items are selected\n       * @example\n       * counter.html({\n       *      some: '%filter-count out of %total-count records selected',\n       *      all: 'All records selected. Click on charts to apply filters'\n       * })\n       * @param {{some:String, all: String}} [options]\n       * @returns {{some:String, all: String}|DataCount}\n       */\n      html (options) {\n          if (!arguments.length) {\n              return this._html;\n          }\n          if (options.all) {\n              this._html.all = options.all;\n          }\n          if (options.some) {\n              this._html.some = options.some;\n          }\n          return this;\n      }\n\n      /**\n       * Gets or sets an optional function to format the filter count and total count.\n       * @see {@link https://github.com/d3/d3-format/blob/master/README.md#format d3.format}\n       * @example\n       * counter.formatNumber(d3.format('.2g'))\n       * @param {Function} [formatter=d3.format('.2g')]\n       * @returns {Function|DataCount}\n       */\n      formatNumber (formatter) {\n          if (!arguments.length) {\n              return this._formatNumber;\n          }\n          this._formatNumber = formatter;\n          return this;\n      }\n\n      _doRender () {\n          const tot = this.crossfilter().size(),\n              val = this.groupAll().value();\n          const all = this._formatNumber(tot);\n          const selected = this._formatNumber(val);\n\n          if ((tot === val) && (this._html.all !== '')) {\n              this.root().html(this._html.all.replace('%total-count', all).replace('%filter-count', selected));\n          } else if (this._html.some !== '') {\n              this.root().html(this._html.some.replace('%total-count', all).replace('%filter-count', selected));\n          } else {\n              this.selectAll('.total-count').text(all);\n              this.selectAll('.filter-count').text(selected);\n          }\n          return this;\n      }\n\n      _doRedraw () {\n          return this._doRender();\n      }\n\n      crossfilter (cf) {\n          if (!arguments.length) {\n              return this._crossfilter;\n          }\n          this._crossfilter = cf;\n          return this;\n      }\n\n      dimension (cf) {\n          logger.warnOnce('consider using dataCount.crossfilter instead of dataCount.dimension for clarity');\n          if (!arguments.length) {\n              return this.crossfilter();\n          }\n          return this.crossfilter(cf);\n      }\n\n      groupAll (groupAll) {\n          if (!arguments.length) {\n              return this._groupAll;\n          }\n          this._groupAll = groupAll;\n          return this;\n      }\n\n      group (groupAll) {\n          logger.warnOnce('consider using dataCount.groupAll instead of dataCount.group for clarity');\n          if (!arguments.length) {\n              return this.groupAll();\n          }\n          return this.groupAll(groupAll);\n      }\n  }\n\n  const dataCount = (parent, chartGroup) => new DataCount(parent, chartGroup);\n\n  const LABEL_CSS_CLASS = 'dc-grid-label';\n  const ITEM_CSS_CLASS$1 = 'dc-grid-item';\n  const SECTION_CSS_CLASS = 'dc-grid-section dc-grid-group';\n  const GRID_CSS_CLASS = 'dc-grid-top';\n\n  /**\n   * Data grid is a simple widget designed to list the filtered records, providing\n   * a simple way to define how the items are displayed.\n   *\n   * Note: Formerly the data grid chart (and data table) used the {@link DataGrid#group group} attribute as a\n   * keying function for {@link https://github.com/d3/d3-collection/blob/master/README.md#nest nesting} the data\n   * together in sections.  This was confusing so it has been renamed to `section`, although `group` still works.\n   *\n   * Examples:\n   * - {@link https://dc-js.github.io/dc.js/ep/ List of members of the european parliament}\n   * @mixes BaseMixin\n   */\n  class DataGrid extends BaseMixin {\n      /**\n       * Create a Data Grid.\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._section = null;\n          this._size = 999; // shouldn't be needed, but you might\n          this._html = function (d) {\n              return `you need to provide an html() handling param:  ${JSON.stringify(d)}`;\n          };\n          this._sortBy = function (d) {\n              return d;\n          };\n          this._order = d3Array.ascending;\n          this._beginSlice = 0;\n          this._endSlice = undefined;\n\n          this._htmlSection = d => `<div class='${SECTION_CSS_CLASS}'><h1 class='${LABEL_CSS_CLASS}'>${ \n            this.keyAccessor()(d)}</h1></div>`;\n\n          this._mandatoryAttributes(['dimension', 'section']);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          this.selectAll(`div.${GRID_CSS_CLASS}`).remove();\n\n          this._renderItems(this._renderSections());\n\n          return this;\n      }\n\n      _renderSections () {\n          const sections = this.root().selectAll(`div.${GRID_CSS_CLASS}`)\n              .data(this._nestEntries(), d => this.keyAccessor()(d));\n\n          const itemSection = sections\n              .enter()\n              .append('div')\n              .attr('class', GRID_CSS_CLASS);\n\n          if (this._htmlSection) {\n              itemSection\n                  .html(d => this._htmlSection(d));\n          }\n\n          sections.exit().remove();\n          return itemSection;\n      }\n\n      _nestEntries () {\n          let entries = this.dimension().top(this._size);\n\n          entries = entries\n              .sort((a, b) => this._order(this._sortBy(a), this._sortBy(b)))\n              .slice(this._beginSlice, this._endSlice);\n\n          return d3compat.nester({\n              key: this.section(),\n              sortKeys: this._order,\n              entries\n          });\n      }\n\n      _renderItems (sections) {\n          let items = sections.order()\n              .selectAll(`div.${ITEM_CSS_CLASS$1}`)\n              .data(d => d.values);\n\n          items.exit().remove();\n\n          items = items\n              .enter()\n              .append('div')\n              .attr('class', ITEM_CSS_CLASS$1)\n              .html(d => this._html(d))\n              .merge(items);\n\n          return items;\n      }\n\n      _doRedraw () {\n          return this._doRender();\n      }\n\n      /**\n       * Get or set the section function for the data grid. The section function takes a data row and\n       * returns the key to specify to {@link https://github.com/d3/d3-collection/blob/master/README.md#nest d3.nest}\n       * to split rows into sections.\n       *\n       * Do not pass in a crossfilter section as this will not work.\n       * @example\n       * // section rows by the value of their field\n       * chart\n       *     .section(function(d) { return d.field; })\n       * @param {Function} section Function taking a row of data and returning the nest key.\n       * @returns {Function|DataGrid}\n       */\n      section (section) {\n          if (!arguments.length) {\n              return this._section;\n          }\n          this._section = section;\n          return this;\n      }\n\n      /**\n       * Backward-compatible synonym for {@link DataGrid#section section}.\n       *\n       * @param {Function} section Function taking a row of data and returning the nest key.\n       * @returns {Function|DataGrid}\n       */\n      group (section) {\n          logger.warnOnce('consider using dataGrid.section instead of dataGrid.group for clarity');\n          if (!arguments.length) {\n              return this.section();\n          }\n          return this.section(section);\n      }\n\n      /**\n       * Get or set the index of the beginning slice which determines which entries get displayed by the widget.\n       * Useful when implementing pagination.\n       * @param {Number} [beginSlice=0]\n       * @returns {Number|DataGrid}\n       */\n      beginSlice (beginSlice) {\n          if (!arguments.length) {\n              return this._beginSlice;\n          }\n          this._beginSlice = beginSlice;\n          return this;\n      }\n\n      /**\n       * Get or set the index of the end slice which determines which entries get displayed by the widget.\n       * Useful when implementing pagination.\n       * @param {Number} [endSlice]\n       * @returns {Number|DataGrid}\n       */\n      endSlice (endSlice) {\n          if (!arguments.length) {\n              return this._endSlice;\n          }\n          this._endSlice = endSlice;\n          return this;\n      }\n\n      /**\n       * Get or set the grid size which determines the number of items displayed by the widget.\n       * @param {Number} [size=999]\n       * @returns {Number|DataGrid}\n       */\n      size (size) {\n          if (!arguments.length) {\n              return this._size;\n          }\n          this._size = size;\n          return this;\n      }\n\n      /**\n       * Get or set the function that formats an item. The data grid widget uses a\n       * function to generate dynamic html. Use your favourite templating engine or\n       * generate the string directly.\n       * @example\n       * chart.html(function (d) { return '<div class='item '+data.exampleCategory+''>'+data.exampleString+'</div>';});\n       * @param {Function} [html]\n       * @returns {Function|DataGrid}\n       */\n      html (html) {\n          if (!arguments.length) {\n              return this._html;\n          }\n          this._html = html;\n          return this;\n      }\n\n      /**\n       * Get or set the function that formats a section label.\n       * @example\n       * chart.htmlSection (function (d) { return '<h2>'.d.key . 'with ' . d.values.length .' items</h2>'});\n       * @param {Function} [htmlSection]\n       * @returns {Function|DataGrid}\n       */\n      htmlSection (htmlSection) {\n          if (!arguments.length) {\n              return this._htmlSection;\n          }\n          this._htmlSection = htmlSection;\n          return this;\n      }\n\n      /**\n       * Backward-compatible synonym for {@link DataGrid#htmlSection htmlSection}.\n       * @param {Function} [htmlSection]\n       * @returns {Function|DataGrid}\n       */\n      htmlGroup (htmlSection) {\n          logger.warnOnce('consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity');\n          if (!arguments.length) {\n              return this.htmlSection();\n          }\n          return this.htmlSection(htmlSection);\n      }\n\n      /**\n       * Get or set sort-by function. This function works as a value accessor at the item\n       * level and returns a particular field to be sorted.\n       * @example\n       * chart.sortBy(function(d) {\n       *     return d.date;\n       * });\n       * @param {Function} [sortByFunction]\n       * @returns {Function|DataGrid}\n       */\n      sortBy (sortByFunction) {\n          if (!arguments.length) {\n              return this._sortBy;\n          }\n          this._sortBy = sortByFunction;\n          return this;\n      }\n\n      /**\n       * Get or set sort the order function.\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n       * @example\n       * chart.order(d3.descending);\n       * @param {Function} [order=d3.ascending]\n       * @returns {Function|DataGrid}\n       */\n      order (order) {\n          if (!arguments.length) {\n              return this._order;\n          }\n          this._order = order;\n          return this;\n      }\n  }\n\n  const dataGrid = (parent, chartGroup) => new DataGrid(parent, chartGroup);\n\n  const LABEL_CSS_CLASS$1 = 'dc-table-label';\n  const ROW_CSS_CLASS = 'dc-table-row';\n  const COLUMN_CSS_CLASS = 'dc-table-column';\n  const SECTION_CSS_CLASS$1 = 'dc-table-section dc-table-group';\n  const HEAD_CSS_CLASS = 'dc-table-head';\n\n  /**\n   * The data table is a simple widget designed to list crossfilter focused data set (rows being\n   * filtered) in a good old tabular fashion.\n   *\n   * An interesting feature of the data table is that you can pass a crossfilter group to the\n   * `dimension`, if you want to show aggregated data instead of raw data rows. This requires no\n   * special code as long as you specify the {@link DataTable#order order} as `d3.descending`,\n   * since the data table will use `dimension.top()` to fetch the data in that case, and the method is\n   * equally supported on the crossfilter group as the crossfilter dimension.\n   *\n   * If you want to display aggregated data in ascending order, you will need to wrap the group\n   * in a [fake dimension](https://github.com/dc-js/dc.js/wiki/FAQ#fake-dimensions) to support the\n   * `.bottom()` method. See the example linked below for more details.\n   *\n   * Note: Formerly the data table (and data grid chart) used the {@link DataTable#group group} attribute as a\n   * keying function for {@link https://github.com/d3/d3-collection/blob/master/README.md#nest nesting} the data\n   * together in sections.  This was confusing so it has been renamed to `section`, although `group` still works.\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * - {@link http://dc-js.github.io/dc.js/examples/table-on-aggregated-data.html dataTable on a crossfilter group}\n   * ({@link https://github.com/dc-js/dc.js/blob/master/web-src/examples/table-on-aggregated-data.html source})\n   *\n   * @mixes BaseMixin\n   */\n  class DataTable extends BaseMixin {\n      /**\n       * Create a Data Table.\n       *\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._size = 25;\n          this._columns = [];\n          this._sortBy = d => d;\n          this._order = d3Array.ascending;\n          this._beginSlice = 0;\n          this._endSlice = undefined;\n          this._showSections = true;\n          this._section = () => ''; // all in one section\n\n          this._mandatoryAttributes(['dimension']);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          this.selectAll('tbody').remove();\n\n          this._renderRows(this._renderSections());\n\n          return this;\n      }\n\n      _doColumnValueFormat (v, d) {\n          return (typeof v === 'function') ? v(d) :  // v as function\n              (typeof v === 'string') ? d[v] :       // v is field name string\n              v.format(d);                           // v is Object, use fn (element 2)\n      }\n\n      _doColumnHeaderFormat (d) {\n          // if 'function', convert to string representation\n          // show a string capitalized\n          // if an object then display its label string as-is.\n          return (typeof d === 'function') ? this._doColumnHeaderFnToString(d) :\n              (typeof d === 'string') ? this._doColumnHeaderCapitalize(d) :\n              String(d.label);\n      }\n\n      _doColumnHeaderCapitalize (s) {\n          // capitalize\n          return s.charAt(0).toUpperCase() + s.slice(1);\n      }\n\n      _doColumnHeaderFnToString (f) {\n          // columnString(f) {\n          let s = String(f);\n          const i1 = s.indexOf('return ');\n          if (i1 >= 0) {\n              const i2 = s.lastIndexOf(';');\n              if (i2 >= 0) {\n                  s = s.substring(i1 + 7, i2);\n                  const i3 = s.indexOf('numberFormat');\n                  if (i3 >= 0) {\n                      s = s.replace('numberFormat', '');\n                  }\n              }\n          }\n          return s;\n      }\n\n      _renderSections () {\n          // The 'original' example uses all 'functions'.\n          // If all 'functions' are used, then don't remove/add a header, and leave\n          // the html alone. This preserves the functionality of earlier releases.\n          // A 2nd option is a string representing a field in the data.\n          // A third option is to supply an Object such as an array of 'information', and\n          // supply your own _doColumnHeaderFormat and _doColumnValueFormat functions to\n          // create what you need.\n          let bAllFunctions = true;\n          this._columns.forEach(f => {\n              bAllFunctions = bAllFunctions & (typeof f === 'function');\n          });\n\n          if (!bAllFunctions) {\n              // ensure one thead\n              let thead = this.selectAll('thead').data([0]);\n              thead.exit().remove();\n              thead = thead.enter()\n                  .append('thead')\n                  .merge(thead);\n\n              // with one tr\n              let headrow = thead.selectAll('tr').data([0]);\n              headrow.exit().remove();\n              headrow = headrow.enter()\n                  .append('tr')\n                  .merge(headrow);\n\n              // with a th for each column\n              const headcols = headrow.selectAll('th')\n                  .data(this._columns);\n              headcols.exit().remove();\n              headcols.enter().append('th')\n                  .merge(headcols)\n                  .attr('class', HEAD_CSS_CLASS)\n                  .html(d => (this._doColumnHeaderFormat(d)));\n          }\n\n          const sections = this.root().selectAll('tbody')\n              .data(this._nestEntries(), d => this.keyAccessor()(d));\n\n          const rowSection = sections\n              .enter()\n              .append('tbody');\n\n          if (this._showSections === true) {\n              rowSection\n                  .append('tr')\n                  .attr('class', SECTION_CSS_CLASS$1)\n                  .append('td')\n                  .attr('class', LABEL_CSS_CLASS$1)\n                  .attr('colspan', this._columns.length)\n                  .html(d => this.keyAccessor()(d));\n          }\n\n          sections.exit().remove();\n\n          return rowSection;\n      }\n\n      _nestEntries () {\n          let entries;\n          if (this._order === d3Array.ascending) {\n              entries = this.dimension().bottom(this._size);\n          } else {\n              entries = this.dimension().top(this._size);\n          }\n\n          entries = entries.sort((a, b) => this._order(this._sortBy(a), this._sortBy(b))).slice(this._beginSlice, this._endSlice);\n\n          return d3compat.nester({\n              key: this.section(),\n              sortKeys: this._order,\n              entries\n          });\n      }\n\n      _renderRows (sections) {\n          const rows = sections.order()\n              .selectAll(`tr.${ROW_CSS_CLASS}`)\n              .data(d => d.values);\n\n          const rowEnter = rows.enter()\n              .append('tr')\n              .attr('class', ROW_CSS_CLASS);\n\n          this._columns.forEach((v, i) => {\n              rowEnter.append('td')\n                  .attr('class', `${COLUMN_CSS_CLASS} _${i}`)\n                  .html(d => this._doColumnValueFormat(v, d));\n          });\n\n          rows.exit().remove();\n\n          return rows;\n      }\n\n      _doRedraw () {\n          return this._doRender();\n      }\n\n      /**\n       * Get or set the section function for the data table. The section function takes a data row and\n       * returns the key to specify to {@link https://github.com/d3/d3-collection/blob/master/README.md#nest d3.nest}\n       * to split rows into sections. By default there will be only one section with no name.\n       *\n       * Set {@link DataTable#showSections showSections} to false to hide the section headers\n       *\n       * @example\n       * // section rows by the value of their field\n       * chart\n       *     .section(function(d) { return d.field; })\n       * @param {Function} section Function taking a row of data and returning the nest key.\n       * @returns {Function|DataTable}\n       */\n      section (section) {\n          if (!arguments.length) {\n              return this._section;\n          }\n          this._section = section;\n          return this;\n      }\n\n      /**\n       * Backward-compatible synonym for {@link DataTable#section section}.\n       *\n       * @param {Function} section Function taking a row of data and returning the nest key.\n       * @returns {Function|DataTable}\n       */\n      group (section) {\n          logger.warnOnce('consider using dataTable.section instead of dataTable.group for clarity');\n          if (!arguments.length) {\n              return this.section();\n          }\n          return this.section(section);\n      }\n\n      /**\n       * Get or set the table size which determines the number of rows displayed by the widget.\n       * @param {Number} [size=25]\n       * @returns {Number|DataTable}\n       */\n      size (size) {\n          if (!arguments.length) {\n              return this._size;\n          }\n          this._size = size;\n          return this;\n      }\n\n      /**\n       * Get or set the index of the beginning slice which determines which entries get displayed\n       * by the widget. Useful when implementing pagination.\n       *\n       * Note: the sortBy function will determine how the rows are ordered for pagination purposes.\n\n       * See the {@link http://dc-js.github.io/dc.js/examples/table-pagination.html table pagination example}\n       * to see how to implement the pagination user interface using `beginSlice` and `endSlice`.\n       * @param {Number} [beginSlice=0]\n       * @returns {Number|DataTable}\n       */\n      beginSlice (beginSlice) {\n          if (!arguments.length) {\n              return this._beginSlice;\n          }\n          this._beginSlice = beginSlice;\n          return this;\n      }\n\n      /**\n       * Get or set the index of the end slice which determines which entries get displayed by the\n       * widget. Useful when implementing pagination. See {@link DataTable#beginSlice `beginSlice`} for more information.\n       * @param {Number|undefined} [endSlice=undefined]\n       * @returns {Number|DataTable}\n       */\n      endSlice (endSlice) {\n          if (!arguments.length) {\n              return this._endSlice;\n          }\n          this._endSlice = endSlice;\n          return this;\n      }\n\n      /**\n       * Get or set column functions. The data table widget supports several methods of specifying the\n       * columns to display.\n       *\n       * The original method uses an array of functions to generate dynamic columns. Column functions\n       * are simple javascript functions with only one input argument `d` which represents a row in\n       * the data set. The return value of these functions will be used to generate the content for\n       * each cell. However, this method requires the HTML for the table to have a fixed set of column\n       * headers.\n       *\n       * <pre><code>chart.columns([\n       *     function(d) { return d.date; },\n       *     function(d) { return d.open; },\n       *     function(d) { return d.close; },\n       *     function(d) { return numberFormat(d.close - d.open); },\n       *     function(d) { return d.volume; }\n       * ]);\n       * </code></pre>\n       *\n       * In the second method, you can list the columns to read from the data without specifying it as\n       * a function, except where necessary (ie, computed columns).  Note the data element name is\n       * capitalized when displayed in the table header. You can also mix in functions as necessary,\n       * using the third `{label, format}` form, as shown below.\n       *\n       * <pre><code>chart.columns([\n       *     \"date\",    // d[\"date\"], ie, a field accessor; capitalized automatically\n       *     \"open\",    // ...\n       *     \"close\",   // ...\n       *     {\n       *         label: \"Change\",\n       *         format: function (d) {\n       *             return numberFormat(d.close - d.open);\n       *         }\n       *     },\n       *     \"volume\"   // d[\"volume\"], ie, a field accessor; capitalized automatically\n       * ]);\n       * </code></pre>\n       *\n       * In the third example, we specify all fields using the `{label, format}` method:\n       * <pre><code>chart.columns([\n       *     {\n       *         label: \"Date\",\n       *         format: function (d) { return d.date; }\n       *     },\n       *     {\n       *         label: \"Open\",\n       *         format: function (d) { return numberFormat(d.open); }\n       *     },\n       *     {\n       *         label: \"Close\",\n       *         format: function (d) { return numberFormat(d.close); }\n       *     },\n       *     {\n       *         label: \"Change\",\n       *         format: function (d) { return numberFormat(d.close - d.open); }\n       *     },\n       *     {\n       *         label: \"Volume\",\n       *         format: function (d) { return d.volume; }\n       *     }\n       * ]);\n       * </code></pre>\n       *\n       * You may wish to override the dataTable functions `_doColumnHeaderCapitalize` and\n       * `_doColumnHeaderFnToString`, which are used internally to translate the column information or\n       * function into a displayed header. The first one is used on the \"string\" column specifier; the\n       * second is used to transform a stringified function into something displayable. For the Stock\n       * example, the function for Change becomes the table header **d.close - d.open**.\n       *\n       * Finally, you can even specify a completely different form of column definition. To do this,\n       * override `_chart._doColumnHeaderFormat` and `_chart._doColumnValueFormat` Be aware that\n       * fields without numberFormat specification will be displayed just as they are stored in the\n       * data, unformatted.\n       * @param {Array<Function>} [columns=[]]\n       * @returns {Array<Function>}|DataTable}\n       */\n      columns (columns) {\n          if (!arguments.length) {\n              return this._columns;\n          }\n          this._columns = columns;\n          return this;\n      }\n\n      /**\n       * Get or set sort-by function. This function works as a value accessor at row level and returns a\n       * particular field to be sorted by.\n       * @example\n       * chart.sortBy(function(d) {\n       *     return d.date;\n       * });\n       * @param {Function} [sortBy=identity function]\n       * @returns {Function|DataTable}\n       */\n      sortBy (sortBy) {\n          if (!arguments.length) {\n              return this._sortBy;\n          }\n          this._sortBy = sortBy;\n          return this;\n      }\n\n      /**\n       * Get or set sort order. If the order is `d3.ascending`, the data table will use\n       * `dimension().bottom()` to fetch the data; otherwise it will use `dimension().top()`\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n       * @example\n       * chart.order(d3.descending);\n       * @param {Function} [order=d3.ascending]\n       * @returns {Function|DataTable}\n       */\n      order (order) {\n          if (!arguments.length) {\n              return this._order;\n          }\n          this._order = order;\n          return this;\n      }\n\n      /**\n       * Get or set if section header rows will be shown.\n       * @example\n       * chart\n       *     .section([value], [name])\n       *     .showSections(true|false);\n       * @param {Boolean} [showSections=true]\n       * @returns {Boolean|DataTable}\n       */\n      showSections (showSections) {\n          if (!arguments.length) {\n              return this._showSections;\n          }\n          this._showSections = showSections;\n          return this;\n      }\n\n      /**\n       * Backward-compatible synonym for {@link DataTable#showSections showSections}.\n       * @param {Boolean} [showSections=true]\n       * @returns {Boolean|DataTable}\n       */\n      showGroups (showSections) {\n          logger.warnOnce('consider using dataTable.showSections instead of dataTable.showGroups for clarity');\n          if (!arguments.length) {\n              return this.showSections();\n          }\n          return this.showSections(showSections);\n      }\n  }\n\n  const dataTable = (parent, chartGroup) => new DataTable(parent, chartGroup);\n\n  /**\n   * The geo choropleth chart is designed as an easy way to create a crossfilter driven choropleth map\n   * from GeoJson data. This chart implementation was inspired by\n   * {@link http://bl.ocks.org/4060606 the great d3 choropleth example}.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/vc/index.html US Venture Capital Landscape 2011}\n   * @mixes ColorMixin\n   * @mixes BaseMixin\n   */\n  class GeoChoroplethChart extends ColorMixin(BaseMixin) {\n      /**\n       * Create a Geo Choropleth Chart.\n       * @example\n       * // create a choropleth chart under '#us-chart' element using the default global chart group\n       * var chart1 = new GeoChoroplethChart('#us-chart');\n       * // create a choropleth chart under '#us-chart2' element using chart group A\n       * var chart2 = new CompositeChart('#us-chart2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this.colorAccessor(d => d || 0);\n\n          this._geoPath = d3Geo.geoPath();\n          this._projectionFlag = undefined;\n          this._projection = undefined;\n\n          this._geoJsons = [];\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          this.resetSvg();\n          for (let layerIndex = 0; layerIndex < this._geoJsons.length; ++layerIndex) {\n              const states = this.svg().append('g')\n                  .attr('class', `layer${layerIndex}`);\n\n              let regionG = states.selectAll(`g.${this._geoJson(layerIndex).name}`)\n                  .data(this._geoJson(layerIndex).data);\n\n              regionG = regionG.enter()\n                  .append('g')\n                  .attr('class', this._geoJson(layerIndex).name)\n                  .merge(regionG);\n\n              regionG\n                  .append('path')\n                  .classed('dc-tabbable', this._keyboardAccessible)\n                  .attr('fill', 'white')\n                  .attr('d', this._getGeoPath());\n\n              regionG.append('title');\n\n              this._plotData(layerIndex);\n          }\n          this._projectionFlag = false;\n      }\n\n      _plotData (layerIndex) {\n          const data = this._generateLayeredData();\n\n          if (this._isDataLayer(layerIndex)) {\n              const regionG = this._renderRegionG(layerIndex);\n\n              this._renderPaths(regionG, layerIndex, data);\n\n              this._renderTitles(regionG, layerIndex, data);\n          }\n      }\n\n      _generateLayeredData () {\n          const data = {};\n          const groupAll = this.data();\n          for (let i = 0; i < groupAll.length; ++i) {\n              data[this.keyAccessor()(groupAll[i])] = this.valueAccessor()(groupAll[i]);\n          }\n          return data;\n      }\n\n      _isDataLayer (layerIndex) {\n          return this._geoJson(layerIndex).keyAccessor;\n      }\n\n      _renderRegionG (layerIndex) {\n          const regionG = this.svg()\n              .selectAll(this._layerSelector(layerIndex))\n              .classed('selected', d => this._isSelected(layerIndex, d))\n              .classed('deselected', d => this._isDeselected(layerIndex, d))\n              .attr('class', d => {\n                  const layerNameClass = this._geoJson(layerIndex).name;\n                  const regionClass = utils.nameToId(this._geoJson(layerIndex).keyAccessor(d));\n                  let baseClasses = `${layerNameClass} ${regionClass}`;\n                  if (this._isSelected(layerIndex, d)) {\n                      baseClasses += ' selected';\n                  }\n                  if (this._isDeselected(layerIndex, d)) {\n                      baseClasses += ' deselected';\n                  }\n                  return baseClasses;\n              });\n          return regionG;\n      }\n\n      _layerSelector (layerIndex) {\n          return `g.layer${layerIndex} g.${this._geoJson(layerIndex).name}`;\n      }\n\n      _isSelected (layerIndex, d) {\n          return this.hasFilter() && this.hasFilter(this._getKey(layerIndex, d));\n      }\n\n      _isDeselected (layerIndex, d) {\n          return this.hasFilter() && !this.hasFilter(this._getKey(layerIndex, d));\n      }\n\n      _getKey (layerIndex, d) {\n          return this._geoJson(layerIndex).keyAccessor(d);\n      }\n\n      _geoJson (index) {\n          return this._geoJsons[index];\n      }\n\n      _renderPaths (regionG, layerIndex, data) {\n          const paths = regionG\n              .select('path')\n              .attr('fill', function () {\n                  const currentFill = d3Selection.select(this).attr('fill');\n                  if (currentFill) {\n                      return currentFill;\n                  }\n                  return 'none';\n              })\n              .on('click', d3compat.eventHandler(d => this.onClick(d, layerIndex)));\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.onClick, layerIndex);\n          }\n\n          transition(paths, this.transitionDuration(),\n                     this.transitionDelay()).attr('fill', (d, i) => this.getColor(data[this._geoJson(layerIndex).keyAccessor(d)], i));\n      }\n\n      onClick (d, layerIndex) {\n          const selectedRegion = this._geoJson(layerIndex).keyAccessor(d);\n          events.trigger(() => {\n              this.filter(selectedRegion);\n              this.redrawGroup();\n          });\n      }\n\n      _renderTitles (regionG, layerIndex, data) {\n          if (this.renderTitle()) {\n              regionG.selectAll('title').text(d => {\n                  const key = this._getKey(layerIndex, d);\n                  const value = data[key];\n                  return this.title()({key: key, value: value});\n              });\n          }\n      }\n\n      _doRedraw () {\n          for (let layerIndex = 0; layerIndex < this._geoJsons.length; ++layerIndex) {\n              this._plotData(layerIndex);\n              if (this._projectionFlag) {\n                  this.svg().selectAll(`g.${this._geoJson(layerIndex).name} path`).attr('d', this._getGeoPath());\n              }\n          }\n          this._projectionFlag = false;\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Use this function to insert a new GeoJson map layer. This function can be invoked multiple times\n       * if you have multiple GeoJson data layers to render on top of each other. If you overlay multiple\n       * layers with the same name the new overlay will override the existing one.\n       * @see {@link http://geojson.org/ GeoJSON}\n       * @see {@link https://github.com/topojson/topojson/wiki TopoJSON}\n       * @see {@link https://github.com/topojson/topojson-1.x-api-reference/blob/master/API-Reference.md#wiki-feature topojson.feature}\n       * @example\n       * // insert a layer for rendering US states\n       * chart.overlayGeoJson(statesJson.features, 'state', function(d) {\n       *      return d.properties.name;\n       * });\n       * @param {_geoJson} json - a geojson feed\n       * @param {String} name - name of the layer\n       * @param {Function} keyAccessor - accessor function used to extract 'key' from the GeoJson data. The key extracted by\n       * this function should match the keys returned by the crossfilter groups.\n       * @returns {GeoChoroplethChart}\n       */\n      overlayGeoJson (json, name, keyAccessor) {\n          for (let i = 0; i < this._geoJsons.length; ++i) {\n              if (this._geoJsons[i].name === name) {\n                  this._geoJsons[i].data = json;\n                  this._geoJsons[i].keyAccessor = keyAccessor;\n                  return this;\n              }\n          }\n          this._geoJsons.push({name: name, data: json, keyAccessor: keyAccessor});\n          return this;\n      }\n\n      /**\n       * Gets or sets a custom geo projection function. See the available\n       * {@link https://github.com/d3/d3-geo/blob/master/README.md#projections d3 geo projection functions}.\n       *\n       * Starting version 3.0 it has been deprecated to rely on the default projection being\n       * {@link https://github.com/d3/d3-geo/blob/master/README.md#geoAlbersUsa d3.geoAlbersUsa()}. Please\n       * set it explicitly. {@link https://bl.ocks.org/mbostock/5557726\n       * Considering that `null` is also a valid value for projection}, if you need\n       * projection to be `null` please set it explicitly to `null`.\n       * @see {@link https://github.com/d3/d3-geo/blob/master/README.md#projections d3.projection}\n       * @see {@link https://github.com/d3/d3-geo-projection d3-geo-projection}\n       * @param {d3.projection} [projection=d3.geoAlbersUsa()]\n       * @returns {d3.projection|GeoChoroplethChart}\n       */\n      projection (projection) {\n          if (!arguments.length) {\n              return this._projection;\n          }\n\n          this._projection = projection;\n          this._projectionFlag = true;\n          return this;\n      }\n\n      _getGeoPath () {\n          if (this._projection === undefined) {\n              logger.warn('choropleth projection default of geoAlbers is deprecated,' +\n                  ' in next version projection will need to be set explicitly');\n              return this._geoPath.projection(d3Geo.geoAlbersUsa());\n          }\n\n          return this._geoPath.projection(this._projection);\n      }\n\n      /**\n       * Returns all GeoJson layers currently registered with this chart. The returned array is a\n       * reference to this chart's internal data structure, so any modification to this array will also\n       * modify this chart's internal registration.\n       * @returns {Array<{name:String, data: Object, accessor: Function}>}\n       */\n      geoJsons () {\n          return this._geoJsons;\n      }\n\n      /**\n       * Returns the {@link https://github.com/d3/d3-geo/blob/master/README.md#paths d3.geoPath} object used to\n       * render the projection and features.  Can be useful for figuring out the bounding box of the\n       * feature set and thus a way to calculate scale and translation for the projection.\n       * @see {@link https://github.com/d3/d3-geo/blob/master/README.md#paths d3.geoPath}\n       * @returns {d3.geoPath}\n       */\n      geoPath () {\n          return this._geoPath;\n      }\n\n      /**\n       * Remove a GeoJson layer from this chart by name\n       * @param {String} name\n       * @returns {GeoChoroplethChart}\n       */\n      removeGeoJson (name) {\n          const geoJsons = [];\n\n          for (let i = 0; i < this._geoJsons.length; ++i) {\n              const layer = this._geoJsons[i];\n              if (layer.name !== name) {\n                  geoJsons.push(layer);\n              }\n          }\n\n          this._geoJsons = geoJsons;\n\n          return this;\n      }\n  }\n\n  const geoChoroplethChart = (parent, chartGroup) => new GeoChoroplethChart(parent, chartGroup);\n\n  const DEFAULT_BORDER_RADIUS = 6.75;\n\n  /**\n   * A heat map is matrix that represents the values of two dimensions of data using colors.\n   * @mixes ColorMixin\n   * @mixes MarginMixin\n   * @mixes BaseMixin\n   */\n  class HeatMap extends ColorMixin(MarginMixin) {\n      /**\n       * Create a Heat Map\n       * @example\n       * // create a heat map under #chart-container1 element using the default global chart group\n       * var heatMap1 = new HeatMap('#chart-container1');\n       * // create a heat map under #chart-container2 element using chart group A\n       * var heatMap2 = new HeatMap('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._chartBody = undefined;\n\n          this._cols = undefined;\n          this._rows = undefined;\n          this._colOrdering = d3Array.ascending;\n          this._rowOrdering = d3Array.ascending;\n          this._colScale = d3Scale.scaleBand();\n          this._rowScale = d3Scale.scaleBand();\n\n          this._xBorderRadius = DEFAULT_BORDER_RADIUS;\n          this._yBorderRadius = DEFAULT_BORDER_RADIUS;\n\n          this._mandatoryAttributes(['group']);\n          this.title(this.colorAccessor());\n\n          this._colsLabel = d => d;\n          this._rowsLabel = d => d;\n\n          this._xAxisOnClick = d => {\n              this._filterAxis(0, d);\n          };\n          this._yAxisOnClick = d => {\n              this._filterAxis(1, d);\n          };\n          this._boxOnClick = d => {\n              const filter = d.key;\n              events.trigger(() => {\n                  this.filter(filters.TwoDimensionalFilter(filter));\n                  this.redrawGroup();\n              });\n          };\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Set or get the column label function. The chart class uses this function to render\n       * column labels on the X axis. It is passed the column name.\n       * @example\n       * // the default label function just returns the name\n       * chart.colsLabel(function(d) { return d; });\n       * @param  {Function} [labelFunction=function(d) { return d; }]\n       * @returns {Function|HeatMap}\n       */\n      colsLabel (labelFunction) {\n          if (!arguments.length) {\n              return this._colsLabel;\n          }\n          this._colsLabel = labelFunction;\n          return this;\n      }\n\n      /**\n       * Set or get the row label function. The chart class uses this function to render\n       * row labels on the Y axis. It is passed the row name.\n       * @example\n       * // the default label function just returns the name\n       * chart.rowsLabel(function(d) { return d; });\n       * @param  {Function} [labelFunction=function(d) { return d; }]\n       * @returns {Function|HeatMap}\n       */\n      rowsLabel (labelFunction) {\n          if (!arguments.length) {\n              return this._rowsLabel;\n          }\n          this._rowsLabel = labelFunction;\n          return this;\n      }\n\n      _filterAxis (axis, value) {\n          const cellsOnAxis = this.selectAll('.box-group').filter(d => d.key[axis] === value);\n          const unfilteredCellsOnAxis = cellsOnAxis.filter(d => !this.hasFilter(d.key));\n          events.trigger(() => {\n              const selection = unfilteredCellsOnAxis.empty() ? cellsOnAxis : unfilteredCellsOnAxis;\n              const filtersList = selection.data().map(kv => filters.TwoDimensionalFilter(kv.key));\n              this.filter([filtersList]);\n              this.redrawGroup();\n          });\n      }\n\n      filter (filter) {\n          const nonstandardFilter = f => {\n              logger.warnOnce('heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead');\n              return this._filter(filters.TwoDimensionalFilter(f));\n          };\n\n          if (!arguments.length) {\n              return super.filter();\n          }\n          if (filter !== null && filter.filterType !== 'TwoDimensionalFilter' &&\n              !(Array.isArray(filter) && Array.isArray(filter[0]) && filter[0][0].filterType === 'TwoDimensionalFilter')) {\n              return nonstandardFilter(filter);\n          }\n          return super.filter(filter);\n      }\n\n      /**\n       * Gets or sets the values used to create the rows of the heatmap, as an array. By default, all\n       * the values will be fetched from the data using the value accessor.\n       * @param  {Array<String|Number>} [rows]\n       * @returns {Array<String|Number>|HeatMap}\n       */\n\n      rows (rows) {\n          if (!arguments.length) {\n              return this._rows;\n          }\n          this._rows = rows;\n          return this;\n      }\n\n      /**\n       * Get or set a comparator to order the rows.\n       * Default is {@link https://github.com/d3/d3-array#ascending d3.ascending}.\n       * @param  {Function} [rowOrdering]\n       * @returns {Function|HeatMap}\n       */\n      rowOrdering (rowOrdering) {\n          if (!arguments.length) {\n              return this._rowOrdering;\n          }\n          this._rowOrdering = rowOrdering;\n          return this;\n      }\n\n      /**\n       * Gets or sets the keys used to create the columns of the heatmap, as an array. By default, all\n       * the values will be fetched from the data using the key accessor.\n       * @param  {Array<String|Number>} [cols]\n       * @returns {Array<String|Number>|HeatMap}\n       */\n      cols (cols) {\n          if (!arguments.length) {\n              return this._cols;\n          }\n          this._cols = cols;\n          return this;\n      }\n\n      /**\n       * Get or set a comparator to order the columns.\n       * Default is  {@link https://github.com/d3/d3-array#ascending d3.ascending}.\n       * @param  {Function} [colOrdering]\n       * @returns {Function|HeatMap}\n       */\n      colOrdering (colOrdering) {\n          if (!arguments.length) {\n              return this._colOrdering;\n          }\n          this._colOrdering = colOrdering;\n          return this;\n      }\n\n      _doRender () {\n          this.resetSvg();\n\n          this._chartBody = this.svg()\n              .append('g')\n              .attr('class', 'heatmap')\n              .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n          return this._doRedraw();\n      }\n\n      _doRedraw () {\n          const data = this.data();\n          let rows = this.rows() || data.map(this.valueAccessor()),\n              cols = this.cols() || data.map(this.keyAccessor());\n          if (this._rowOrdering) {\n              rows = rows.sort(this._rowOrdering);\n          }\n          if (this._colOrdering) {\n              cols = cols.sort(this._colOrdering);\n          }\n          rows = this._rowScale.domain(rows);\n          cols = this._colScale.domain(cols);\n\n          const rowCount = rows.domain().length,\n              colCount = cols.domain().length,\n              boxWidth = Math.floor(this.effectiveWidth() / colCount),\n              boxHeight = Math.floor(this.effectiveHeight() / rowCount);\n\n          cols.rangeRound([0, this.effectiveWidth()]);\n          rows.rangeRound([this.effectiveHeight(), 0]);\n\n          let boxes = this._chartBody.selectAll('g.box-group').data(this.data(),\n                                                                    (d, i) => `${this.keyAccessor()(d, i)}\\0${this.valueAccessor()(d, i)}`);\n\n          boxes.exit().remove();\n\n          const gEnter = boxes.enter().append('g')\n              .attr('class', 'box-group');\n\n          gEnter.append('rect')\n              .attr('class', 'heat-box')\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('fill', 'white')\n              .attr('x', (d, i) => cols(this.keyAccessor()(d, i)))\n              .attr('y', (d, i) => rows(this.valueAccessor()(d, i)))\n              .on('click', d3compat.eventHandler(this.boxOnClick()));\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.boxOnClick);\n          }\n\n          boxes = gEnter.merge(boxes);\n\n          if (this.renderTitle()) {\n              gEnter.append('title');\n              boxes.select('title').text(this.title());\n          }\n\n          transition(boxes.select('rect'), this.transitionDuration(), this.transitionDelay())\n              .attr('x', (d, i) => cols(this.keyAccessor()(d, i)))\n              .attr('y', (d, i) => rows(this.valueAccessor()(d, i)))\n              .attr('rx', this._xBorderRadius)\n              .attr('ry', this._yBorderRadius)\n              .attr('fill', this.getColor)\n              .attr('width', boxWidth)\n              .attr('height', boxHeight);\n\n          let gCols = this._chartBody.select('g.cols');\n          if (gCols.empty()) {\n              gCols = this._chartBody.append('g').attr('class', 'cols axis');\n          }\n          let gColsText = gCols.selectAll('text').data(cols.domain());\n\n          gColsText.exit().remove();\n\n          gColsText = gColsText\n              .enter()\n              .append('text')\n              .attr('x', d => cols(d) + boxWidth / 2)\n              .style('text-anchor', 'middle')\n              .attr('y', this.effectiveHeight())\n              .attr('dy', 12)\n              .on('click', d3compat.eventHandler(this.xAxisOnClick()))\n              .text(this.colsLabel())\n              .merge(gColsText);\n\n          transition(gColsText, this.transitionDuration(), this.transitionDelay())\n              .text(this.colsLabel())\n              .attr('x', d => cols(d) + boxWidth / 2)\n              .attr('y', this.effectiveHeight());\n\n          let gRows = this._chartBody.select('g.rows');\n          if (gRows.empty()) {\n              gRows = this._chartBody.append('g').attr('class', 'rows axis');\n          }\n\n          let gRowsText = gRows.selectAll('text').data(rows.domain());\n\n          gRowsText.exit().remove();\n\n          gRowsText = gRowsText\n              .enter()\n              .append('text')\n              .style('text-anchor', 'end')\n              .attr('x', 0)\n              .attr('dx', -2)\n              .attr('y', d => rows(d) + boxHeight / 2)\n              .attr('dy', 6)\n              .on('click', d3compat.eventHandler(this.yAxisOnClick()))\n              .text(this.rowsLabel())\n              .merge(gRowsText);\n\n          transition(gRowsText, this.transitionDuration(), this.transitionDelay())\n              .text(this.rowsLabel())\n              .attr('y', d => rows(d) + boxHeight / 2);\n\n          if (this.hasFilter()) {\n              const chart = this;\n              this.selectAll('g.box-group').each(function (d) {\n                  if (chart.isSelectedNode(d)) {\n                      chart.highlightSelected(this);\n                  } else {\n                      chart.fadeDeselected(this);\n                  }\n              });\n          } else {\n              const chart = this;\n              this.selectAll('g.box-group').each(function () {\n                  chart.resetHighlight(this);\n              });\n          }\n          return this;\n      }\n\n      /**\n       * Gets or sets the handler that fires when an individual cell is clicked in the heatmap.\n       * By default, filtering of the cell will be toggled.\n       * @example\n       * // default box on click handler\n       * chart.boxOnClick(function (d) {\n       *     var filter = d.key;\n       *     events.trigger(function () {\n       *         _chart.filter(filter);\n       *         _chart.redrawGroup();\n       *     });\n       * });\n       * @param  {Function} [handler]\n       * @returns {Function|HeatMap}\n       */\n      boxOnClick (handler) {\n          if (!arguments.length) {\n              return this._boxOnClick;\n          }\n          this._boxOnClick = handler;\n          return this;\n      }\n\n      /**\n       * Gets or sets the handler that fires when a column tick is clicked in the x axis.\n       * By default, if any cells in the column are unselected, the whole column will be selected,\n       * otherwise the whole column will be unselected.\n       * @param  {Function} [handler]\n       * @returns {Function|HeatMap}\n       */\n      xAxisOnClick (handler) {\n          if (!arguments.length) {\n              return this._xAxisOnClick;\n          }\n          this._xAxisOnClick = handler;\n          return this;\n      }\n\n      /**\n       * Gets or sets the handler that fires when a row tick is clicked in the y axis.\n       * By default, if any cells in the row are unselected, the whole row will be selected,\n       * otherwise the whole row will be unselected.\n       * @param  {Function} [handler]\n       * @returns {Function|HeatMap}\n       */\n      yAxisOnClick (handler) {\n          if (!arguments.length) {\n              return this._yAxisOnClick;\n          }\n          this._yAxisOnClick = handler;\n          return this;\n      }\n\n      /**\n       * Gets or sets the X border radius.  Set to 0 to get full rectangles.\n       * @param  {Number} [xBorderRadius=6.75]\n       * @returns {Number|HeatMap}\n       */\n      xBorderRadius (xBorderRadius) {\n          if (!arguments.length) {\n              return this._xBorderRadius;\n          }\n          this._xBorderRadius = xBorderRadius;\n          return this;\n      }\n\n      /**\n       * Gets or sets the Y border radius.  Set to 0 to get full rectangles.\n       * @param  {Number} [yBorderRadius=6.75]\n       * @returns {Number|HeatMap}\n       */\n      yBorderRadius (yBorderRadius) {\n          if (!arguments.length) {\n              return this._yBorderRadius;\n          }\n          this._yBorderRadius = yBorderRadius;\n          return this;\n      }\n\n      isSelectedNode (d) {\n          return this.hasFilter(d.key);\n      }\n  }\n\n  const heatMap = (parent, chartGroup) => new HeatMap(parent, chartGroup);\n\n  /**\n   * htmlLegend is a attachable widget that can be added to other dc charts to render horizontal/vertical legend\n   * labels.\n   * @example\n   * chart.legend(HtmlLegend().container(legendContainerElement).horizontal(false))\n   * @returns {HtmlLegend}\n   */\n  class HtmlLegend {\n      constructor () {\n          this._htmlLegendDivCssClass = 'dc-html-legend';\n          this._legendItemCssClassHorizontal = 'dc-legend-item-horizontal';\n          this._legendItemCssClassVertical = 'dc-legend-item-vertical';\n          this._parent = undefined;\n          this._container = undefined;\n          this._legendText = pluck('name');\n          this._maxItems = undefined;\n          this._horizontal = false;\n          this._legendItemClass = undefined;\n          this._highlightSelected = false;\n          this._keyboardAccessible = false;\n      }\n\n      parent (p) {\n          if (!arguments.length) {\n              return this._parent;\n          }\n          this._parent = p;\n          return this;\n      }\n\n      render () {\n          this._defaultLegendItemCssClass = this._horizontal ? this._legendItemCssClassHorizontal : this._legendItemCssClassVertical;\n          this._container.select(`div.${this._htmlLegendDivCssClass}`).remove();\n\n          const container = this._container.append('div').attr('class', this._htmlLegendDivCssClass);\n          container.attr('style', `max-width:${this._container.nodes()[0].style.width}`);\n\n          let legendables = this._parent.legendables();\n          const filters = this._parent.filters();\n\n          if (this._maxItems !== undefined) {\n              legendables = legendables.slice(0, this._maxItems);\n          }\n\n          const legendItemClassName = this._legendItemClass ? this._legendItemClass : this._defaultLegendItemCssClass;\n\n          const itemEnter = container.selectAll(`div.${legendItemClassName}`)\n              .data(legendables).enter()\n              .append('div')\n              .classed(legendItemClassName, true)\n              .on('mouseover', d3compat.eventHandler(d => this._parent.legendHighlight(d)))\n              .on('mouseout', d3compat.eventHandler(d => this._parent.legendReset(d)))\n              .on('click', d3compat.eventHandler(d => this._parent.legendToggle(d)));\n\n          if (this._highlightSelected) {\n              itemEnter.classed(constants.SELECTED_CLASS, d => filters.indexOf(d.name) !== -1);\n          }\n\n          itemEnter.append('span')\n              .attr('class', 'dc-legend-item-color')\n              .style('background-color', pluck('color'));\n\n          itemEnter.append('span')\n              .attr('class', 'dc-legend-item-label')\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('title', this._legendText)\n              .text(this._legendText);\n\n          if (this._keyboardAccessible) {\n              this._makeLegendKeyboardAccessible();\n          }\n      }\n\n      /**\n       * Set the container selector for the legend widget. Required.\n       * @param {String} [container]\n       * @return {String|HtmlLegend}\n       */\n      container (container) {\n          if (!arguments.length) {\n              return this._container;\n          }\n          this._container = d3Selection.select(container);\n          return this;\n      }\n\n      /**\n       * This can be optionally used to override class for legenditem and just use this class style.\n       * This is helpful for overriding the style of a particular chart rather than overriding\n       * the style for all charts.\n       *\n       * Setting this will disable the highlighting of selected items also.\n       * @param {String} [legendItemClass]\n       * @return {String|HtmlLegend}\n       */\n      legendItemClass (legendItemClass) {\n          if (!arguments.length) {\n              return this._legendItemClass;\n          }\n          this._legendItemClass = legendItemClass;\n          return this;\n      }\n\n      /**\n       * This can be optionally used to enable highlighting legends for the selections/filters for the\n       * chart.\n       * @param {String} [highlightSelected]\n       * @return {String|HtmlLegend}\n       */\n      highlightSelected (highlightSelected) {\n          if (!arguments.length) {\n              return this._highlightSelected;\n          }\n          this._highlightSelected = highlightSelected;\n          return this;\n      }\n\n      /**\n       * Display the legend horizontally instead of vertically\n       * @param {String} [horizontal]\n       * @return {String|HtmlLegend}\n       */\n      horizontal (horizontal) {\n          if (!arguments.length) {\n              return this._horizontal;\n          }\n          this._horizontal = horizontal;\n          return this;\n      }\n\n      /**\n       * Set or get the legend text function. The legend widget uses this function to render the legend\n       * text for each item. If no function is specified the legend widget will display the names\n       * associated with each group.\n       * @param  {Function} [legendText]\n       * @returns {Function|HtmlLegend}\n       * @example\n       * // default legendText\n       * legend.legendText(pluck('name'))\n       *\n       * // create numbered legend items\n       * chart.legend(new HtmlLegend().legendText(function(d, i) { return i + '. ' + d.name; }))\n       *\n       * // create legend displaying group counts\n       * chart.legend(new HtmlLegend().legendText(function(d) { return d.name + ': ' d.data; }))\n       */\n      legendText (legendText) {\n          if (!arguments.length) {\n              return this._legendText;\n          }\n          this._legendText = legendText;\n          return this;\n      }\n\n      /**\n       * Maximum number of legend items to display\n       * @param  {Number} [maxItems]\n       * @return {HtmlLegend}\n       */\n      maxItems (maxItems) {\n          if (!arguments.length) {\n              return this._maxItems;\n          }\n          this._maxItems = utils.isNumber(maxItems) ? maxItems : undefined;\n          return this;\n      }\n\n      /**\n       * If set, individual legend items will be focusable from keyboard and on pressing Enter or Space\n       * will behave as if clicked on.\n       * \n       * If `svgDescription` on the parent chart has not been explicitly set, will also set the default \n       * SVG description text to the class constructor name, like BarChart or HeatMap, and make the entire\n       * SVG focusable.\n       * @param {Boolean} [keyboardAccessible=false]\n       * @returns {Boolean|HtmlLegend}\n       */\n      keyboardAccessible (keyboardAccessible) {\n          if (!arguments.length) {\n              return this._keyboardAccessible;\n          }\n          this._keyboardAccessible = keyboardAccessible;\n          return this;\n      }\n\n      _makeLegendKeyboardAccessible () {\n\n          if (!this._parent._svgDescription) {\n\n              this._parent.svg().append('desc')\n                  .attr('id', `desc-id-${this._parent.__dcFlag__}`)\n                  .html(`${this._parent.svgDescription()}`);\n\n              this._parent.svg()\n                  .attr('tabindex', '0')\n                  .attr('role', 'img')\n                  .attr('aria-labelledby', `desc-id-${this._parent.__dcFlag__}`);\n          }\n\n          const tabElements = this.container()\n              .selectAll('.dc-legend-item-label.dc-tabbable')\n              .attr('tabindex', 0);\n\n          tabElements\n              .on('keydown', d3compat.eventHandler((d, event) => {\n                  // trigger only if d is an object\n                  if (event.keyCode === 13 && typeof d === 'object') {\n                      d.chart.legendToggle(d);\n                  } \n                  // special case for space key press - prevent scrolling\n                  if (event.keyCode === 32 && typeof d === 'object') {\n                      d.chart.legendToggle(d);\n                      event.preventDefault();            \n                  }\n              }))\n              .on('focus', d3compat.eventHandler(d => {\n                  this._parent.legendHighlight(d);\n              }))\n              .on('blur', d3compat.eventHandler(d => {\n                  this._parent.legendReset(d);\n              }));\n      }\n  }\n\n  const htmlLegend = () => new HtmlLegend();\n\n  const LABEL_GAP = 2;\n\n  /**\n   * Legend is a attachable widget that can be added to other dc charts to render horizontal legend\n   * labels.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n   * @example\n   * chart.legend(new Legend().x(400).y(10).itemHeight(13).gap(5))\n   * @returns {Legend}\n   */\n  class Legend {\n      constructor () {\n          this._parent = undefined;\n          this._x = 0;\n          this._y = 0;\n          this._itemHeight = 12;\n          this._gap = 5;\n          this._horizontal = false;\n          this._legendWidth = 560;\n          this._itemWidth = 70;\n          this._autoItemWidth = false;\n          this._legendText = pluck('name');\n          this._maxItems = undefined;\n          this._highlightSelected = false;\n          this._keyboardAccessible = false;\n\n          this._g = undefined;\n      }\n\n      parent (p) {\n          if (!arguments.length) {\n              return this._parent;\n          }\n          this._parent = p;\n          return this;\n      }\n\n      /**\n       * Set or get x coordinate for legend widget.\n       * @param  {Number} [x=0]\n       * @returns {Number|Legend}\n       */\n      x (x) {\n          if (!arguments.length) {\n              return this._x;\n          }\n          this._x = x;\n          return this;\n      }\n\n      /**\n       * Set or get y coordinate for legend widget.\n       * @param  {Number} [y=0]\n       * @returns {Number|Legend}\n       */\n      y (y) {\n          if (!arguments.length) {\n              return this._y;\n          }\n          this._y = y;\n          return this;\n      }\n\n      /**\n       * Set or get gap between legend items.\n       * @param  {Number} [gap=5]\n       * @returns {Number|Legend}\n       */\n      gap (gap) {\n          if (!arguments.length) {\n              return this._gap;\n          }\n          this._gap = gap;\n          return this;\n      }\n\n      /**\n       * This can be optionally used to enable highlighting legends for the selections/filters for the\n       * chart.\n       * @param {String} [highlightSelected]\n       * @return {String|dc.legend}\n       **/\n      highlightSelected (highlightSelected) {\n          if (!arguments.length) {\n              return this._highlightSelected;\n          }\n          this._highlightSelected = highlightSelected;\n          return this;\n      }\n\n      /**\n       * Set or get legend item height.\n       * @param  {Number} [itemHeight=12]\n       * @returns {Number|Legend}\n       */\n      itemHeight (itemHeight) {\n          if (!arguments.length) {\n              return this._itemHeight;\n          }\n          this._itemHeight = itemHeight;\n          return this;\n      }\n\n      /**\n       * Position legend horizontally instead of vertically.\n       * @param  {Boolean} [horizontal=false]\n       * @returns {Boolean|Legend}\n       */\n      horizontal (horizontal) {\n          if (!arguments.length) {\n              return this._horizontal;\n          }\n          this._horizontal = horizontal;\n          return this;\n      }\n\n      /**\n       * Maximum width for horizontal legend.\n       * @param  {Number} [legendWidth=500]\n       * @returns {Number|Legend}\n       */\n      legendWidth (legendWidth) {\n          if (!arguments.length) {\n              return this._legendWidth;\n          }\n          this._legendWidth = legendWidth;\n          return this;\n      }\n\n      /**\n       * Legend item width for horizontal legend.\n       * @param  {Number} [itemWidth=70]\n       * @returns {Number|Legend}\n       */\n      itemWidth (itemWidth) {\n          if (!arguments.length) {\n              return this._itemWidth;\n          }\n          this._itemWidth = itemWidth;\n          return this;\n      }\n\n      /**\n       * Turn automatic width for legend items on or off. If true, {@link Legend#itemWidth itemWidth} is ignored.\n       * This setting takes into account the {@link Legend#gap gap}.\n       * @param  {Boolean} [autoItemWidth=false]\n       * @returns {Boolean|Legend}\n       */\n      autoItemWidth (autoItemWidth) {\n          if (!arguments.length) {\n              return this._autoItemWidth;\n          }\n          this._autoItemWidth = autoItemWidth;\n          return this;\n      }\n\n      /**\n       * Set or get the legend text function. The legend widget uses this function to render the legend\n       * text for each item. If no function is specified the legend widget will display the names\n       * associated with each group.\n       * @param  {Function} [legendText]\n       * @returns {Function|Legend}\n       * @example\n       * // default legendText\n       * legend.legendText(pluck('name'))\n       *\n       * // create numbered legend items\n       * chart.legend(new Legend().legendText(function(d, i) { return i + '. ' + d.name; }))\n       *\n       * // create legend displaying group counts\n       * chart.legend(new Legend().legendText(function(d) { return d.name + ': ' d.data; }))\n       */\n      legendText (legendText) {\n          if (!arguments.length) {\n              return this._legendText;\n          }\n          this._legendText = legendText;\n          return this;\n      }\n\n      /**\n       * Maximum number of legend items to display\n       * @param  {Number} [maxItems]\n       * @return {Legend}\n       */\n      maxItems (maxItems) {\n          if (!arguments.length) {\n              return this._maxItems;\n          }\n          this._maxItems = utils.isNumber(maxItems) ? maxItems : undefined;\n          return this;\n      }\n\n      /**\n       * If set, individual legend items will be focusable from keyboard and on pressing Enter or Space\n       * will behave as if clicked on.\n       * \n       * If `svgDescription` on the parent chart has not been explicitly set, will also set the default \n       * SVG description text to the class constructor name, like BarChart or HeatMap, and make the entire\n       * SVG focusable.\n       * @param {Boolean} [keyboardAccessible=false]\n       * @returns {Boolean|Legend}\n       */\n      keyboardAccessible (keyboardAccessible) {\n          if (!arguments.length) {\n              return this._keyboardAccessible;\n          }\n          this._keyboardAccessible = keyboardAccessible;\n          return this;\n      }\n\n      // Implementation methods\n\n      _legendItemHeight () {\n          return this._gap + this._itemHeight;\n      }\n\n      _makeLegendKeyboardAccessible () {\n\n          if (!this._parent._svgDescription) {\n\n              this._parent.svg().append('desc')\n                  .attr('id', `desc-id-${this._parent.__dcFlag__}`)\n                  .html(`${this._parent.svgDescription()}`);\n\n              this._parent.svg()\n                  .attr('tabindex', '0')\n                  .attr('role', 'img')\n                  .attr('aria-labelledby', `desc-id-${this._parent.__dcFlag__}`);\n          }\n\n          const tabElements = this._parent.svg()\n              .selectAll('.dc-legend .dc-tabbable')\n              .attr('tabindex', 0);\n\n          tabElements\n              .on('keydown', d3compat.eventHandler((d, event) => {\n                  // trigger only if d is an object\n                  if (event.keyCode === 13 && typeof d === 'object') {\n                      d.chart.legendToggle(d);\n                  } \n                  // special case for space key press - prevent scrolling\n                  if (event.keyCode === 32 && typeof d === 'object') {\n                      d.chart.legendToggle(d);\n                      event.preventDefault();            \n                  }\n              }))\n              .on('focus', d3compat.eventHandler(d => {\n                  this._parent.legendHighlight(d);\n              }))\n              .on('blur', d3compat.eventHandler(d => {\n                  this._parent.legendReset(d);\n              }));\n      }\n\n      render () {\n          this._parent.svg().select('g.dc-legend').remove();\n          this._g = this._parent.svg().append('g')\n              .attr('class', 'dc-legend')\n              .attr('transform', `translate(${this._x},${this._y})`);\n          let legendables = this._parent.legendables();\n          const filters = this._parent.filters();\n\n          if (this._maxItems !== undefined) {\n              legendables = legendables.slice(0, this._maxItems);\n          }\n\n          const itemEnter = this._g.selectAll('g.dc-legend-item')\n              .data(legendables)\n              .enter()\n              .append('g')\n              .attr('class', 'dc-legend-item')\n              .on('mouseover', d3compat.eventHandler(d => {\n                  this._parent.legendHighlight(d);\n              }))\n              .on('mouseout', d3compat.eventHandler(d => {\n                  this._parent.legendReset(d);\n              }))\n              .on('click', d3compat.eventHandler(d => {\n                  d.chart.legendToggle(d);\n              }));\n\n          if (this._highlightSelected) {\n              itemEnter.classed(constants.SELECTED_CLASS,\n                                d => filters.indexOf(d.name) !== -1);\n          }\n\n\n          this._g.selectAll('g.dc-legend-item')\n              .classed('fadeout', d => d.chart.isLegendableHidden(d));\n\n          if (legendables.some(pluck('dashstyle'))) {\n              itemEnter\n                  .append('line')\n                  .attr('x1', 0)\n                  .attr('y1', this._itemHeight / 2)\n                  .attr('x2', this._itemHeight)\n                  .attr('y2', this._itemHeight / 2)\n                  .attr('stroke-width', 2)\n                  .attr('stroke-dasharray', pluck('dashstyle'))\n                  .attr('stroke', pluck('color'));\n          } else {\n              itemEnter\n                  .append('rect')\n                  .attr('width', this._itemHeight)\n                  .attr('height', this._itemHeight)\n                  .attr('fill', d => d ? d.color : 'blue');\n          }\n\n          {\n              const self = this;\n\n              itemEnter.append('text')\n                  .text(self._legendText)\n                  .classed('dc-tabbable', this._keyboardAccessible)\n                  .attr('x', self._itemHeight + LABEL_GAP)\n                  .attr('y', function () {\n                      return self._itemHeight / 2 + (this.clientHeight ? this.clientHeight : 13) / 2 - 2;\n                  });\n\n              if (this._keyboardAccessible) {\n                  this._makeLegendKeyboardAccessible();\n              }\n          }\n\n          let cumulativeLegendTextWidth = 0;\n          let row = 0;\n\n          {\n              const self = this;\n\n              itemEnter.attr('transform', function (d, i) {\n                  if (self._horizontal) {\n                      const itemWidth = self._autoItemWidth === true ? this.getBBox().width + self._gap : self._itemWidth;\n                      if ((cumulativeLegendTextWidth + itemWidth) > self._legendWidth && cumulativeLegendTextWidth > 0) {\n                          ++row;\n                          cumulativeLegendTextWidth = 0;\n                      }\n                      const translateBy = `translate(${cumulativeLegendTextWidth},${row * self._legendItemHeight()})`;\n                      cumulativeLegendTextWidth += itemWidth;\n                      return translateBy;\n                  } else {\n                      return `translate(0,${i * self._legendItemHeight()})`;\n                  }\n              });\n          }\n      }\n\n  }\n\n  const legend = () => new Legend();\n\n  const DEFAULT_DOT_RADIUS = 5;\n  const TOOLTIP_G_CLASS = 'dc-tooltip';\n  const DOT_CIRCLE_CLASS = 'dot';\n  const Y_AXIS_REF_LINE_CLASS = 'yRef';\n  const X_AXIS_REF_LINE_CLASS = 'xRef';\n  const DEFAULT_DOT_OPACITY = 1e-6;\n  const LABEL_PADDING$1 = 3;\n\n  /**\n   * Concrete line/area chart implementation.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * - {@link http://dc-js.github.com/dc.js/crime/index.html Canadian City Crime Stats}\n   * @mixes StackMixin\n   * @mixes CoordinateGridMixin\n   */\n  class LineChart extends StackMixin {\n      /**\n       * Create a Line Chart.\n       * @example\n       * // create a line chart under #chart-container1 element using the default global chart group\n       * var chart1 = new LineChart('#chart-container1');\n       * // create a line chart under #chart-container2 element using chart group A\n       * var chart2 = new LineChart('#chart-container2', 'chartGroupA');\n       * // create a sub-chart under a composite parent chart\n       * var chart3 = new LineChart(compositeChart);\n       * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n       * specifying a dom block element such as a div; or a dom element or d3 selection.  If the line\n       * chart is a sub-chart in a {@link CompositeChart Composite Chart} then pass in the parent\n       * composite chart instance instead.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._renderArea = false;\n          this._dotRadius = DEFAULT_DOT_RADIUS;\n          this._dataPointRadius = null;\n          this._dataPointFillOpacity = DEFAULT_DOT_OPACITY;\n          this._dataPointStrokeOpacity = DEFAULT_DOT_OPACITY;\n          this._curve = null;\n          this._interpolate = null; // d3.curveLinear;  // deprecated in 3.0\n          this._tension = null;  // deprecated in 3.0\n          this._defined = undefined;\n          this._dashStyle = undefined;\n          this._xyTipsOn = true;\n\n          this.transitionDuration(500);\n          this.transitionDelay(0);\n          this._rangeBandPadding(1);\n\n          this.label(d => utils.printSingleValue(d.y0 + d.y), false);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      plotData () {\n          const chartBody = this.chartBodyG();\n          let layersList = chartBody.select('g.stack-list');\n\n          if (layersList.empty()) {\n              layersList = chartBody.append('g').attr('class', 'stack-list');\n          }\n\n          let layers = layersList.selectAll('g.stack').data(this.data());\n\n          const layersEnter = layers\n              .enter()\n              .append('g')\n              .attr('class', (d, i) => `stack _${i}`);\n\n          layers = layersEnter.merge(layers);\n\n          this._drawLine(layersEnter, layers);\n\n          this._drawArea(layersEnter, layers);\n\n          this._drawDots(chartBody, layers);\n\n          if (this.renderLabel()) {\n              this._drawLabels(layers);\n          }\n      }\n\n      /**\n       * Gets or sets the curve factory to use for lines and areas drawn, allowing e.g. step\n       * functions, splines, and cubic interpolation. Typically you would use one of the interpolator functions\n       * provided by {@link https://github.com/d3/d3-shape/blob/master/README.md#curves d3 curves}.\n       *\n       * Replaces the use of {@link LineChart#interpolate} and {@link LineChart#tension}\n       * in dc.js < 3.0\n       *\n       * This is passed to\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#line_curve line.curve} and\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#area_curve area.curve}.\n       * @example\n       * // default\n       * chart\n       *     .curve(d3.curveLinear);\n       * // Add tension to curves that support it\n       * chart\n       *     .curve(d3.curveCardinal.tension(0.5));\n       * // You can use some specialized variation like\n       * // https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline\n       * chart\n       *     .curve(d3.curveCatmullRom.alpha(0.5));\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#line_curve line.curve}\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#area_curve area.curve}\n       * @param  {d3.curve} [curve=d3.curveLinear]\n       * @returns {d3.curve|LineChart}\n       */\n      curve (curve) {\n          if (!arguments.length) {\n              return this._curve;\n          }\n          this._curve = curve;\n          return this;\n      }\n\n      /**\n       * Gets or sets the interpolator to use for lines drawn, by string name, allowing e.g. step\n       * functions, splines, and cubic interpolation.\n       *\n       * Possible values are: 'linear', 'linear-closed', 'step', 'step-before', 'step-after', 'basis',\n       * 'basis-open', 'basis-closed', 'bundle', 'cardinal', 'cardinal-open', 'cardinal-closed', and\n       * 'monotone'.\n       *\n       * This function exists for backward compatibility. Use {@link LineChart#curve}\n       * which is generic and provides more options.\n       * Value set through `.curve` takes precedence over `.interpolate` and `.tension`.\n       * @deprecated since version 3.0 use {@link LineChart#curve} instead\n       * @see {@link LineChart#curve}\n       * @param  {d3.curve} [interpolate=d3.curveLinear]\n       * @returns {d3.curve|LineChart}\n       */\n      interpolate (interpolate) {\n          logger.warnOnce('dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead');\n          if (!arguments.length) {\n              return this._interpolate;\n          }\n          this._interpolate = interpolate;\n          return this;\n      }\n\n      /**\n       * Gets or sets the tension to use for lines drawn, in the range 0 to 1.\n       *\n       * Passed to the {@link https://github.com/d3/d3-shape/blob/master/README.md#curves d3 curve function}\n       * if it provides a `.tension` function. Example:\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#curveCardinal_tension curveCardinal.tension}.\n       *\n       * This function exists for backward compatibility. Use {@link LineChart#curve}\n       * which is generic and provides more options.\n       * Value set through `.curve` takes precedence over `.interpolate` and `.tension`.\n       * @deprecated since version 3.0 use {@link LineChart#curve} instead\n       * @see {@link LineChart#curve}\n       * @param  {Number} [tension=0]\n       * @returns {Number|LineChart}\n       */\n      tension (tension) {\n          logger.warnOnce('dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead');\n          if (!arguments.length) {\n              return this._tension;\n          }\n          this._tension = tension;\n          return this;\n      }\n\n      /**\n       * Gets or sets a function that will determine discontinuities in the line which should be\n       * skipped: the path will be broken into separate subpaths if some points are undefined.\n       * This function is passed to\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#line_defined line.defined}\n       *\n       * Note: crossfilter will sometimes coerce nulls to 0, so you may need to carefully write\n       * custom reduce functions to get this to work, depending on your data. See\n       * {@link https://github.com/dc-js/dc.js/issues/615#issuecomment-49089248 this GitHub comment}\n       * for more details and an example.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#line_defined line.defined}\n       * @param  {Function} [defined]\n       * @returns {Function|LineChart}\n       */\n      defined (defined) {\n          if (!arguments.length) {\n              return this._defined;\n          }\n          this._defined = defined;\n          return this;\n      }\n\n      /**\n       * Set the line's d3 dashstyle. This value becomes the 'stroke-dasharray' of line. Defaults to empty\n       * array (solid line).\n       * @see {@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dasharray stroke-dasharray}\n       * @example\n       * // create a Dash Dot Dot Dot\n       * chart.dashStyle([3,1,1,1]);\n       * @param  {Array<Number>} [dashStyle=[]]\n       * @returns {Array<Number>|LineChart}\n       */\n      dashStyle (dashStyle) {\n          if (!arguments.length) {\n              return this._dashStyle;\n          }\n          this._dashStyle = dashStyle;\n          return this;\n      }\n\n      /**\n       * Get or set render area flag. If the flag is set to true then the chart will render the area\n       * beneath each line and the line chart effectively becomes an area chart.\n       * @param  {Boolean} [renderArea=false]\n       * @returns {Boolean|LineChart}\n       */\n      renderArea (renderArea) {\n          if (!arguments.length) {\n              return this._renderArea;\n          }\n          this._renderArea = renderArea;\n          return this;\n      }\n\n      _getColor (d, i) {\n          return this.getColor.call(d, d.values, i);\n      }\n\n      // To keep it backward compatible, this covers multiple cases\n      // See https://github.com/dc-js/dc.js/issues/1376\n      // It will be removed when interpolate and tension are removed.\n      _getCurveFactory () {\n          let curve = null;\n\n          // _curve takes precedence\n          if (this._curve) {\n              return this._curve;\n          }\n\n          // Approximate the D3v3 behavior\n          if (typeof this._interpolate === 'function') {\n              curve = this._interpolate;\n          } else {\n              // If _interpolate is string\n              const mapping = {\n                  'linear': d3Shape.curveLinear,\n                  'linear-closed': d3Shape.curveLinearClosed,\n                  'step': d3Shape.curveStep,\n                  'step-before': d3Shape.curveStepBefore,\n                  'step-after': d3Shape.curveStepAfter,\n                  'basis': d3Shape.curveBasis,\n                  'basis-open': d3Shape.curveBasisOpen,\n                  'basis-closed': d3Shape.curveBasisClosed,\n                  'bundle': d3Shape.curveBundle,\n                  'cardinal': d3Shape.curveCardinal,\n                  'cardinal-open': d3Shape.curveCardinalOpen,\n                  'cardinal-closed': d3Shape.curveCardinalClosed,\n                  'monotone': d3Shape.curveMonotoneX\n              };\n              curve = mapping[this._interpolate];\n          }\n\n          // Default value\n          if (!curve) {\n              curve = d3Shape.curveLinear;\n          }\n\n          if (this._tension !== null) {\n              if (typeof curve.tension !== 'function') {\n                  logger.warn('tension was specified but the curve/interpolate does not support it.');\n              } else {\n                  curve = curve.tension(this._tension);\n              }\n          }\n          return curve;\n      }\n\n      _drawLine (layersEnter, layers) {\n          const _line = d3Shape.line()\n              .x(d => this.x()(d.x))\n              .y(d => this.y()(d.y + d.y0))\n              .curve(this._getCurveFactory());\n          if (this._defined) {\n              _line.defined(this._defined);\n          }\n\n          const path = layersEnter.append('path')\n              .attr('class', 'line')\n              .attr('stroke', (d, i) => this._getColor(d, i));\n          if (this._dashStyle) {\n              path.attr('stroke-dasharray', this._dashStyle);\n          }\n\n          transition(layers.select('path.line'), this.transitionDuration(), this.transitionDelay())\n          //.ease('linear')\n              .attr('stroke', (d, i) => this._getColor(d, i))\n              .attr('d', d => this._safeD(_line(d.values)));\n      }\n\n      _drawArea (layersEnter, layers) {\n          if (this._renderArea) {\n              const _area = d3Shape.area()\n                  .x(d => this.x()(d.x))\n                  .y1(d => this.y()(d.y + d.y0))\n                  .y0(d => this.y()(d.y0))\n                  .curve(this._getCurveFactory());\n              if (this._defined) {\n                  _area.defined(this._defined);\n              }\n\n              layersEnter.append('path')\n                  .attr('class', 'area')\n                  .attr('fill', (d, i) => this._getColor(d, i))\n                  .attr('d', d => this._safeD(_area(d.values)));\n\n              transition(layers.select('path.area'), this.transitionDuration(), this.transitionDelay())\n              //.ease('linear')\n                  .attr('fill', (d, i) => this._getColor(d, i))\n                  .attr('d', d => this._safeD(_area(d.values)));\n          }\n      }\n\n      _safeD (d) {\n          return (!d || d.indexOf('NaN') >= 0) ? 'M0,0' : d;\n      }\n\n      _drawDots (chartBody, layers) {\n          if (this.xyTipsOn() === 'always' || (!(this.brushOn() || this.parentBrushOn()) && this.xyTipsOn())) {\n              const tooltipListClass = `${TOOLTIP_G_CLASS}-list`;\n              let tooltips = chartBody.select(`g.${tooltipListClass}`);\n\n              if (tooltips.empty()) {\n                  tooltips = chartBody.append('g').attr('class', tooltipListClass);\n              }\n\n              layers.each((data, layerIndex) => {\n                  let points = data.values;\n                  if (this._defined) {\n                      points = points.filter(this._defined);\n                  }\n\n                  let g = tooltips.select(`g.${TOOLTIP_G_CLASS}._${layerIndex}`);\n                  if (g.empty()) {\n                      g = tooltips.append('g').attr('class', `${TOOLTIP_G_CLASS} _${layerIndex}`);\n                  }\n\n                  this._createRefLines(g);\n\n                  const dots = g.selectAll(`circle.${DOT_CIRCLE_CLASS}`)\n                      .data(points, pluck('x'));\n\n                  const chart = this;\n                  const dotsEnterModify = dots\n                      .enter()\n                      .append('circle')\n                      .attr('class', DOT_CIRCLE_CLASS)\n                      .classed('dc-tabbable', this._keyboardAccessible)\n                      .attr('cx', d => utils.safeNumber(this.x()(d.x)))\n                      .attr('cy', d => utils.safeNumber(this.y()(d.y + d.y0)))\n                      .attr('r', this._getDotRadius())\n                      .style('fill-opacity', this._dataPointFillOpacity)\n                      .style('stroke-opacity', this._dataPointStrokeOpacity)\n                      .attr('fill', this.getColor)\n                      .attr('stroke', this.getColor)\n                      .on('mousemove', function () {\n                          const dot = d3Selection.select(this);\n                          chart._showDot(dot);\n                          chart._showRefLines(dot, g);\n                      })\n                      .on('mouseout', function () {\n                          const dot = d3Selection.select(this);\n                          chart._hideDot(dot);\n                          chart._hideRefLines(g);\n                      })\n                      .merge(dots);\n\n                  // special case for on-focus for line chart and its dots\n                  if (this._keyboardAccessible) {\n\n                      this._svg.selectAll('.dc-tabbable')\n                          .attr('tabindex', 0)\n                          .on('focus', function () {\n                              const dot = d3Selection.select(this);\n                              chart._showDot(dot);\n                              chart._showRefLines(dot, g);\n                          })\n                          .on('blur', function () {\n                              const dot = d3Selection.select(this);\n                              chart._hideDot(dot);\n                              chart._hideRefLines(g);\n                          });\n                  }\n\n                  dotsEnterModify.call(dot => this._doRenderTitle(dot, data));\n\n                  transition(dotsEnterModify, this.transitionDuration())\n                      .attr('cx', d => utils.safeNumber(this.x()(d.x)))\n                      .attr('cy', d => utils.safeNumber(this.y()(d.y + d.y0)))\n                      .attr('fill', this.getColor);\n\n                  dots.exit().remove();\n              });\n          }\n      }\n\n      _drawLabels (layers) {\n          const chart = this;\n          layers.each(function (data, layerIndex) {\n              const layer = d3Selection.select(this);\n              const labels = layer.selectAll('text.lineLabel')\n                  .data(data.values, pluck('x'));\n\n              const labelsEnterModify = labels\n                  .enter()\n                  .append('text')\n                  .attr('class', 'lineLabel')\n                  .attr('text-anchor', 'middle')\n                  .merge(labels);\n\n              transition(labelsEnterModify, chart.transitionDuration())\n                  .attr('x', d => utils.safeNumber(chart.x()(d.x)))\n                  .attr('y', d => {\n                      const y = chart.y()(d.y + d.y0) - LABEL_PADDING$1;\n                      return utils.safeNumber(y);\n                  })\n                  .text(d => chart.label()(d));\n\n              transition(labels.exit(), chart.transitionDuration())\n                  .attr('height', 0)\n                  .remove();\n          });\n      }\n\n      _createRefLines (g) {\n          const yRefLine = g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).empty() ?\n              g.append('path').attr('class', Y_AXIS_REF_LINE_CLASS) : g.select(`path.${Y_AXIS_REF_LINE_CLASS}`);\n          yRefLine.style('display', 'none').attr('stroke-dasharray', '5,5');\n\n          const xRefLine = g.select(`path.${X_AXIS_REF_LINE_CLASS}`).empty() ?\n              g.append('path').attr('class', X_AXIS_REF_LINE_CLASS) : g.select(`path.${X_AXIS_REF_LINE_CLASS}`);\n          xRefLine.style('display', 'none').attr('stroke-dasharray', '5,5');\n      }\n\n      _showDot (dot) {\n          dot.style('fill-opacity', 0.8);\n          dot.style('stroke-opacity', 0.8);\n          dot.attr('r', this._dotRadius);\n          return dot;\n      }\n\n      _showRefLines (dot, g) {\n          const x = dot.attr('cx');\n          const y = dot.attr('cy');\n          const yAxisX = (this._yAxisX() - this.margins().left);\n          const yAxisRefPathD = `M${yAxisX} ${y}L${x} ${y}`;\n          const xAxisRefPathD = `M${x} ${this.yAxisHeight()}L${x} ${y}`;\n          g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).style('display', '').attr('d', yAxisRefPathD);\n          g.select(`path.${X_AXIS_REF_LINE_CLASS}`).style('display', '').attr('d', xAxisRefPathD);\n      }\n\n      _getDotRadius () {\n          return this._dataPointRadius || this._dotRadius;\n      }\n\n      _hideDot (dot) {\n          dot.style('fill-opacity', this._dataPointFillOpacity)\n              .style('stroke-opacity', this._dataPointStrokeOpacity)\n              .attr('r', this._getDotRadius());\n      }\n\n      _hideRefLines (g) {\n          g.select(`path.${Y_AXIS_REF_LINE_CLASS}`).style('display', 'none');\n          g.select(`path.${X_AXIS_REF_LINE_CLASS}`).style('display', 'none');\n      }\n\n      _doRenderTitle (dot, d) {\n          if (this.renderTitle()) {\n              dot.select('title').remove();\n              dot.append('title').text(pluck('data', this.title(d.name)));\n          }\n      }\n\n      /**\n       * Turn on/off the mouseover behavior of an individual data point which renders a circle and x/y axis\n       * dashed lines back to each respective axis.  This is ignored if the chart\n       * {@link CoordinateGridMixin#brushOn brush} is on\n       * @param  {Boolean} [xyTipsOn=false]\n       * @returns {Boolean|LineChart}\n       */\n      xyTipsOn (xyTipsOn) {\n          if (!arguments.length) {\n              return this._xyTipsOn;\n          }\n          this._xyTipsOn = xyTipsOn;\n          return this;\n      }\n\n      /**\n       * Get or set the radius (in px) for dots displayed on the data points.\n       * @param  {Number} [dotRadius=5]\n       * @returns {Number|LineChart}\n       */\n      dotRadius (dotRadius) {\n          if (!arguments.length) {\n              return this._dotRadius;\n          }\n          this._dotRadius = dotRadius;\n          return this;\n      }\n\n      /**\n       * Always show individual dots for each datapoint.\n       *\n       * If `options` is falsy, it disables data point rendering. If no `options` are provided, the\n       * current `options` values are instead returned.\n       * @example\n       * chart.renderDataPoints({radius: 2, fillOpacity: 0.8, strokeOpacity: 0.0})\n       * @param  {{fillOpacity: Number, strokeOpacity: Number, radius: Number}} [options={fillOpacity: 0.8, strokeOpacity: 0.0, radius: 2}]\n       * @returns {{fillOpacity: Number, strokeOpacity: Number, radius: Number}|LineChart}\n       */\n      renderDataPoints (options) {\n          if (!arguments.length) {\n              return {\n                  fillOpacity: this._dataPointFillOpacity,\n                  strokeOpacity: this._dataPointStrokeOpacity,\n                  radius: this._dataPointRadius\n              };\n          } else if (!options) {\n              this._dataPointFillOpacity = DEFAULT_DOT_OPACITY;\n              this._dataPointStrokeOpacity = DEFAULT_DOT_OPACITY;\n              this._dataPointRadius = null;\n          } else {\n              this._dataPointFillOpacity = options.fillOpacity || 0.8;\n              this._dataPointStrokeOpacity = options.strokeOpacity || 0.0;\n              this._dataPointRadius = options.radius || 2;\n          }\n          return this;\n      }\n\n      _colorFilter (color, dashstyle, inv) {\n          return function () {\n              const item = d3Selection.select(this);\n              const match = (item.attr('stroke') === color &&\n                  item.attr('stroke-dasharray') === ((dashstyle instanceof Array) ?\n                      dashstyle.join(',') : null)) || item.attr('fill') === color;\n              return inv ? !match : match;\n          };\n      }\n\n      legendHighlight (d) {\n          if (!this.isLegendableHidden(d)) {\n              this.g().selectAll('path.line, path.area')\n                  .classed('highlight', this._colorFilter(d.color, d.dashstyle))\n                  .classed('fadeout', this._colorFilter(d.color, d.dashstyle, true));\n          }\n      }\n\n      legendReset () {\n          this.g().selectAll('path.line, path.area')\n              .classed('highlight', false)\n              .classed('fadeout', false);\n      }\n\n      legendables () {\n          const legendables = super.legendables();\n          if (!this._dashStyle) {\n              return legendables;\n          }\n          return legendables.map(l => {\n              l.dashstyle = this._dashStyle;\n              return l;\n          });\n      }\n  }\n\n  const lineChart = (parent, chartGroup) => new LineChart(parent, chartGroup);\n\n  const SPAN_CLASS = 'number-display';\n\n  /**\n   * A display of a single numeric value.\n   *\n   * Unlike other charts, you do not need to set a dimension. Instead a group object must be provided and\n   * a valueAccessor that returns a single value.\n   *\n   * If the group is a {@link https://github.com/crossfilter/crossfilter/wiki/API-Reference#crossfilter_groupAll groupAll}\n   * then its `.value()` will be displayed. This is the recommended usage.\n   *\n   * However, if it is given an ordinary group, the `numberDisplay` will show the last bin's value, after\n   * sorting with the {@link https://dc-js.github.io/dc.js/docs/html/dc.baseMixin.html#ordering__anchor ordering}\n   * function. `numberDisplay` defaults the `ordering` function to sorting by value, so this will display\n   * the largest value if the values are numeric.\n   * @mixes BaseMixin\n   */\n  class NumberDisplay extends BaseMixin {\n      /**\n       * Create a Number Display widget.\n       *\n       * @example\n       * // create a number display under #chart-container1 element using the default global chart group\n       * var display1 = new NumberDisplay('#chart-container1');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._formatNumber = d3Format.format('.2s');\n          this._html = {one: '', some: '', none: ''};\n          this._lastValue = undefined;\n          this._ariaLiveRegion = false;\n\n          // dimension not required\n          this._mandatoryAttributes(['group']);\n\n          // default to ordering by value, to emulate old group.top(1) behavior when multiple groups\n          this.ordering(kv => kv.value);\n\n          this.data(group => {\n              const valObj = group.value ? group.value() : this._maxBin(group.all());\n              return this.valueAccessor()(valObj);\n          });\n\n          this.transitionDuration(250); // good default\n          this.transitionDelay(0);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Gets or sets an optional object specifying HTML templates to use depending on the number\n       * displayed.  The text `%number` will be replaced with the current value.\n       * - one: HTML template to use if the number is 1\n       * - zero: HTML template to use if the number is 0\n       * - some: HTML template to use otherwise\n       * @example\n       * numberWidget.html({\n       *      one:'%number record',\n       *      some:'%number records',\n       *      none:'no records'})\n       * @param {{one:String, some:String, none:String}} [html={one: '', some: '', none: ''}]\n       * @returns {{one:String, some:String, none:String}|NumberDisplay}\n       */\n      html (html) {\n          if (!arguments.length) {\n              return this._html;\n          }\n          if (html.none) {\n              this._html.none = html.none;//if none available\n          } else if (html.one) {\n              this._html.none = html.one;//if none not available use one\n          } else if (html.some) {\n              this._html.none = html.some;//if none and one not available use some\n          }\n          if (html.one) {\n              this._html.one = html.one;//if one available\n          } else if (html.some) {\n              this._html.one = html.some;//if one not available use some\n          }\n          if (html.some) {\n              this._html.some = html.some;//if some available\n          } else if (html.one) {\n              this._html.some = html.one;//if some not available use one\n          }\n          return this;\n      }\n\n      /**\n       * Calculate and return the underlying value of the display.\n       * @returns {Number}\n       */\n      value () {\n          return this.data();\n      }\n\n      _maxBin (all) {\n          if (!all.length) {\n              return null;\n          }\n          const sorted = this._computeOrderedGroups(all);\n          return sorted[sorted.length - 1];\n      }\n\n      _doRender () {\n          const newValue = this.value();\n          let span = this.selectAll(`.${SPAN_CLASS}`);\n\n          if (span.empty()) {\n              span = span.data([0])\n                  .enter()\n                  .append('span')\n                  .attr('class', SPAN_CLASS)\n                  .classed('dc-tabbable', this._keyboardAccessible)\n                  .merge(span);\n\n              if (this._keyboardAccessible) {\n                  span.attr('tabindex', '0');\n              }\n\n              if (this._ariaLiveRegion) {\n                  this.transitionDuration(0);\n                  span.attr('aria-live', 'polite');\n              }\n          }\n\n          {\n              const chart = this;\n              span.transition()\n                  .duration(chart.transitionDuration())\n                  .delay(chart.transitionDelay())\n                  .ease(d3Ease.easeQuad)\n                  .tween('text', function () {\n                      // [XA] don't try and interpolate from Infinity, else this breaks.\n                      const interpStart = isFinite(chart._lastValue) ? chart._lastValue : 0;\n                      const interp = d3Interpolate.interpolateNumber(interpStart || 0, newValue);\n                      chart._lastValue = newValue;\n\n                      // need to save it in D3v4\n                      const node = this;\n                      return t => {\n                          let html = null;\n                          const num = chart.formatNumber()(interp(t));\n                          if (newValue === 0 && (chart._html.none !== '')) {\n                              html = chart._html.none;\n                          } else if (newValue === 1 && (chart._html.one !== '')) {\n                              html = chart._html.one;\n                          } else if (chart._html.some !== '') {\n                              html = chart._html.some;\n                          }\n                          node.innerHTML = html ? html.replace('%number', num) : num;\n                      };\n                  });\n          }\n      }\n\n      _doRedraw () {\n          return this._doRender();\n      }\n\n      /**\n       * Get or set a function to format the value for the display.\n       * @see {@link https://github.com/d3/d3-format/blob/master/README.md#format d3.format}\n       * @param {Function} [formatter=d3.format('.2s')]\n       * @returns {Function|NumberDisplay}\n       */\n      formatNumber (formatter) {\n          if (!arguments.length) {\n              return this._formatNumber;\n          }\n          this._formatNumber = formatter;\n          return this;\n      }\n\n      /**\n       * If set, the Number Display widget will have its aria-live attribute set to 'polite' which will\n       * notify screen readers when the widget changes its value. Note that setting this method will also\n       * disable the default transition between the old and the new values. This is to avoid change\n       * notifications spoken out before the new value finishes re-drawing. It is also advisable to check\n       * if the widget has appropriately set accessibility description or label. \n       * @param {Boolean} [ariaLiveRegion=false]\n       * @returns {Boolean|NumberDisplay}\n       */\n      ariaLiveRegion (ariaLiveRegion) {\n          if (!arguments.length) {\n              return this._ariaLiveRegion;\n          }\n          this._ariaLiveRegion = ariaLiveRegion;\n          return this;\n      }\n\n  }\n\n  const numberDisplay = (parent, chartGroup) => new NumberDisplay(parent, chartGroup);\n\n  const DEFAULT_MIN_ANGLE_FOR_LABEL = 0.5;\n\n  /**\n   * The pie chart implementation is usually used to visualize a small categorical distribution.  The pie\n   * chart uses keyAccessor to determine the slices, and valueAccessor to calculate the size of each\n   * slice relative to the sum of all values. Slices are ordered by {@link BaseMixin#ordering ordering}\n   * which defaults to sorting by key.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * @mixes CapMixin\n   * @mixes ColorMixin\n   * @mixes BaseMixin\n   */\n  class PieChart extends CapMixin(ColorMixin(BaseMixin)) {\n      /**\n       * Create a Pie Chart\n       *\n       * @example\n       * // create a pie chart under #chart-container1 element using the default global chart group\n       * var chart1 = new PieChart('#chart-container1');\n       * // create a pie chart under #chart-container2 element using chart group A\n       * var chart2 = new PieChart('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._sliceCssClass = 'pie-slice';\n          this._labelCssClass = 'pie-label';\n          this._sliceGroupCssClass = 'pie-slice-group';\n          this._labelGroupCssClass = 'pie-label-group';\n          this._emptyCssClass = 'empty-chart';\n          this._emptyTitle = 'empty';\n\n          this._radius = undefined;\n          this._givenRadius = undefined; // specified radius, if any\n          this._innerRadius = 0;\n          this._externalRadiusPadding = 0;\n\n\n          this._g = undefined;\n          this._cx = undefined;\n          this._cy = undefined;\n          this._minAngleForLabel = DEFAULT_MIN_ANGLE_FOR_LABEL;\n          this._externalLabelRadius = undefined;\n          this._drawPaths = false;\n\n          this.colorAccessor(d => this.cappedKeyAccessor(d));\n\n          this.title(d => `${this.cappedKeyAccessor(d)}: ${this.cappedValueAccessor(d)}`);\n\n          this.label(d => this.cappedKeyAccessor(d));\n          this.renderLabel(true);\n\n          this.transitionDuration(350);\n          this.transitionDelay(0);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      /**\n       * Get or set the maximum number of slices the pie chart will generate. The top slices are determined by\n       * value from high to low. Other slices exceeding the cap will be rolled up into one single *Others* slice.\n       * @param {Number} [cap]\n       * @returns {Number|PieChart}\n       */\n      slicesCap (cap) {\n          return this.cap(cap)\n      }\n\n      _doRender () {\n          this.resetSvg();\n\n          this._g = this.svg()\n              .append('g')\n              .attr('transform', `translate(${this.cx()},${this.cy()})`);\n\n          this._g.append('g').attr('class', this._sliceGroupCssClass);\n          this._g.append('g').attr('class', this._labelGroupCssClass);\n\n          this._drawChart();\n\n          return this;\n      }\n\n      _drawChart () {\n          // set radius from chart size if none given, or if given radius is too large\n          const maxRadius = d3Array.min([this.width(), this.height()]) / 2;\n          this._radius = this._givenRadius && this._givenRadius < maxRadius ? this._givenRadius : maxRadius;\n\n          const arcs = this._buildArcs();\n\n          const pieLayout = this._pieLayout();\n          let pieData;\n          // if we have data...\n          if (d3Array.sum(this.data(), d => this.cappedValueAccessor(d))) {\n              pieData = pieLayout(this.data());\n              this._g.classed(this._emptyCssClass, false);\n          } else {\n              // otherwise we'd be getting NaNs, so override\n              // note: abuse others for its ignoring the value accessor\n              pieData = pieLayout([{key: this._emptyTitle, value: 1, others: [this._emptyTitle]}]);\n              this._g.classed(this._emptyCssClass, true);\n          }\n\n          if (this._g) {\n              const slices = this._g.select(`g.${this._sliceGroupCssClass}`)\n                  .selectAll(`g.${this._sliceCssClass}`)\n                  .data(pieData);\n\n              const labels = this._g.select(`g.${this._labelGroupCssClass}`)\n                  .selectAll(`text.${this._labelCssClass}`)\n                  .data(pieData);\n\n              this._removeElements(slices, labels);\n\n              this._createElements(slices, labels, arcs, pieData);\n\n              this._updateElements(pieData, arcs);\n\n              this._highlightFilter();\n\n              transition(this._g, this.transitionDuration(), this.transitionDelay())\n                  .attr('transform', `translate(${this.cx()},${this.cy()})`);\n          }\n      }\n\n      _createElements (slices, labels, arcs, pieData) {\n          const slicesEnter = this._createSliceNodes(slices);\n\n          this._createSlicePath(slicesEnter, arcs);\n\n          this._createTitles(slicesEnter);\n\n          this._createLabels(labels, pieData, arcs);\n      }\n\n      _createSliceNodes (slices) {\n          return slices\n              .enter()\n              .append('g')\n              .attr('class', (d, i) => `${this._sliceCssClass} _${i}`)\n              .classed('dc-tabbable', this._keyboardAccessible);\n      }\n\n      _createSlicePath (slicesEnter, arcs) {\n          const slicePath = slicesEnter.append('path')\n              .attr('fill', (d, i) => this._fill(d, i))\n              .on('click', d3compat.eventHandler(d => this._onClick(d)))\n              .attr('d', (d, i) => this._safeArc(d, i, arcs));\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this._onClick);\n          }\n\n          const tranNodes = transition(slicePath, this.transitionDuration(), this.transitionDelay());\n          if (tranNodes.attrTween) {\n              const chart = this;\n              tranNodes.attrTween('d', function (d) {\n                  return chart._tweenPie(d, this);\n              });\n          }\n      }\n\n      _createTitles (slicesEnter) {\n          if (this.renderTitle()) {\n              slicesEnter.append('title').text(d => this.title()(d.data));\n          }\n      }\n\n      _applyLabelText (labels) {\n          labels\n              .text(d => {\n                  const data = d.data;\n                  if ((this._sliceHasNoData(data) || this._sliceTooSmall(d)) && !this._isSelectedSlice(d)) {\n                      return '';\n                  }\n                  return this.label()(d.data);\n              });\n      }\n\n      _positionLabels (labels, arcs) {\n          this._applyLabelText(labels);\n          transition(labels, this.transitionDuration(), this.transitionDelay())\n              .attr('transform', d => this._labelPosition(d, arcs))\n              .attr('text-anchor', 'middle');\n      }\n\n      _highlightSlice (i, whether) {\n          this.select(`g.pie-slice._${i}`)\n              .classed('highlight', whether);\n      }\n\n      _createLabels (labels, pieData, arcs) {\n          if (this.renderLabel()) {\n              const labelsEnter = labels\n                  .enter()\n                  .append('text')\n                  .attr('class', (d, i) => {\n                      let classes = `${this._sliceCssClass} ${this._labelCssClass} _${i}`;\n                      if (this._externalLabelRadius) {\n                          classes += ' external';\n                      }\n                      return classes;\n                  })\n                  .on('click', d3compat.eventHandler(d => this._onClick(d)))\n                  .on('mouseover', d3compat.eventHandler(d => {\n                      this._highlightSlice(d.index, true);\n                  }))\n                  .on('mouseout', d3compat.eventHandler(d => {\n                      this._highlightSlice(d.index, false);\n                  }));\n              this._positionLabels(labelsEnter, arcs);\n              if (this._externalLabelRadius && this._drawPaths) {\n                  this._updateLabelPaths(pieData, arcs);\n              }\n          }\n      }\n\n      _updateLabelPaths (pieData, arcs) {\n          let polyline = this._g.selectAll(`polyline.${this._sliceCssClass}`)\n              .data(pieData);\n\n          polyline.exit().remove();\n\n          polyline = polyline\n              .enter()\n              .append('polyline')\n              .attr('class', (d, i) => `pie-path _${i} ${this._sliceCssClass}`)\n              .on('click', d3compat.eventHandler(d => this._onClick(d)))\n              .on('mouseover', d3compat.eventHandler(d => {\n                  this._highlightSlice(d.index, true);\n              }))\n              .on('mouseout', d3compat.eventHandler(d => {\n                  this._highlightSlice(d.index, false);\n              }))\n              .merge(polyline);\n\n          const arc2 = d3Shape.arc()\n              .outerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n              .innerRadius(this._radius - this._externalRadiusPadding);\n          const tranNodes = transition(polyline, this.transitionDuration(), this.transitionDelay());\n          // this is one rare case where d3.selection differs from d3.transition\n          if (tranNodes.attrTween) {\n              tranNodes\n                  .attrTween('points', function (d) {\n                      let current = this._current || d;\n                      current = {startAngle: current.startAngle, endAngle: current.endAngle};\n                      const _interpolate = d3Interpolate.interpolate(current, d);\n                      this._current = _interpolate(0);\n                      return t => {\n                          const d2 = _interpolate(t);\n                          return [arcs.centroid(d2), arc2.centroid(d2)];\n                      };\n                  });\n          } else {\n              tranNodes.attr('points', d => [arcs.centroid(d), arc2.centroid(d)]);\n          }\n          tranNodes.style('visibility', d => d.endAngle - d.startAngle < 0.0001 ? 'hidden' : 'visible');\n\n      }\n\n      _updateElements (pieData, arcs) {\n          this._updateSlicePaths(pieData, arcs);\n          this._updateLabels(pieData, arcs);\n          this._updateTitles(pieData);\n      }\n\n      _updateSlicePaths (pieData, arcs) {\n          const slicePaths = this._g.selectAll(`g.${this._sliceCssClass}`)\n              .data(pieData)\n              .select('path')\n              .attr('d', (d, i) => this._safeArc(d, i, arcs));\n          const tranNodes = transition(slicePaths, this.transitionDuration(), this.transitionDelay());\n          if (tranNodes.attrTween) {\n              const chart = this;\n              tranNodes.attrTween('d', function (d) {\n                  return chart._tweenPie(d, this);\n              });\n          }\n          tranNodes.attr('fill', (d, i) => this._fill(d, i));\n      }\n\n      _updateLabels (pieData, arcs) {\n          if (this.renderLabel()) {\n              const labels = this._g.selectAll(`text.${this._labelCssClass}`)\n                  .data(pieData);\n              this._positionLabels(labels, arcs);\n              if (this._externalLabelRadius && this._drawPaths) {\n                  this._updateLabelPaths(pieData, arcs);\n              }\n          }\n      }\n\n      _updateTitles (pieData) {\n          if (this.renderTitle()) {\n              this._g.selectAll(`g.${this._sliceCssClass}`)\n                  .data(pieData)\n                  .select('title')\n                  .text(d => this.title()(d.data));\n          }\n      }\n\n      _removeElements (slices, labels) {\n          slices.exit().remove();\n          labels.exit().remove();\n      }\n\n      _highlightFilter () {\n          const chart = this;\n          if (this.hasFilter()) {\n              this.selectAll(`g.${this._sliceCssClass}`).each(function (d) {\n                  if (chart._isSelectedSlice(d)) {\n                      chart.highlightSelected(this);\n                  } else {\n                      chart.fadeDeselected(this);\n                  }\n              });\n          } else {\n              this.selectAll(`g.${this._sliceCssClass}`).each(function () {\n                  chart.resetHighlight(this);\n              });\n          }\n      }\n\n      /**\n       * Get or set the external radius padding of the pie chart. This will force the radius of the\n       * pie chart to become smaller or larger depending on the value.\n       * @param {Number} [externalRadiusPadding=0]\n       * @returns {Number|PieChart}\n       */\n      externalRadiusPadding (externalRadiusPadding) {\n          if (!arguments.length) {\n              return this._externalRadiusPadding;\n          }\n          this._externalRadiusPadding = externalRadiusPadding;\n          return this;\n      }\n\n      /**\n       * Get or set the inner radius of the pie chart. If the inner radius is greater than 0px then the\n       * pie chart will be rendered as a doughnut chart.\n       * @param {Number} [innerRadius=0]\n       * @returns {Number|PieChart}\n       */\n      innerRadius (innerRadius) {\n          if (!arguments.length) {\n              return this._innerRadius;\n          }\n          this._innerRadius = innerRadius;\n          return this;\n      }\n\n      /**\n       * Get or set the outer radius. If the radius is not set, it will be half of the minimum of the\n       * chart width and height.\n       * @param {Number} [radius]\n       * @returns {Number|PieChart}\n       */\n      radius (radius) {\n          if (!arguments.length) {\n              return this._givenRadius;\n          }\n          this._givenRadius = radius;\n          return this;\n      }\n\n      /**\n       * Get or set center x coordinate position. Default is center of svg.\n       * @param {Number} [cx]\n       * @returns {Number|PieChart}\n       */\n      cx (cx) {\n          if (!arguments.length) {\n              return (this._cx || this.width() / 2);\n          }\n          this._cx = cx;\n          return this;\n      }\n\n      /**\n       * Get or set center y coordinate position. Default is center of svg.\n       * @param {Number} [cy]\n       * @returns {Number|PieChart}\n       */\n      cy (cy) {\n          if (!arguments.length) {\n              return (this._cy || this.height() / 2);\n          }\n          this._cy = cy;\n          return this;\n      }\n\n      _buildArcs () {\n          return d3Shape.arc()\n              .outerRadius(this._radius - this._externalRadiusPadding)\n              .innerRadius(this._innerRadius);\n      }\n\n      _isSelectedSlice (d) {\n          return this.hasFilter(this.cappedKeyAccessor(d.data));\n      }\n\n      _doRedraw () {\n          this._drawChart();\n          return this;\n      }\n\n      /**\n       * Get or set the minimal slice angle for label rendering. Any slice with a smaller angle will not\n       * display a slice label.\n       * @param {Number} [minAngleForLabel=0.5]\n       * @returns {Number|PieChart}\n       */\n      minAngleForLabel (minAngleForLabel) {\n          if (!arguments.length) {\n              return this._minAngleForLabel;\n          }\n          this._minAngleForLabel = minAngleForLabel;\n          return this;\n      }\n\n      _pieLayout () {\n          return d3Shape.pie().sort(null).value(d => this.cappedValueAccessor(d));\n      }\n\n      _sliceTooSmall (d) {\n          const angle = (d.endAngle - d.startAngle);\n          return isNaN(angle) || angle < this._minAngleForLabel;\n      }\n\n      _sliceHasNoData (d) {\n          return this.cappedValueAccessor(d) === 0;\n      }\n\n      _isOffCanvas (current) {\n          return !current || isNaN(current.startAngle) || isNaN(current.endAngle);\n      }\n\n      _fill (d, i) {\n          return this.getColor(d.data, i);\n      }\n\n      _onClick (d) {\n          if (this._g.attr('class') !== this._emptyCssClass) {\n              this.onClick(d.data);\n          }\n      }\n\n      _safeArc (d, i, _arc) {\n          let path = _arc(d, i);\n          if (path.indexOf('NaN') >= 0) {\n              path = 'M0,0';\n          }\n          return path;\n      }\n\n      /**\n       * Title to use for the only slice when there is no data.\n       * @param {String} [title]\n       * @returns {String|PieChart}\n       */\n      emptyTitle (title) {\n          if (arguments.length === 0) {\n              return this._emptyTitle;\n          }\n          this._emptyTitle = title;\n          return this;\n      }\n\n      /**\n       * Position slice labels offset from the outer edge of the chart.\n       *\n       * The argument specifies the extra radius to be added for slice labels.\n       * @param {Number} [externalLabelRadius]\n       * @returns {Number|PieChart}\n       */\n      externalLabels (externalLabelRadius) {\n          if (arguments.length === 0) {\n              return this._externalLabelRadius;\n          } else if (externalLabelRadius) {\n              this._externalLabelRadius = externalLabelRadius;\n          } else {\n              this._externalLabelRadius = undefined;\n          }\n\n          return this;\n      }\n\n      /**\n       * Get or set whether to draw lines from pie slices to their labels.\n       *\n       * @param {Boolean} [drawPaths]\n       * @returns {Boolean|PieChart}\n       */\n      drawPaths (drawPaths) {\n          if (arguments.length === 0) {\n              return this._drawPaths;\n          }\n          this._drawPaths = drawPaths;\n          return this;\n      }\n\n      _labelPosition (d, _arc) {\n          let centroid;\n          if (this._externalLabelRadius) {\n              centroid = d3Shape.arc()\n                  .outerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n                  .innerRadius(this._radius - this._externalRadiusPadding + this._externalLabelRadius)\n                  .centroid(d);\n          } else {\n              centroid = _arc.centroid(d);\n          }\n          if (isNaN(centroid[0]) || isNaN(centroid[1])) {\n              return 'translate(0,0)';\n          } else {\n              return `translate(${centroid})`;\n          }\n      }\n\n      legendables () {\n          return this.data().map((d, i) => {\n              const legendable = {name: d.key, data: d.value, others: d.others, chart: this};\n              legendable.color = this.getColor(d, i);\n              return legendable;\n          });\n      }\n\n      legendHighlight (d) {\n          this._highlightSliceFromLegendable(d, true);\n      }\n\n      legendReset (d) {\n          this._highlightSliceFromLegendable(d, false);\n      }\n\n      legendToggle (d) {\n          this.onClick({key: d.name, others: d.others});\n      }\n\n      _highlightSliceFromLegendable (legendable, highlighted) {\n          this.selectAll('g.pie-slice').each(function (d) {\n              if (legendable.name === d.data.key) {\n                  d3Selection.select(this).classed('highlight', highlighted);\n              }\n          });\n      }\n\n      _tweenPie (b, element) {\n          b.innerRadius = this._innerRadius;\n          let current = element._current;\n          if (this._isOffCanvas(current)) {\n              current = {startAngle: 0, endAngle: 0};\n          } else {\n              // only interpolate startAngle & endAngle, not the whole data object\n              current = {startAngle: current.startAngle, endAngle: current.endAngle};\n          }\n          const i = d3Interpolate.interpolate(current, b);\n          element._current = i(0);\n          return t => this._safeArc(i(t), 0, this._buildArcs());\n      }\n\n\n  }\n\n  const pieChart = (parent, chartGroup) => new PieChart(parent, chartGroup);\n\n  /**\n   * Concrete row chart implementation.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.com/dc.js/ Nasdaq 100 Index}\n   * @mixes CapMixin\n   * @mixes MarginMixin\n   * @mixes ColorMixin\n   * @mixes BaseMixin\n   */\n  class RowChart extends CapMixin(ColorMixin(MarginMixin)) {\n      /**\n       * Create a Row Chart.\n       * @example\n       * // create a row chart under #chart-container1 element using the default global chart group\n       * var chart1 = new RowChart('#chart-container1');\n       * // create a row chart under #chart-container2 element using chart group A\n       * var chart2 = new RowChart('#chart-container2', 'chartGroupA');\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._g = undefined;\n\n          this._labelOffsetX = 10;\n          this._labelOffsetY = 15;\n          this._hasLabelOffsetY = false;\n          this._dyOffset = '0.35em'; // this helps center labels https://github.com/d3/d3-3.x-api-reference/blob/master/SVG-Shapes.md#svg_text\n          this._titleLabelOffsetX = 2;\n\n          this._gap = 5;\n\n          this._fixedBarHeight = false;\n          this._rowCssClass = 'row';\n          this._titleRowCssClass = 'titlerow';\n          this._renderTitleLabel = false;\n\n          this._x = undefined;\n\n          this._elasticX = undefined;\n\n          this._xAxis = d3Axis.axisBottom();\n\n          this._rowData = undefined;\n\n          this.rowsCap = this.cap;\n\n          this.title(d => `${this.cappedKeyAccessor(d)}: ${this.cappedValueAccessor(d)}`);\n\n          this.label(d => this.cappedKeyAccessor(d));\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _calculateAxisScale () {\n          if (!this._x || this._elasticX) {\n              const _extent = d3Array.extent(this._rowData, d => this.cappedValueAccessor(d));\n              if (_extent[0] > 0) {\n                  _extent[0] = 0;\n              }\n              if (_extent[1] < 0) {\n                  _extent[1] = 0;\n              }\n              this._x = d3Scale.scaleLinear().domain(_extent)\n                  .range([0, this.effectiveWidth()]);\n          }\n          this._xAxis.scale(this._x);\n      }\n\n      _drawAxis () {\n          let axisG = this._g.select('g.axis');\n\n          this._calculateAxisScale();\n\n          if (axisG.empty()) {\n              axisG = this._g.append('g').attr('class', 'axis');\n          }\n          axisG.attr('transform', `translate(0, ${this.effectiveHeight()})`);\n\n          transition(axisG, this.transitionDuration(), this.transitionDelay())\n              .call(this._xAxis);\n      }\n\n      _doRender () {\n          this.resetSvg();\n\n          this._g = this.svg()\n              .append('g')\n              .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n          this._drawChart();\n\n          return this;\n      }\n\n      /**\n       * Gets or sets the x scale. The x scale can be any d3\n       * {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}.\n       * @see {@link https://github.com/d3/d3-scale/blob/master/README.md d3.scale}\n       * @param {d3.scale} [scale]\n       * @returns {d3.scale|RowChart}\n       */\n      x (scale) {\n          if (!arguments.length) {\n              return this._x;\n          }\n          this._x = scale;\n          return this;\n      }\n\n      _drawGridLines () {\n          this._g.selectAll('g.tick')\n              .select('line.grid-line')\n              .remove();\n\n          this._g.selectAll('g.tick')\n              .append('line')\n              .attr('class', 'grid-line')\n              .attr('x1', 0)\n              .attr('y1', 0)\n              .attr('x2', 0)\n              .attr('y2', () => -this.effectiveHeight());\n      }\n\n      _drawChart () {\n          this._rowData = this.data();\n\n          this._drawAxis();\n          this._drawGridLines();\n\n          let rows = this._g.selectAll(`g.${this._rowCssClass}`)\n              .data(this._rowData);\n\n          this._removeElements(rows);\n          rows = this._createElements(rows)\n              .merge(rows);\n          this._updateElements(rows);\n      }\n\n      _createElements (rows) {\n          const rowEnter = rows.enter()\n              .append('g')\n              .attr('class', (d, i) => `${this._rowCssClass} _${i}`);\n\n          rowEnter.append('rect').attr('width', 0);\n\n          this._createLabels(rowEnter);\n\n          return rowEnter;\n      }\n\n      _removeElements (rows) {\n          rows.exit().remove();\n      }\n\n      _rootValue () {\n          const root = this._x(0);\n          return (root === -Infinity || root !== root) ? this._x(1) : root;\n      }\n\n      _updateElements (rows) {\n          const n = this._rowData.length;\n\n          let height;\n          if (!this._fixedBarHeight) {\n              height = (this.effectiveHeight() - (n + 1) * this._gap) / n;\n          } else {\n              height = this._fixedBarHeight;\n          }\n\n          // vertically align label in center unless they override the value via property setter\n          if (!this._hasLabelOffsetY) {\n              this._labelOffsetY = height / 2;\n          }\n\n          const rect = rows.attr('transform', (d, i) => `translate(0,${(i + 1) * this._gap + i * height})`).select('rect')\n              .attr('height', height)\n              .attr('fill', this.getColor)\n              .on('click', d3compat.eventHandler(d => this._onClick(d)))\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .classed('deselected', d => (this.hasFilter()) ? !this._isSelectedRow(d) : false)\n              .classed('selected', d => (this.hasFilter()) ? this._isSelectedRow(d) : false);\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(d => this._onClick(d));\n          }\n\n          transition(rect, this.transitionDuration(), this.transitionDelay())\n              .attr('width', d => Math.abs(this._rootValue() - this._x(this.cappedValueAccessor(d))))\n              .attr('transform', d => this._translateX(d));\n\n          this._createTitles(rows);\n          this._updateLabels(rows);\n      }\n\n      _createTitles (rows) {\n          if (this.renderTitle()) {\n              rows.select('title').remove();\n              rows.append('title').text(this.title());\n          }\n      }\n\n      _createLabels (rowEnter) {\n          if (this.renderLabel()) {\n              rowEnter.append('text')\n                  .on('click', d3compat.eventHandler(d => this._onClick(d)));\n          }\n          if (this.renderTitleLabel()) {\n              rowEnter.append('text')\n                  .attr('class', this._titleRowCssClass)\n                  .on('click', d3compat.eventHandler(d => this._onClick(d)));\n          }\n      }\n\n      _updateLabels (rows) {\n          if (this.renderLabel()) {\n              const lab = rows.select('text')\n                  .attr('x', this._labelOffsetX)\n                  .attr('y', this._labelOffsetY)\n                  .attr('dy', this._dyOffset)\n                  .on('click', d3compat.eventHandler(d => this._onClick(d)))\n                  .attr('class', (d, i) => `${this._rowCssClass} _${i}`)\n                  .text(d => this.label()(d));\n              transition(lab, this.transitionDuration(), this.transitionDelay())\n                  .attr('transform', d => this._translateX(d));\n          }\n          if (this.renderTitleLabel()) {\n              const titlelab = rows.select(`.${this._titleRowCssClass}`)\n                  .attr('x', this.effectiveWidth() - this._titleLabelOffsetX)\n                  .attr('y', this._labelOffsetY)\n                  .attr('dy', this._dyOffset)\n                  .attr('text-anchor', 'end')\n                  .on('click', d3compat.eventHandler(d => this._onClick(d)))\n                  .attr('class', (d, i) => `${this._titleRowCssClass} _${i}`)\n                  .text(d => this.title()(d));\n              transition(titlelab, this.transitionDuration(), this.transitionDelay())\n                  .attr('transform', d => this._translateX(d));\n          }\n      }\n\n      /**\n       * Turn on/off Title label rendering (values) using SVG style of text-anchor 'end'.\n       * @param {Boolean} [renderTitleLabel=false]\n       * @returns {Boolean|RowChart}\n       */\n      renderTitleLabel (renderTitleLabel) {\n          if (!arguments.length) {\n              return this._renderTitleLabel;\n          }\n          this._renderTitleLabel = renderTitleLabel;\n          return this;\n      }\n\n      _onClick (d) {\n          this.onClick(d);\n      }\n\n      _translateX (d) {\n          const x = this._x(this.cappedValueAccessor(d)),\n              x0 = this._rootValue(),\n              s = x > x0 ? x0 : x;\n          return `translate(${s},0)`;\n      }\n\n      _doRedraw () {\n          this._drawChart();\n          return this;\n      }\n\n      /**\n       * Get or sets the x axis for the row chart instance.\n       * See the {@link https://github.com/d3/d3-axis/blob/master/README.md d3.axis}\n       * documention for more information.\n       * @param {d3.axis} [xAxis]\n       * @example\n       * // customize x axis tick format\n       * chart.xAxis().tickFormat(function (v) {return v + '%';});\n       * // customize x axis tick values\n       * chart.xAxis().tickValues([0, 100, 200, 300]);\n       * // use a top-oriented axis. Note: position of the axis and grid lines will need to\n       * // be set manually, see https://dc-js.github.io/dc.js/examples/row-top-axis.html\n       * chart.xAxis(d3.axisTop())\n       * @returns {d3.axis|RowChart}\n       */\n      xAxis (xAxis) {\n          if (!arguments.length) {\n              return this._xAxis;\n          }\n          this._xAxis = xAxis;\n          return this;\n      }\n\n      /**\n       * Get or set the fixed bar height. Default is [false] which will auto-scale bars.\n       * For example, if you want to fix the height for a specific number of bars (useful in TopN charts)\n       * you could fix height as follows (where count = total number of bars in your TopN and gap is\n       * your vertical gap space).\n       * @example\n       * chart.fixedBarHeight( chartheight - (count + 1) * gap / count);\n       * @param {Boolean|Number} [fixedBarHeight=false]\n       * @returns {Boolean|Number|RowChart}\n       */\n      fixedBarHeight (fixedBarHeight) {\n          if (!arguments.length) {\n              return this._fixedBarHeight;\n          }\n          this._fixedBarHeight = fixedBarHeight;\n          return this;\n      }\n\n      /**\n       * Get or set the vertical gap space between rows on a particular row chart instance.\n       * @param {Number} [gap=5]\n       * @returns {Number|RowChart}\n       */\n      gap (gap) {\n          if (!arguments.length) {\n              return this._gap;\n          }\n          this._gap = gap;\n          return this;\n      }\n\n      /**\n       * Get or set the elasticity on x axis. If this attribute is set to true, then the x axis will rescale to auto-fit the\n       * data range when filtered.\n       * @param {Boolean} [elasticX]\n       * @returns {Boolean|RowChart}\n       */\n      elasticX (elasticX) {\n          if (!arguments.length) {\n              return this._elasticX;\n          }\n          this._elasticX = elasticX;\n          return this;\n      }\n\n      /**\n       * Get or set the x offset (horizontal space to the top left corner of a row) for labels on a particular row chart.\n       * @param {Number} [labelOffsetX=10]\n       * @returns {Number|RowChart}\n       */\n      labelOffsetX (labelOffsetX) {\n          if (!arguments.length) {\n              return this._labelOffsetX;\n          }\n          this._labelOffsetX = labelOffsetX;\n          return this;\n      }\n\n      /**\n       * Get or set the y offset (vertical space to the top left corner of a row) for labels on a particular row chart.\n       * @param {Number} [labelOffsety=15]\n       * @returns {Number|RowChart}\n       */\n      labelOffsetY (labelOffsety) {\n          if (!arguments.length) {\n              return this._labelOffsetY;\n          }\n          this._labelOffsetY = labelOffsety;\n          this._hasLabelOffsetY = true;\n          return this;\n      }\n\n      /**\n       * Get of set the x offset (horizontal space between right edge of row and right edge or text.\n       * @param {Number} [titleLabelOffsetX=2]\n       * @returns {Number|RowChart}\n       */\n      titleLabelOffsetX (titleLabelOffsetX) {\n          if (!arguments.length) {\n              return this._titleLabelOffsetX;\n          }\n          this._titleLabelOffsetX = titleLabelOffsetX;\n          return this;\n      }\n\n      _isSelectedRow (d) {\n          return this.hasFilter(this.cappedKeyAccessor(d));\n      }\n  }\n\n  const rowChart = (parent, chartGroup) => new RowChart(parent, chartGroup);\n\n  /**\n   * A scatter plot chart\n   *\n   * Examples:\n   * - {@link http://dc-js.github.io/dc.js/examples/scatter.html Scatter Chart}\n   * - {@link http://dc-js.github.io/dc.js/examples/multi-scatter.html Multi-Scatter Chart}\n   * @mixes CoordinateGridMixin\n   */\n  class ScatterPlot extends CoordinateGridMixin {\n      /**\n       * Create a Scatter Plot.\n       * @example\n       * // create a scatter plot under #chart-container1 element using the default global chart group\n       * var chart1 = new ScatterPlot('#chart-container1');\n       * // create a scatter plot under #chart-container2 element using chart group A\n       * var chart2 = new ScatterPlot('#chart-container2', 'chartGroupA');\n       * // create a sub-chart under a composite parent chart\n       * var chart3 = new ScatterPlot(compositeChart);\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._symbol = d3Shape.symbol();\n\n          this._existenceAccessor = d => d.value;\n\n          const originalKeyAccessor = this.keyAccessor();\n          this.keyAccessor(d => originalKeyAccessor(d)[0]);\n          this.valueAccessor(d => originalKeyAccessor(d)[1]);\n          this.colorAccessor(() => this._groupName);\n\n          // this basically just counteracts the setting of its own key/value accessors\n          // see https://github.com/dc-js/dc.js/issues/702\n          this.title(d => `${this.keyAccessor()(d)},${this.valueAccessor()(d)}: ${this.existenceAccessor()(d)}`);\n\n          this._highlightedSize = 7;\n          this._symbolSize = 5;\n          this._excludedSize = 3;\n          this._excludedColor = null;\n          this._excludedOpacity = 1.0;\n          this._emptySize = 0;\n          this._emptyOpacity = 0;\n          this._nonemptyOpacity = 1;\n          this._emptyColor = null;\n          this._filtered = [];\n          this._canvas = null;\n          this._context = null;\n          this._useCanvas = false;\n\n\n          // Use a 2 dimensional brush\n          this.brush(d3Brush.brush());\n\n          this._symbol.size((d, i) => this._elementSize(d, i));\n\n          this.anchor(parent, chartGroup);\n      }\n\n      // Calculates element radius for canvas plot to be comparable to D3 area based symbol sizes\n      _canvasElementSize (d, isFiltered) {\n          if (!this._existenceAccessor(d)) {\n              return this._emptySize / Math.sqrt(Math.PI);\n          } else if (isFiltered) {\n              return this._symbolSize / Math.sqrt(Math.PI);\n          } else {\n              return this._excludedSize / Math.sqrt(Math.PI);\n          }\n      }\n\n      _elementSize (d, i) {\n          if (!this._existenceAccessor(d)) {\n              return Math.pow(this._emptySize, 2);\n          } else if (this._filtered[i]) {\n              return Math.pow(this._symbolSize, 2);\n          } else {\n              return Math.pow(this._excludedSize, 2);\n          }\n      }\n\n      _locator (d) {\n          return `translate(${this.x()(this.keyAccessor()(d))},${ \n            this.y()(this.valueAccessor()(d))})`;\n      }\n\n      filter (filter) {\n          if (!arguments.length) {\n              return super.filter();\n          }\n\n          return super.filter(filters.RangedTwoDimensionalFilter(filter));\n      }\n\n      /**\n       * Method that replaces original resetSvg and appropriately inserts canvas\n       * element along with svg element and sets their CSS properties appropriately\n       * so they are overlapped on top of each other.\n       * Remove the chart's SVGElements from the dom and recreate the container SVGElement.\n       * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/SVGElement SVGElement}\n       * @returns {SVGElement}\n       */\n      resetSvg () {\n          if (!this._useCanvas) {\n              return super.resetSvg();\n          } else {\n              super.resetSvg(); // Perform original svgReset inherited from baseMixin\n              this.select('canvas').remove(); // remove old canvas\n\n              const svgSel = this.svg();\n              const rootSel = this.root();\n\n              // Set root node to relative positioning and svg to absolute\n              rootSel.style('position', 'relative');\n              svgSel.style('position', 'relative');\n\n              // Check if SVG element already has any extra top/left CSS offsets\n              const svgLeft = isNaN(parseInt(svgSel.style('left'), 10)) ? 0 : parseInt(svgSel.style('left'), 10);\n              const svgTop = isNaN(parseInt(svgSel.style('top'), 10)) ? 0 : parseInt(svgSel.style('top'), 10);\n              const width = this.effectiveWidth();\n              const height = this.effectiveHeight();\n              const margins = this.margins(); // {top: 10, right: 130, bottom: 42, left: 42}\n\n              // Add the canvas element such that it perfectly overlaps the plot area of the scatter plot SVG\n              const devicePixelRatio = window.devicePixelRatio || 1;\n              this._canvas = this.root().append('canvas')\n                  .attr('x', 0)\n                  .attr('y', 0)\n                  .attr('width', (width) * devicePixelRatio)\n                  .attr('height', (height) * devicePixelRatio)\n                  .style('width', `${width}px`)\n                  .style('height', `${height}px`)\n                  .style('position', 'absolute')\n                  .style('top', `${margins.top + svgTop}px`)\n                  .style('left', `${margins.left + svgLeft}px`)\n                  .style('z-index', -1) // Place behind SVG\n                  .style('pointer-events', 'none'); // Disable pointer events on canvas so SVG can capture brushing\n\n              // Define canvas context and set clipping path\n              this._context = this._canvas.node().getContext('2d');\n              this._context.scale(devicePixelRatio, devicePixelRatio);\n              this._context.rect(0, 0, width, height);\n              this._context.clip(); // Setup clipping path\n              this._context.imageSmoothingQuality = 'high';\n\n              return this.svg(); // Respect original return param for this.resetSvg;\n          }\n      }\n\n      _resizeCanvas () {\n          const width = this.effectiveWidth();\n          const height = this.effectiveHeight();\n\n          const devicePixelRatio = window.devicePixelRatio || 1;\n          this._canvas\n              .attr('width', (width) * devicePixelRatio)\n              .attr('height', (height) * devicePixelRatio)\n              .style('width', `${width}px`)\n              .style('height', `${height}px`);\n          this._context.scale(devicePixelRatio, devicePixelRatio);\n      }\n\n\n      /**\n       * Set or get whether to use canvas backend for plotting scatterPlot. Note that the\n       * canvas backend does not currently support\n       * {@link ScatterPlot#customSymbol customSymbol} or\n       * {@link ScatterPlot#symbol symbol} methods and is limited to always plotting\n       * with filled circles. Symbols are drawn with\n       * {@link ScatterPlot#symbolSize symbolSize} radius. By default, the SVG backend\n       * is used when `useCanvas` is set to `false`.\n       * @param {Boolean} [useCanvas=false]\n       * @return {Boolean|d3.selection}\n       */\n      useCanvas (useCanvas) {\n          if (!arguments.length) {\n              return this._useCanvas;\n          }\n          this._useCanvas = useCanvas;\n          return this;\n      }\n\n      /**\n       * Set or get canvas element. You should usually only ever use the get method as\n       * dc.js will handle canvas element generation.  Provides valid canvas only when\n       * {@link ScatterPlot#useCanvas useCanvas} is set to `true`\n       * @param {CanvasElement|d3.selection} [canvasElement]\n       * @return {CanvasElement|d3.selection}\n       */\n      canvas (canvasElement) {\n          if (!arguments.length) {\n              return this._canvas;\n          }\n          this._canvas = canvasElement;\n          return this;\n      }\n\n      /**\n       * Get canvas 2D context. Provides valid context only when\n       * {@link ScatterPlot#useCanvas useCanvas} is set to `true`\n       * @return {CanvasContext}\n       */\n      context () {\n          return this._context;\n      }\n\n      /*eslint complexity: [2,11] */\n      // Plots data on canvas element. If argument provided, assumes legend is\n      // currently being highlighted and modifies opacity/size of symbols accordingly\n      // @param {Object} [legendHighlightDatum] - Datum provided to legendHighlight method\n      _plotOnCanvas (legendHighlightDatum) {\n          this._resizeCanvas();\n          const context = this.context();\n          context.clearRect(0, 0, (context.canvas.width + 2) * 1, (context.canvas.height + 2) * 1);\n          const data = this.data();\n\n          // Draw the data on canvas\n          data.forEach((d, i) => {\n              const isFiltered = !this.filter() || this.filter().isFiltered([d.key[0], d.key[1]]);\n              // Calculate opacity for current data point\n              let cOpacity = 1;\n              if (!this._existenceAccessor(d)) {\n                  cOpacity = this._emptyOpacity;\n              } else if (isFiltered) {\n                  cOpacity = this._nonemptyOpacity;\n              } else {\n                  cOpacity = this.excludedOpacity();\n              }\n              // Calculate color for current data point\n              let cColor = null;\n              if (this._emptyColor && !this._existenceAccessor(d)) {\n                  cColor = this._emptyColor;\n              } else if (this.excludedColor() && !isFiltered) {\n                  cColor = this.excludedColor();\n              } else {\n                  cColor = this.getColor(d);\n              }\n              let cSize = this._canvasElementSize(d, isFiltered);\n\n              // Adjust params for data points if legend is highlighted\n              if (legendHighlightDatum) {\n                  const isHighlighted = (cColor === legendHighlightDatum.color);\n                  // Calculate opacity for current data point\n                  const fadeOutOpacity = 0.1; // TODO: Make this programmatically setable\n                  if (!isHighlighted) { // Fade out non-highlighted colors + highlighted colors outside filter\n                      cOpacity = fadeOutOpacity;\n                  }\n                  if (isHighlighted) { // Set size for highlighted color data points\n                      cSize = this._highlightedSize / Math.sqrt(Math.PI);\n                  }\n              }\n\n              // Draw point on canvas\n              context.save();\n              context.globalAlpha = cOpacity;\n              context.beginPath();\n              context.arc(this.x()(this.keyAccessor()(d)), this.y()(this.valueAccessor()(d)), cSize, 0, 2 * Math.PI, true);\n              context.fillStyle = cColor;\n              context.fill();\n              // context.lineWidth = 0.5; // Commented out code to add stroke around scatter points if desired\n              // context.strokeStyle = '#333';\n              // context.stroke();\n              context.restore();\n          });\n      }\n\n      _plotOnSVG () {\n\n          const data = this.data();\n\n          if (this._keyboardAccessible) {\n              // sort based on the x value (key)\n              data.sort((a, b) => d3Array.ascending(this.keyAccessor()(a), this.keyAccessor()(b)));\n          }\n\n          let symbols = this.chartBodyG().selectAll('path.symbol')\n              .data(data);\n\n          transition(symbols.exit(), this.transitionDuration(), this.transitionDelay())\n              .attr('opacity', 0).remove();\n\n          symbols = symbols\n              .enter()\n              .append('path')\n              .attr('class', 'symbol')\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('opacity', 0)\n              .attr('fill', this.getColor)\n              .attr('transform', d => this._locator(d))\n              .merge(symbols);\n\n          // no click handler - just tabindex for reading out of tooltips\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible();\n              symbols.order();\n          }\n\n          symbols.call(s => this._renderTitles(s, data));\n\n          symbols.each((d, i) => {\n              this._filtered[i] = !this.filter() || this.filter().isFiltered([this.keyAccessor()(d), this.valueAccessor()(d)]);\n          });\n\n          transition(symbols, this.transitionDuration(), this.transitionDelay())\n              .attr('opacity', (d, i) => {\n                  if (!this._existenceAccessor(d)) {\n                      return this._emptyOpacity;\n                  } else if (this._filtered[i]) {\n                      return this._nonemptyOpacity;\n                  } else {\n                      return this.excludedOpacity();\n                  }\n              })\n              .attr('fill', (d, i) => {\n                  if (this._emptyColor && !this._existenceAccessor(d)) {\n                      return this._emptyColor;\n                  } else if (this.excludedColor() && !this._filtered[i]) {\n                      return this.excludedColor();\n                  } else {\n                      return this.getColor(d);\n                  }\n              })\n              .attr('transform', d => this._locator(d))\n              .attr('d', this._symbol);\n      }\n\n      plotData () {\n          if (this._useCanvas) {\n              this._plotOnCanvas();\n          } else {\n              this._plotOnSVG();\n          }\n      }\n\n      _renderTitles (_symbol, _d) {\n          if (this.renderTitle()) {\n              _symbol.selectAll('title').remove();\n              _symbol.append('title').text(d => this.title()(d));\n          }\n      }\n\n      /**\n       * Get or set the existence accessor.  If a point exists, it is drawn with\n       * {@link ScatterPlot#symbolSize symbolSize} radius and\n       * opacity 1; if it does not exist, it is drawn with\n       * {@link ScatterPlot#emptySize emptySize} radius and opacity 0. By default,\n       * the existence accessor checks if the reduced value is truthy.\n       * @see {@link ScatterPlot#symbolSize symbolSize}\n       * @see {@link ScatterPlot#emptySize emptySize}\n       * @example\n       * // default accessor\n       * chart.existenceAccessor(function (d) { return d.value; });\n       * @param {Function} [accessor]\n       * @returns {Function|ScatterPlot}\n       */\n      existenceAccessor (accessor) {\n          if (!arguments.length) {\n              return this._existenceAccessor;\n          }\n          this._existenceAccessor = accessor;\n          return this;\n      }\n\n      /**\n       * Get or set the symbol type used for each point. By default the symbol is a circle (d3.symbolCircle).\n       * Type can be a constant or an accessor.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_type symbol.type}\n       * @example\n       * // Circle type\n       * chart.symbol(d3.symbolCircle);\n       * // Square type\n       * chart.symbol(d3.symbolSquare);\n       * @param {Function} [type=d3.symbolCircle]\n       * @returns {Function|ScatterPlot}\n       */\n      symbol (type) {\n          if (!arguments.length) {\n              return this._symbol.type();\n          }\n          this._symbol.type(type);\n          return this;\n      }\n\n      /**\n       * Get or set the symbol generator. By default `ScatterPlot` will use\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol d3.symbol()}\n       * to generate symbols. `ScatterPlot` will set the\n       * {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size symbol size accessor}\n       * on the symbol generator.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol d3.symbol}\n       * @see {@link https://stackoverflow.com/questions/25332120/create-additional-d3-js-symbols Create additional D3.js symbols}\n       * @param {String|Function} [customSymbol=d3.symbol()]\n       * @returns {String|Function|ScatterPlot}\n       */\n      customSymbol (customSymbol) {\n          if (!arguments.length) {\n              return this._symbol;\n          }\n          this._symbol = customSymbol;\n          this._symbol.size((d, i) => this._elementSize(d, i));\n          return this;\n      }\n\n      /**\n       * Set or get radius for symbols.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n       * @param {Number} [symbolSize=3]\n       * @returns {Number|ScatterPlot}\n       */\n      symbolSize (symbolSize) {\n          if (!arguments.length) {\n              return this._symbolSize;\n          }\n          this._symbolSize = symbolSize;\n          return this;\n      }\n\n      /**\n       * Set or get radius for highlighted symbols.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n       * @param {Number} [highlightedSize=5]\n       * @returns {Number|ScatterPlot}\n       */\n      highlightedSize (highlightedSize) {\n          if (!arguments.length) {\n              return this._highlightedSize;\n          }\n          this._highlightedSize = highlightedSize;\n          return this;\n      }\n\n      /**\n       * Set or get size for symbols excluded from this chart's filter. If null, no\n       * special size is applied for symbols based on their filter status.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n       * @param {Number} [excludedSize=null]\n       * @returns {Number|ScatterPlot}\n       */\n      excludedSize (excludedSize) {\n          if (!arguments.length) {\n              return this._excludedSize;\n          }\n          this._excludedSize = excludedSize;\n          return this;\n      }\n\n      /**\n       * Set or get color for symbols excluded from this chart's filter. If null, no\n       * special color is applied for symbols based on their filter status.\n       * @param {Number} [excludedColor=null]\n       * @returns {Number|ScatterPlot}\n       */\n      excludedColor (excludedColor) {\n          if (!arguments.length) {\n              return this._excludedColor;\n          }\n          this._excludedColor = excludedColor;\n          return this;\n      }\n\n      /**\n       * Set or get opacity for symbols excluded from this chart's filter.\n       * @param {Number} [excludedOpacity=1.0]\n       * @returns {Number|ScatterPlot}\n       */\n      excludedOpacity (excludedOpacity) {\n          if (!arguments.length) {\n              return this._excludedOpacity;\n          }\n          this._excludedOpacity = excludedOpacity;\n          return this;\n      }\n\n      /**\n       * Set or get radius for symbols when the group is empty.\n       * @see {@link https://github.com/d3/d3-shape/blob/master/README.md#symbol_size d3.symbol.size}\n       * @param {Number} [emptySize=0]\n       * @returns {Number|ScatterPlot}\n       */\n      emptySize (emptySize) {\n          if (!arguments.length) {\n              return this._emptySize;\n          }\n          this._emptySize = emptySize;\n          return this;\n      }\n\n      hiddenSize (emptySize) {\n          if (!arguments.length) {\n              return this.emptySize();\n          }\n          return this.emptySize(emptySize);\n      }\n\n      /**\n       * Set or get color for symbols when the group is empty. If null, just use the\n       * {@link ColorMixin#colors colorMixin.colors} color scale zero value.\n       * @param {String} [emptyColor=null]\n       * @return {String}\n       * @return {ScatterPlot}/\n       */\n      emptyColor (emptyColor) {\n          if (!arguments.length) {\n              return this._emptyColor;\n          }\n          this._emptyColor = emptyColor;\n          return this;\n      }\n\n      /**\n       * Set or get opacity for symbols when the group is empty.\n       * @param {Number} [emptyOpacity=0]\n       * @return {Number}\n       * @return {ScatterPlot}\n       */\n      emptyOpacity (emptyOpacity) {\n          if (!arguments.length) {\n              return this._emptyOpacity;\n          }\n          this._emptyOpacity = emptyOpacity;\n          return this;\n      }\n\n      /**\n       * Set or get opacity for symbols when the group is not empty.\n       * @param {Number} [nonemptyOpacity=1]\n       * @return {Number}\n       * @return {ScatterPlot}\n       */\n      nonemptyOpacity (nonemptyOpacity) {\n          if (!arguments.length) {\n              return this._emptyOpacity;\n          }\n          this._nonemptyOpacity = nonemptyOpacity;\n          return this;\n      }\n\n      legendables () {\n          return [{chart: this, name: this._groupName, color: this.getColor()}];\n      }\n\n      legendHighlight (d) {\n          if (this._useCanvas) {\n              this._plotOnCanvas(d); // Supply legend datum to plotOnCanvas\n          } else {\n              this._resizeSymbolsWhere(s => s.attr('fill') === d.color, this._highlightedSize);\n              this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n                  return d3Selection.select(this).attr('fill') !== d.color;\n              }).classed('fadeout', true);\n          }\n      }\n\n      legendReset (d) {\n          if (this._useCanvas) {\n              this._plotOnCanvas(d); // Supply legend datum to plotOnCanvas\n          } else {\n              this._resizeSymbolsWhere(s => s.attr('fill') === d.color, this._symbolSize);\n              this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n                  return d3Selection.select(this).attr('fill') !== d.color;\n              }).classed('fadeout', false);\n          }\n      }\n\n      _resizeSymbolsWhere (condition, size) {\n          const symbols = this.chartBodyG().selectAll('.chart-body path.symbol').filter(function () {\n              return condition(d3Selection.select(this));\n          });\n          const oldSize = this._symbol.size();\n          this._symbol.size(Math.pow(size, 2));\n          transition(symbols, this.transitionDuration(), this.transitionDelay()).attr('d', this._symbol);\n          this._symbol.size(oldSize);\n      }\n      createBrushHandlePaths () {\n          // no handle paths for poly-brushes\n      }\n\n      extendBrush (brushSelection) {\n          if (this.round()) {\n              brushSelection[0] = brushSelection[0].map(this.round());\n              brushSelection[1] = brushSelection[1].map(this.round());\n          }\n          return brushSelection;\n      }\n\n      brushIsEmpty (brushSelection) {\n          return !brushSelection || brushSelection[0][0] >= brushSelection[1][0] || brushSelection[0][1] >= brushSelection[1][1];\n      }\n\n      _brushing (evt) {\n          if (this._ignoreBrushEvents) {\n              return;\n          }\n\n          let brushSelection = evt.selection;\n\n          // Testing with pixels is more reliable\n          let brushIsEmpty = this.brushIsEmpty(brushSelection);\n\n          if (brushSelection) {\n              brushSelection = brushSelection.map(point => point.map((coord, i) => {\n                  const scale = i === 0 ? this.x() : this.y();\n                  return scale.invert(coord);\n              }));\n\n              brushSelection = this.extendBrush(brushSelection);\n\n              // The rounding process might have made brushSelection empty, so we need to recheck\n              brushIsEmpty = brushIsEmpty && this.brushIsEmpty(brushSelection);\n          }\n\n          this.redrawBrush(brushSelection, false);\n\n          const ranged2DFilter = brushIsEmpty ? null : filters.RangedTwoDimensionalFilter(brushSelection);\n\n          events.trigger(() => {\n              this.replaceFilter(ranged2DFilter);\n              this.redrawGroup();\n          }, constants.EVENT_DELAY);\n      }\n\n      redrawBrush (brushSelection, doTransition) {\n          // override default x axis brush from parent chart\n          this._gBrush = this.gBrush();\n\n          if (this.brushOn() && this._gBrush) {\n              if (this.resizing()) {\n                  this.setBrushExtents(doTransition);\n              }\n\n              if (!brushSelection) {\n                  this._withoutBrushEvents(() => {\n                      this._gBrush\n                          .call(this.brush().move, brushSelection);\n                  });\n              } else {\n                  brushSelection = brushSelection.map(point => point.map((coord, i) => {\n                      const scale = i === 0 ? this.x() : this.y();\n                      return scale(coord);\n                  }));\n\n                  const gBrush =\n                      optionalTransition(doTransition, this.transitionDuration(), this.transitionDelay())(this._gBrush);\n\n                  this._withoutBrushEvents(() => {\n                      gBrush\n                          .call(this.brush().move, brushSelection);\n                  });\n              }\n          }\n\n          this.fadeDeselectedArea(brushSelection);\n      }\n  }\n\n  const scatterPlot = (parent, chartGroup) => new ScatterPlot(parent, chartGroup);\n\n  const SELECT_CSS_CLASS = 'dc-select-menu';\n  const OPTION_CSS_CLASS = 'dc-select-option';\n\n  /**\n   * The select menu is a simple widget designed to filter a dimension by selecting an option from\n   * an HTML `<select/>` menu. The menu can be optionally turned into a multiselect.\n   * @mixes BaseMixin\n   */\n  class SelectMenu extends BaseMixin {\n      /**\n       * Create a Select Menu.\n       * @example\n       * // create a select menu under #select-container using the default global chart group\n       * var select = new SelectMenu('#select-container')\n       *                .dimension(states)\n       *                .group(stateGroup);\n       * // the option text can be set via the title() function\n       * // by default the option text is '`key`: `value`'\n       * select.title(function (d){\n       *     return 'STATE: ' + d.key;\n       * })\n       * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n       * [d3 single selector](https://github.com/mbostock/d3/wiki/Selections#selecting-elements) specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this widget should be placed in.\n       * Interaction with the widget will only trigger events and redraws within its group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._select = undefined;\n          this._promptText = 'Select all';\n          this._multiple = false;\n          this._promptValue = null;\n          this._numberVisible = null;\n\n          this.data(group => group.all().filter(this._filterDisplayed));\n\n          this._filterDisplayed = d => this.valueAccessor()(d) > 0;\n\n          this._order = (a, b) => {\n              if (this.keyAccessor()(a) > this.keyAccessor()(b)) {\n                  return 1;\n              }\n              if (this.keyAccessor()(a) < this.keyAccessor()(b)) {\n                  return -1;\n              }\n              return 0;\n          };\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          this.select('select').remove();\n          this._select = this.root().append('select')\n              .classed(SELECT_CSS_CLASS, true);\n          this._select.append('option').text(this._promptText).attr('value', '');\n\n          this._doRedraw();\n          return this;\n      }\n\n      _doRedraw () {\n          this._setAttributes();\n          this._renderOptions();\n          // select the option(s) corresponding to current filter(s)\n          if (this.hasFilter() && this._multiple) {\n              this._select.selectAll('option')\n                  .property('selected', d => typeof d !== 'undefined' && this.filters().indexOf(String(this.keyAccessor()(d))) >= 0);\n          } else if (this.hasFilter()) {\n              this._select.property('value', this.filter());\n          } else {\n              this._select.property('value', '');\n          }\n          return this;\n      }\n\n      _renderOptions () {\n          const options = this._select.selectAll(`option.${OPTION_CSS_CLASS}`)\n              .data(this.data(), d => this.keyAccessor()(d));\n\n          options.exit().remove();\n\n          options.enter()\n              .append('option')\n              .classed(OPTION_CSS_CLASS, true)\n              .attr('value', d => this.keyAccessor()(d))\n              .merge(options)\n              .text(this.title());\n\n          this._select.selectAll(`option.${OPTION_CSS_CLASS}`).sort(this._order);\n\n          this._select.on('change', d3compat.eventHandler((d, evt) => this._onChange(d, evt)));\n      }\n\n      _onChange (_d, evt) {\n          let values;\n\n          const target = evt.target;\n\n          if (target.selectedOptions) {\n              const selectedOptions = Array.prototype.slice.call(target.selectedOptions);\n              values = selectedOptions.map(d => d.value);\n          } else { // IE and other browsers do not support selectedOptions\n              // adapted from this polyfill: https://gist.github.com/brettz9/4212217\n              const options = [].slice.call(evt.target.options);\n              values = options.filter(option => option.selected).map(option => option.value);\n          }\n          // console.log(values);\n          // check if only prompt option is selected\n          if (values.length === 1 && values[0] === '') {\n              values = this._promptValue || null;\n          } else if (!this._multiple && values.length === 1) {\n              values = values[0];\n          }\n          this.onChange(values);\n      }\n\n      onChange (val) {\n          if (val && this._multiple) {\n              this.replaceFilter([val]);\n          } else if (val) {\n              this.replaceFilter(val);\n          } else {\n              this.filterAll();\n          }\n          events.trigger(() => {\n              this.redrawGroup();\n          });\n      }\n\n      _setAttributes () {\n          if (this._multiple) {\n              this._select.attr('multiple', true);\n          } else {\n              this._select.attr('multiple', null);\n          }\n          if (this._numberVisible !== null) {\n              this._select.attr('size', this._numberVisible);\n          } else {\n              this._select.attr('size', null);\n          }\n      }\n\n      /**\n       * Get or set the function that controls the ordering of option tags in the\n       * select menu. By default options are ordered by the group key in ascending\n       * order.\n       * @param {Function} [order]\n       * @returns {Function|SelectMenu}\n       * @example\n       * // order by the group's value\n       * chart.order(function (a,b) {\n       *     return a.value > b.value ? 1 : b.value > a.value ? -1 : 0;\n       * });\n       */\n      order (order) {\n          if (!arguments.length) {\n              return this._order;\n          }\n          this._order = order;\n          return this;\n      }\n\n      /**\n       * Get or set the text displayed in the options used to prompt selection.\n       * @param {String} [promptText='Select all']\n       * @returns {String|SelectMenu}\n       * @example\n       * chart.promptText('All states');\n       */\n      promptText (promptText) {\n          if (!arguments.length) {\n              return this._promptText;\n          }\n          this._promptText = promptText;\n          return this;\n      }\n\n      /**\n       * Get or set the function that filters option tags prior to display. By default options\n       * with a value of < 1 are not displayed.\n       * @param {function} [filterDisplayed]\n       * @returns {Function|SelectMenu}\n       * @example\n       * // display all options override the `filterDisplayed` function:\n       * chart.filterDisplayed(function () {\n       *     return true;\n       * });\n       */\n      filterDisplayed (filterDisplayed) {\n          if (!arguments.length) {\n              return this._filterDisplayed;\n          }\n          this._filterDisplayed = filterDisplayed;\n          return this;\n      }\n\n      /**\n       * Controls the type of select menu. Setting it to true converts the underlying\n       * HTML tag into a multiple select.\n       * @param {boolean} [multiple=false]\n       * @returns {boolean|SelectMenu}\n       * @example\n       * chart.multiple(true);\n       */\n      multiple (multiple) {\n          if (!arguments.length) {\n              return this._multiple;\n          }\n          this._multiple = multiple;\n\n          return this;\n      }\n\n      /**\n       * Controls the default value to be used for\n       * [dimension.filter](https://github.com/crossfilter/crossfilter/wiki/API-Reference#dimension_filter)\n       * when only the prompt value is selected. If `null` (the default), no filtering will occur when\n       * just the prompt is selected.\n       * @param {?*} [promptValue=null]\n       * @returns {*|SelectMenu}\n       */\n      promptValue (promptValue) {\n          if (!arguments.length) {\n              return this._promptValue;\n          }\n          this._promptValue = promptValue;\n\n          return this;\n      }\n\n      /**\n       * Controls the number of items to show in the select menu, when `.multiple()` is true. This\n       * controls the [`size` attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#Attributes) of\n       * the `select` element. If `null` (the default), uses the browser's default height.\n       * @param {?number} [numberVisible=null]\n       * @returns {number|SelectMenu}\n       * @example\n       * chart.numberVisible(10);\n       */\n      numberVisible (numberVisible) {\n          if (!arguments.length) {\n              return this._numberVisible;\n          }\n          this._numberVisible = numberVisible;\n\n          return this;\n      }\n\n      size (numberVisible) {\n          logger.warnOnce('selectMenu.size is ambiguous - use selectMenu.numberVisible instead');\n          if (!arguments.length) {\n              return this.numberVisible();\n          }\n          return this.numberVisible(numberVisible);\n      }\n  }\n\n  const selectMenu = (parent, chartGroup) => new SelectMenu(parent, chartGroup);\n\n  /**\n   * A series chart is a chart that shows multiple series of data overlaid on one chart, where the\n   * series is specified in the data. It is a specialization of Composite Chart and inherits all\n   * composite features other than recomposing the chart.\n   *\n   * Examples:\n   * - {@link http://dc-js.github.io/dc.js/examples/series.html Series Chart}\n   * @mixes CompositeChart\n   */\n  class SeriesChart extends CompositeChart {\n      /**\n       * Create a Series Chart.\n       * @example\n       * // create a series chart under #chart-container1 element using the default global chart group\n       * var seriesChart1 = new SeriesChart(\"#chart-container1\");\n       * // create a series chart under #chart-container2 element using chart group A\n       * var seriesChart2 = new SeriesChart(\"#chart-container2\", \"chartGroupA\");\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super(parent, chartGroup);\n\n          this._keySort = (a, b) => d3Array.ascending(this.keyAccessor()(a), this.keyAccessor()(b));\n\n          this._charts = {};\n          this._chartFunction = lineChart;\n          this._chartGroup = chartGroup;\n          this._seriesAccessor = undefined;\n          this._seriesSort = d3Array.ascending;\n          this._valueSort = this._keySort;\n\n          this._mandatoryAttributes().push('seriesAccessor', 'chart');\n          this.shareColors(true);\n      }\n\n      _compose (subChartArray) {\n          super.compose(subChartArray);\n      }\n\n      compose (subChartArray) {\n          throw new Error('Not supported for this chart type');\n      }\n\n      _preprocessData () {\n          const keep = [];\n          let childrenChanged;\n\n          const nesting = d3compat.nester({\n              key: this._seriesAccessor,\n              sortKeys: this._seriesSort,\n              sortValues: this._valueSort,\n              entries: this.data()\n          });\n\n          const children =\n              nesting.map((sub, i) => {\n                  const subChart = this._charts[sub.key] || this._chartFunction(this, this._chartGroup , sub.key, i);\n                  if (!this._charts[sub.key]) {\n                      childrenChanged = true;\n                  }\n                  this._charts[sub.key] = subChart;\n                  keep.push(sub.key);\n                  return subChart\n                      .dimension(this.dimension())\n                      .group({\n                          all: typeof sub.values === 'function' ? sub.values : utils.constant(sub.values)\n                      }, sub.key)\n                      .keyAccessor(this.keyAccessor())\n                      .valueAccessor(this.valueAccessor())\n                      .brushOn(false);\n              });\n          // this works around the fact compositeChart doesn't really\n          // have a removal interface\n          Object.keys(this._charts)\n              .filter(c => keep.indexOf(c) === -1)\n              .forEach(c => {\n                  this._clearChart(c);\n                  childrenChanged = true;\n              });\n          this._compose(children);\n          if (childrenChanged && this.legend()) {\n              this.legend().render();\n          }\n      }\n\n      _clearChart (c) {\n          if (this._charts[c].g()) {\n              this._charts[c].g().remove();\n          }\n          delete this._charts[c];\n      }\n\n      _resetChildren () {\n          Object.keys(this._charts).map(this._clearChart.bind(this));\n          this._charts = {};\n      }\n\n      /**\n       * Get or set the chart function, which generates the child charts.\n       * @example\n       * // put curve on the line charts used for the series\n       * chart.chart(function(c) { return new LineChart(c).curve(d3.curveBasis); })\n       * // do a scatter series chart\n       * chart.chart(anchor => new ScatterPlot(anchor))\n       * @param {Function} [chartFunction= (anchor) =>  new LineChart(anchor)]\n       * @returns {Function|SeriesChart}\n       */\n      chart (chartFunction) {\n          if (!arguments.length) {\n              return this._chartFunction;\n          }\n          this._chartFunction = chartFunction;\n          this._resetChildren();\n          return this;\n      }\n\n      /**\n       * **mandatory**\n       *\n       * Get or set accessor function for the displayed series. Given a datum, this function\n       * should return the series that datum belongs to.\n       * @example\n       * // simple series accessor\n       * chart.seriesAccessor(function(d) { return \"Expt: \" + d.key[0]; })\n       * @param {Function} [accessor]\n       * @returns {Function|SeriesChart}\n       */\n      seriesAccessor (accessor) {\n          if (!arguments.length) {\n              return this._seriesAccessor;\n          }\n          this._seriesAccessor = accessor;\n          this._resetChildren();\n          return this;\n      }\n\n      /**\n       * Get or set a function to sort the list of series by, given series values.\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n       * @example\n       * chart.seriesSort(d3.descending);\n       * @param {Function} [sortFunction=d3.ascending]\n       * @returns {Function|SeriesChart}\n       */\n      seriesSort (sortFunction) {\n          if (!arguments.length) {\n              return this._seriesSort;\n          }\n          this._seriesSort = sortFunction;\n          this._resetChildren();\n          return this;\n      }\n\n      /**\n       * Get or set a function to sort each series values by. By default this is the key accessor which,\n       * for example, will ensure a lineChart series connects its points in increasing key/x order,\n       * rather than haphazardly.\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#ascending d3.ascending}\n       * @see {@link https://github.com/d3/d3-array/blob/master/README.md#descending d3.descending}\n       * @example\n       * // Default value sort\n       * _chart.valueSort(function keySort (a, b) {\n       *     return d3.ascending(_chart.keyAccessor()(a), _chart.keyAccessor()(b));\n       * });\n       * @param {Function} [sortFunction]\n       * @returns {Function|SeriesChart}\n       */\n      valueSort (sortFunction) {\n          if (!arguments.length) {\n              return this._valueSort;\n          }\n          this._valueSort = sortFunction;\n          this._resetChildren();\n          return this;\n      }\n\n  }\n\n  const seriesChart = (parent, chartGroup) => new SeriesChart(parent, chartGroup);\n\n  const DEFAULT_MIN_ANGLE_FOR_LABEL$1 = 0.5;\n\n  /**\n   * The sunburst chart implementation is usually used to visualize a small tree distribution.  The sunburst\n   * chart uses keyAccessor to determine the slices, and valueAccessor to calculate the size of each\n   * slice relative to the sum of all values. Slices are ordered by {@link BaseMixin#ordering ordering} which defaults to sorting\n   * by key.\n   *\n   * The keys used in the sunburst chart should be arrays, representing paths in the tree.\n   *\n   * When filtering, the sunburst chart creates instances of {@link Filters.HierarchyFilter HierarchyFilter}.\n   *\n   * @mixes CapMixin\n   * @mixes ColorMixin\n   * @mixes BaseMixin\n   */\n  class SunburstChart extends ColorMixin(BaseMixin) {\n      /**\n       * Create a Sunburst Chart\n       * @example\n       * // create a sunburst chart under #chart-container1 element using the default global chart group\n       * var chart1 = new SunburstChart('#chart-container1');\n       * // create a sunburst chart under #chart-container2 element using chart group A\n       * var chart2 = new SunburstChart('#chart-container2', 'chartGroupA');\n       *\n       * @param {String|node|d3.selection} parent - Any valid\n       * {@link https://github.com/d3/d3-3.x-api-reference/blob/master/Selections.md#selecting-elements d3 single selector} specifying\n       * a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._sliceCssClass = 'pie-slice';\n          this._emptyCssClass = 'empty-chart';\n          this._emptyTitle = 'empty';\n\n          this._radius = undefined;\n          this._givenRadius = undefined; // given radius, if any\n          this._innerRadius = 0;\n          this._ringSizes = null;\n\n          this._g = undefined;\n          this._cx = undefined;\n          this._cy = undefined;\n          this._minAngleForLabel = DEFAULT_MIN_ANGLE_FOR_LABEL$1;\n          this._externalLabelRadius = undefined;\n\n          this.colorAccessor(d => this.keyAccessor()(d));\n\n          // override cap mixin\n          this.ordering(pluck('key'));\n\n          this.title(d => `${this.keyAccessor()(d)}: ${this._extendedValueAccessor(d)}`);\n\n          this.label(d => this.keyAccessor()(d));\n          this.renderLabel(true);\n\n          this.transitionDuration(350);\n\n          this.anchor(parent, chartGroup);\n      }\n\n      // Handle cases if value corresponds to generated parent nodes\n      _extendedValueAccessor (d) {\n          if (d.path) {\n              return d.value;\n          }\n          return this.valueAccessor()(d);\n      }\n\n      _scaleRadius (ringIndex, y) {\n          if (ringIndex === 0) {\n              return this._innerRadius;\n          } else {\n              const customRelativeRadius = d3Array.sum(this.ringSizes().relativeRingSizes.slice(0, ringIndex));\n              const scaleFactor = (ringIndex * (1 / this.ringSizes().relativeRingSizes.length)) /\n                    customRelativeRadius;\n              const standardRadius = (y - this.ringSizes().rootOffset) /\n                    (1 - this.ringSizes().rootOffset) * (this._radius - this._innerRadius);\n              return this._innerRadius + standardRadius / scaleFactor;\n          }\n      }\n\n      _doRender () {\n          this.resetSvg();\n\n          this._g = this.svg()\n              .append('g')\n              .attr('transform', `translate(${this.cx()},${this.cy()})`);\n\n          this._drawChart();\n\n          return this;\n      }\n\n      _drawChart () {\n          // set radius from chart size if none given, or if given radius is too large\n          const maxRadius = d3Array.min([this.width(), this.height()]) / 2;\n          this._radius = this._givenRadius && this._givenRadius < maxRadius ? this._givenRadius : maxRadius;\n\n          const arcs = this._buildArcs();\n\n          let partitionedNodes, cdata;\n          // if we have data...\n          if (d3Array.sum(this.data(), this.valueAccessor())) {\n              cdata = utils.toHierarchy(this.data(), this.valueAccessor());\n              partitionedNodes = this._partitionNodes(cdata);\n              // First one is the root, which is not needed\n              partitionedNodes.nodes.shift();\n              this._g.classed(this._emptyCssClass, false);\n          } else {\n              // otherwise we'd be getting NaNs, so override\n              // note: abuse others for its ignoring the value accessor\n              cdata = utils.toHierarchy([], d => d.value);\n              partitionedNodes = this._partitionNodes(cdata);\n              this._g.classed(this._emptyCssClass, true);\n          }\n          this.ringSizes().rootOffset = partitionedNodes.rootOffset;\n          this.ringSizes().relativeRingSizes = partitionedNodes.relativeRingSizes;\n\n          if (this._g) {\n              const slices = this._g.selectAll(`g.${this._sliceCssClass}`)\n                  .data(partitionedNodes.nodes);\n              this._createElements(slices, arcs, partitionedNodes.nodes);\n\n              this._updateElements(partitionedNodes.nodes, arcs);\n\n              this._removeElements(slices);\n\n              this._highlightFilter();\n\n              transition(this._g, this.transitionDuration(), this.transitionDelay())\n                  .attr('transform', `translate(${this.cx()},${this.cy()})`);\n          }\n      }\n\n      _createElements (slices, arcs, sunburstData) {\n          const slicesEnter = this._createSliceNodes(slices);\n\n          this._createSlicePath(slicesEnter, arcs);\n          this._createTitles(slicesEnter);\n          this._createLabels(sunburstData, arcs);\n      }\n\n      _createSliceNodes (slices) {\n          return slices\n              .enter()\n              .append('g')\n              .attr('class', (d, i) => `${this._sliceCssClass\n            } _${i} ${\n                this._sliceCssClass}-level-${d.depth}`);\n      }\n\n      _createSlicePath (slicesEnter, arcs) {\n          const slicePath = slicesEnter.append('path')\n              .attr('fill', (d, i) => this._fill(d, i))\n              .on('click', d3compat.eventHandler(d => this.onClick(d)))\n              .classed('dc-tabbable', this._keyboardAccessible)\n              .attr('d', d => this._safeArc(arcs, d));\n\n          if (this._keyboardAccessible) {\n              this._makeKeyboardAccessible(this.onClick);\n          }\n\n          const tranNodes = transition(slicePath, this.transitionDuration());\n          if (tranNodes.attrTween) {\n              const chart = this;\n              tranNodes.attrTween('d', function (d) {\n                  return chart._tweenSlice(d, this);\n              });\n          }\n      }\n\n      _createTitles (slicesEnter) {\n          if (this.renderTitle()) {\n              slicesEnter.append('title').text(d => this.title()(d));\n          }\n      }\n\n      _positionLabels (labelsEnter, arcs) {\n          transition(labelsEnter, this.transitionDuration())\n              .attr('transform', d => this._labelPosition(d, arcs))\n              .attr('text-anchor', 'middle')\n              .text(d => {\n                  // position label...\n                  if (this._sliceHasNoData(d) || this._sliceTooSmall(d)) {\n                      return '';\n                  }\n                  return this.label()(d);\n              });\n      }\n\n      _createLabels (sunburstData, arcs) {\n          if (this.renderLabel()) {\n              const labels = this._g.selectAll(`text.${this._sliceCssClass}`)\n                  .data(sunburstData);\n\n              labels.exit().remove();\n\n              const labelsEnter = labels\n                  .enter()\n                  .append('text')\n                  .attr('class', (d, i) => {\n                      let classes = `${this._sliceCssClass} _${i}`;\n                      if (this._externalLabelRadius) {\n                          classes += ' external';\n                      }\n                      return classes;\n                  })\n                  .on('click', d3compat.eventHandler(d => this.onClick(d)));\n              this._positionLabels(labelsEnter, arcs);\n          }\n      }\n\n      _updateElements (sunburstData, arcs) {\n          this._updateSlicePaths(sunburstData, arcs);\n          this._updateLabels(sunburstData, arcs);\n          this._updateTitles(sunburstData);\n      }\n\n      _updateSlicePaths (sunburstData, arcs) {\n          const slicePaths = this._g.selectAll(`g.${this._sliceCssClass}`)\n              .data(sunburstData)\n              .select('path')\n              .attr('d', (d, i) => this._safeArc(arcs, d));\n          const tranNodes = transition(slicePaths, this.transitionDuration());\n          if (tranNodes.attrTween) {\n              const chart = this;\n              tranNodes.attrTween('d', function (d) {\n                  return chart._tweenSlice(d, this);\n              });\n          }\n          tranNodes.attr('fill', (d, i) => this._fill(d, i));\n      }\n\n      _updateLabels (sunburstData, arcs) {\n          if (this.renderLabel()) {\n              const labels = this._g.selectAll(`text.${this._sliceCssClass}`)\n                  .data(sunburstData);\n              this._positionLabels(labels, arcs);\n          }\n      }\n\n      _updateTitles (sunburstData) {\n          if (this.renderTitle()) {\n              this._g.selectAll(`g.${this._sliceCssClass}`)\n                  .data(sunburstData)\n                  .select('title')\n                  .text(d => this.title()(d));\n          }\n      }\n\n      _removeElements (slices) {\n          slices.exit().remove();\n      }\n\n      _highlightFilter () {\n          const chart = this;\n          if (chart.hasFilter()) {\n              chart.selectAll(`g.${chart._sliceCssClass}`).each(function (d) {\n                  if (chart._isSelectedSlice(d)) {\n                      chart.highlightSelected(this);\n                  } else {\n                      chart.fadeDeselected(this);\n                  }\n              });\n          } else {\n              chart.selectAll(`g.${chart._sliceCssClass}`).each(function (d) {\n                  chart.resetHighlight(this);\n              });\n          }\n      }\n\n      /**\n       * Get or set the inner radius of the sunburst chart. If the inner radius is greater than 0px then the\n       * sunburst chart will be rendered as a doughnut chart. Default inner radius is 0px.\n       * @param {Number} [innerRadius=0]\n       * @returns {Number|SunburstChart}\n       */\n      innerRadius (innerRadius) {\n          if (!arguments.length) {\n              return this._innerRadius;\n          }\n          this._innerRadius = innerRadius;\n          return this;\n      }\n\n      /**\n       * Get or set the outer radius. If the radius is not set, it will be half of the minimum of the\n       * chart width and height.\n       * @param {Number} [radius]\n       * @returns {Number|SunburstChart}\n       */\n      radius (radius) {\n          if (!arguments.length) {\n              return this._givenRadius;\n          }\n          this._givenRadius = radius;\n          return this;\n      }\n\n      /**\n       * Get or set center x coordinate position. Default is center of svg.\n       * @param {Number} [cx]\n       * @returns {Number|SunburstChart}\n       */\n      cx (cx) {\n          if (!arguments.length) {\n              return (this._cx || this.width() / 2);\n          }\n          this._cx = cx;\n          return this;\n      }\n\n      /**\n       * Get or set center y coordinate position. Default is center of svg.\n       * @param {Number} [cy]\n       * @returns {Number|SunburstChart}\n       */\n      cy (cy) {\n          if (!arguments.length) {\n              return (this._cy || this.height() / 2);\n          }\n          this._cy = cy;\n          return this;\n      }\n\n      /**\n       * Get or set the minimal slice angle for label rendering. Any slice with a smaller angle will not\n       * display a slice label.\n       * @param {Number} [minAngleForLabel=0.5]\n       * @returns {Number|SunburstChart}\n       */\n      minAngleForLabel (minAngleForLabel) {\n          if (!arguments.length) {\n              return this._minAngleForLabel;\n          }\n          this._minAngleForLabel = minAngleForLabel;\n          return this;\n      }\n\n      /**\n       * Title to use for the only slice when there is no data.\n       * @param {String} [title]\n       * @returns {String|SunburstChart}\n       */\n      emptyTitle (title) {\n          if (arguments.length === 0) {\n              return this._emptyTitle;\n          }\n          this._emptyTitle = title;\n          return this;\n      }\n\n      /**\n       * Position slice labels offset from the outer edge of the chart.\n       *\n       * The argument specifies the extra radius to be added for slice labels.\n       * @param {Number} [externalLabelRadius]\n       * @returns {Number|SunburstChart}\n       */\n      externalLabels (externalLabelRadius) {\n          if (arguments.length === 0) {\n              return this._externalLabelRadius;\n          } else if (externalLabelRadius) {\n              this._externalLabelRadius = externalLabelRadius;\n          } else {\n              this._externalLabelRadius = undefined;\n          }\n\n          return this;\n      }\n\n      /**\n       * Constructs the default RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()},\n       * which makes the rings narrower as they get farther away from the center.\n       *\n       * Can be used as a parameter to ringSizes() to reset the default behavior, or modified for custom ring sizes.\n       *\n       * @example\n       *   var chart = new dc.SunburstChart(...);\n       *   chart.ringSizes(chart.defaultRingSizes())\n       * @returns {RingSizes}\n       */\n      defaultRingSizes () {\n          return {\n              partitionDy: () => this._radius * this._radius,\n              scaleInnerRadius: d => d.data.path && d.data.path.length === 1 ?\n                  this._innerRadius :\n                  Math.sqrt(d.y0),\n              scaleOuterRadius: d => Math.sqrt(d.y1),\n              relativeRingSizesFunction: () => []\n          };\n      }\n\n      /**\n       * Constructs a RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()}\n       * that will make the chart rings equally wide.\n       *\n       * @example\n       *   var chart = new dc.SunburstChart(...);\n       *   chart.ringSizes(chart.equalRingSizes())\n       * @returns {RingSizes}\n       */\n      equalRingSizes () {\n          return this.relativeRingSizes(\n              ringCount => {\n                  const result = [];\n                  for (let i = 0; i < ringCount; i++) {\n                      result.push(1 / ringCount);\n                  }\n                  return result;\n              }\n          );\n      }\n\n      /**\n       * Constructs a RingSizes parameter for {@link SunburstChart#ringSizes ringSizes()} using the given function\n       * to determine each rings width.\n       *\n       * * The function must return an array containing portion values for each ring/level of the chart.\n       * * The length of the array must match the number of rings of the chart at runtime, which is provided as the only\n       *   argument.\n       * * The sum of all portions from the array must be 1 (100%).\n       *\n       * @example\n       * // specific relative portions (the number of rings (3) is known in this case)\n       * chart.ringSizes(chart.relativeRingSizes(function (ringCount) {\n       *     return [.1, .3, .6];\n       * });\n       * @param {Function} [relativeRingSizesFunction]\n       * @returns {RingSizes}\n       */\n      relativeRingSizes (relativeRingSizesFunction) {\n          function assertPortionsArray (relativeSizes, numberOfRings) {\n              if (!Array.isArray(relativeSizes)) {\n                  throw new BadArgumentException('relativeRingSizes function must return an array');\n              }\n\n              const portionsSum = d3Array.sum(relativeSizes);\n              if (Math.abs(portionsSum - 1) > constants.NEGLIGIBLE_NUMBER) {\n                  throw new BadArgumentException(\n                      `relativeRingSizes : portions must add up to 1, but sum was ${portionsSum}`);\n              }\n\n              if (relativeSizes.length !== numberOfRings) {\n                  throw new BadArgumentException(\n                      `relativeRingSizes : number of values must match number of rings (${\n                        numberOfRings}) but was ${relativeSizes.length}`);\n              }\n          }\n          return {\n              partitionDy: () => 1,\n              scaleInnerRadius: d => this._scaleRadius(d.data.path.length - 1, d.y0),\n              scaleOuterRadius: d => this._scaleRadius(d.data.path.length, d.y1),\n              relativeRingSizesFunction: ringCount => {\n                  const result = relativeRingSizesFunction(ringCount);\n                  assertPortionsArray(result, ringCount);\n                  return result;\n              }\n          };\n      }\n\n      /**\n       * Get or set the strategy to use for sizing the charts rings.\n       *\n       * There are three strategies available\n       * * {@link SunburstChart#defaultRingSizes `defaultRingSizes`}: the rings get narrower farther away from the center\n       * * {@link SunburstChart#relativeRingSizes `relativeRingSizes`}: set the ring sizes as portions of 1\n       * * {@link SunburstChart#equalRingSizes `equalRingSizes`}: the rings are equally wide\n       *\n       * You can modify the returned strategy, or create your own, for custom ring sizing.\n       *\n       * RingSizes is a duck-typed interface that must support the following methods:\n       * * `partitionDy()`: used for\n       *   {@link https://github.com/d3/d3-hierarchy/blob/v1.1.9/README.md#partition_size `d3.partition.size`}\n       * * `scaleInnerRadius(d)`: takes datum and returns radius for\n       *    {@link https://github.com/d3/d3-shape/blob/v1.3.7/README.md#arc_innerRadius `d3.arc.innerRadius`}\n       * * `scaleOuterRadius(d)`: takes datum and returns radius for\n       *    {@link https://github.com/d3/d3-shape/blob/v1.3.7/README.md#arc_outerRadius `d3.arc.outerRadius`}\n       * * `relativeRingSizesFunction(ringCount)`: takes ring count and returns an array of portions that\n       *   must add up to 1\n       *\n       * @example\n       * // make rings equally wide\n       * chart.ringSizes(chart.equalRingSizes())\n       * // reset to default behavior\n       * chart.ringSizes(chart.defaultRingSizes()))\n       * @param {RingSizes} ringSizes\n       * @returns {Object|SunburstChart}\n       */\n      ringSizes (ringSizes) {\n          if (!arguments.length) {\n              if (!this._ringSizes) {\n                  this._ringSizes = this.defaultRingSizes();\n              }\n              return this._ringSizes;\n          }\n          this._ringSizes = ringSizes;\n          return this;\n      }\n\n      _buildArcs () {\n          return d3Shape.arc()\n              .startAngle(d => d.x0)\n              .endAngle(d => d.x1)\n              .innerRadius(d => this.ringSizes().scaleInnerRadius(d))\n              .outerRadius(d => this.ringSizes().scaleOuterRadius(d));\n      }\n\n      _isSelectedSlice (d) {\n          return this._isPathFiltered(d.path);\n      }\n\n      _isPathFiltered (path) {\n          for (let i = 0; i < this.filters().length; i++) {\n              const currentFilter = this.filters()[i];\n              if (currentFilter.isFiltered(path)) {\n                  return true;\n              }\n          }\n          return false;\n      }\n\n      // returns all filters that are a parent or child of the path\n      _filtersForPath (path) {\n          const pathFilter = filters.HierarchyFilter(path);\n          const filtersList = [];\n          for (let i = 0; i < this.filters().length; i++) {\n              const currentFilter = this.filters()[i];\n              if (currentFilter.isFiltered(path) || pathFilter.isFiltered(currentFilter)) {\n                  filtersList.push(currentFilter);\n              }\n          }\n          return filtersList;\n      }\n\n      _doRedraw () {\n          this._drawChart();\n          return this;\n      }\n\n      _partitionNodes (data) {\n          const getSortable = function (d) {\n              return {'key': d.data.key, 'value': d.value};\n          };\n          const _hierarchy = d3Hierarchy.hierarchy(data)\n              .sum(d => d.children ? 0 : this._extendedValueAccessor(d))\n              .sort((a, b) => d3Array.ascending(this.ordering()(getSortable(a)), this.ordering()(getSortable(b))));\n\n          const _partition = d3Hierarchy.partition()\n                .size([2 * Math.PI, this.ringSizes().partitionDy()]);\n\n          _partition(_hierarchy);\n\n          // In D3v4 the returned data is slightly different, change it enough to suit our purposes.\n          const nodes = _hierarchy.descendants().map(d => {\n              d.key = d.data.key;\n              d.path = d.data.path;\n              return d;\n          });\n\n          const relativeSizes = this.ringSizes().relativeRingSizesFunction(_hierarchy.height);\n\n          return {\n              nodes,\n              rootOffset: _hierarchy.y1,\n              relativeRingSizes: relativeSizes\n          };\n      }\n\n      _sliceTooSmall (d) {\n          const angle = d.x1 - d.x0;\n          return isNaN(angle) || angle < this._minAngleForLabel;\n      }\n\n      _sliceHasNoData (d) {\n          return this._extendedValueAccessor(d) === 0;\n      }\n\n      _isOffCanvas (d) {\n          return !d || isNaN(d.x0) || isNaN(d.y0);\n      }\n\n      _fill (d, i) {\n          return this.getColor(d.data, i);\n      }\n\n      onClick (d) {\n          if (this._g.attr('class') === this._emptyCssClass) {\n              return;\n          }\n\n          // Must be better way to handle this, in legends we need to access `d.key`\n          const path = d.path || d.key;\n          const filter = filters.HierarchyFilter(path);\n\n          // filters are equal to parents or children of the path.\n          const filtersList = this._filtersForPath(path);\n          let exactMatch = false;\n          // clear out any filters that cover the path filtered.\n          for (let j = filtersList.length - 1; j >= 0; j--) {\n              const currentFilter = filtersList[j];\n              if (utils.arraysIdentical(currentFilter, path)) {\n                  exactMatch = true;\n              }\n              this.filter(filtersList[j]);\n          }\n          events.trigger(() => {\n              // if it is a new filter - put it in.\n              if (!exactMatch) {\n                  this.filter(filter);\n              }\n              this.redrawGroup();\n          });\n      }\n\n      _safeArc (_arc, d) {\n          let path = _arc(d);\n          if (path.indexOf('NaN') >= 0) {\n              path = 'M0,0';\n          }\n          return path;\n      }\n\n      _labelPosition (d, _arc) {\n          let centroid;\n          if (this._externalLabelRadius) {\n              centroid = d3Shape.arc()\n                  .outerRadius(this._radius + this._externalLabelRadius)\n                  .innerRadius(this._radius + this._externalLabelRadius)\n                  .centroid(d);\n          } else {\n              centroid = _arc.centroid(d);\n          }\n          if (isNaN(centroid[0]) || isNaN(centroid[1])) {\n              return 'translate(0,0)';\n          } else {\n              return `translate(${centroid})`;\n          }\n      }\n\n      legendables () {\n          return this.data().map((d, i) => {\n              const legendable = {name: d.key, data: d.value, others: d.others, chart: this};\n              legendable.color = this.getColor(d, i);\n              return legendable;\n          });\n      }\n\n      legendHighlight (d) {\n          this._highlightSliceFromLegendable(d, true);\n      }\n\n      legendReset (d) {\n          this._highlightSliceFromLegendable(d, false);\n      }\n\n      legendToggle (d) {\n          this.onClick({key: d.name, others: d.others});\n      }\n\n      _highlightSliceFromLegendable (legendable, highlighted) {\n          this.selectAll('g.pie-slice').each(function (d) {\n              if (legendable.name === d.key) {\n                  d3Selection.select(this).classed('highlight', highlighted);\n              }\n          });\n      }\n\n      _tweenSlice (d, element) {\n          let current = element._current;\n          if (this._isOffCanvas(current)) {\n              current = {x0: 0, x1: 0, y0: 0, y1: 0};\n          }\n          const tweenTarget = {\n              x0: d.x0,\n              x1: d.x1,\n              y0: d.y0,\n              y1: d.y1\n          };\n          const i = d3Interpolate.interpolate(current, tweenTarget);\n          element._current = i(0);\n          return t => this._safeArc(this._buildArcs(), Object.assign({}, d, i(t)));\n      }\n  }\n\n  const sunburstChart = (parent, chartGroup) => new SunburstChart(parent, chartGroup);\n\n  const INPUT_CSS_CLASS = 'dc-text-filter-input';\n\n  /**\n   * Text Filter Widget\n   *\n   * The text filter widget is a simple widget designed to display an input field allowing to filter\n   * data that matches the text typed.\n   * As opposed to the other charts, this doesn't display any result and doesn't update its display,\n   * it's just to input an filter other charts.\n   *\n   * @mixes BaseMixin\n   */\n  class TextFilterWidget extends BaseMixin {\n      /**\n       * Create Text Filter widget\n       * @example\n       *\n       * var data = [{\"firstName\":\"John\",\"lastName\":\"Coltrane\"}{\"firstName\":\"Miles\",lastName:\"Davis\"}]\n       * var ndx = crossfilter(data);\n       * var dimension = ndx.dimension(function(d) {\n       *     return d.lastName.toLowerCase() + ' ' + d.firstName.toLowerCase();\n       * });\n       *\n       * new TextFilterWidget('#search')\n       *     .dimension(dimension);\n       *     // you don't need the group() function\n       *\n       * @param {String|node|d3.selection|CompositeChart} parent - Any valid\n       * {@link https://github.com/d3/d3-selection/blob/master/README.md#select d3 single selector}\n       * specifying a dom block element such as a div; or a dom element or d3 selection.\n       * @param {String} [chartGroup] - The name of the chart group this chart instance should be placed in.\n       * Interaction with a chart will only trigger events and redraws within the chart's group.\n       */\n      constructor (parent, chartGroup) {\n          super();\n\n          this._normalize = s => s.toLowerCase();\n\n          this._filterFunctionFactory = query => {\n              query = this._normalize(query);\n              return d => this._normalize(d).indexOf(query) !== -1;\n          };\n\n          this._placeHolder = 'search';\n\n          this.group(() => {\n              throw 'the group function on textFilterWidget should never be called, please report the issue';\n          });\n\n          this.anchor(parent, chartGroup);\n      }\n\n      _doRender () {\n          this.select('input').remove();\n\n          this._input = this.root().append('input')\n              .classed(INPUT_CSS_CLASS, true);\n\n          const chart = this;\n          this._input.on('input', function () {\n              chart.dimension().filterFunction(chart._filterFunctionFactory(this.value));\n              events.trigger(() => {\n                  chart.redrawGroup();\n              }, constants.EVENT_DELAY);\n          });\n\n          this._doRedraw();\n\n          return this;\n      }\n\n      _doRedraw () {\n          this.root().selectAll('input')\n              .attr('placeholder', this._placeHolder);\n\n          return this;\n      }\n\n      /**\n       * This function will be called on values before calling the filter function.\n       * @example\n       * // This is the default\n       * chart.normalize(function (s) {\n       *   return s.toLowerCase();\n       * });\n       * @param {function} [normalize]\n       * @returns {TextFilterWidget|function}\n       */\n      normalize (normalize) {\n          if (!arguments.length) {\n              return this._normalize;\n          }\n          this._normalize = normalize;\n          return this;\n      }\n\n      /**\n       * Placeholder text in the search box.\n       * @example\n       * // This is the default\n       * chart.placeHolder('type to filter');\n       * @param {function} [placeHolder='search']\n       * @returns {TextFilterWidget|string}\n       */\n      placeHolder (placeHolder) {\n          if (!arguments.length) {\n              return this._placeHolder;\n          }\n          this._placeHolder = placeHolder;\n          return this;\n      }\n\n      /**\n       * This function will be called with the search text, it needs to return a function that will be used to\n       * filter the data. The default function checks presence of the search text.\n       * @example\n       * // This is the default\n       * function (query) {\n       *     query = _normalize(query);\n       *     return function (d) {\n       *         return _normalize(d).indexOf(query) !== -1;\n       *     };\n       * };\n       * @param {function} [filterFunctionFactory]\n       * @returns {TextFilterWidget|function}\n       */\n      filterFunctionFactory (filterFunctionFactory) {\n          if (!arguments.length) {\n              return this._filterFunctionFactory;\n          }\n          this._filterFunctionFactory = filterFunctionFactory;\n          return this;\n      }\n  }\n\n  const textFilterWidget = (parent, chartGroup) => new TextFilterWidget(parent, chartGroup);\n\n  const majorVer = +d3.version[0];\n\n  if (majorVer < 6) {\n      Object.assign(d3compat, {\n          eventHandler: handler => function eventHandler (d, _) {\n              handler.call(this, d, d3Selection.event);\n          },\n          // manual firing of event, usu for tests\n          callHandler: function callHandler (handler, that, _, d) {\n              // note: dropping event as well as any extra args\n              // d3@6 does not pass extra args anymore, so we can't use them and remain compatible\n              handler.call(that, d);\n          },\n          nester: ({key, sortKeys, sortValues, entries}) => {\n              const nester = d3Collection.nest().key(key);\n              if (sortKeys) {\n                  nester.sortKeys(sortKeys);\n              }\n              if (sortValues) {\n                  nester.sortValues(sortValues);\n              }\n              return nester.entries(entries);\n          },\n          pointer: (evt, elem) => d3Selection.mouse(elem)\n      });\n  }\n\n  const majorVer$1 = +d3.version[0];\n\n  if (majorVer$1 > 5) {\n      Object.assign(d3compat, {\n          eventHandler: handler => function eventHandler (event, d) {\n              handler.call(this, d, event);\n          },\n          // manual firing of event, usu for tests\n          callHandler: function callHandler (handler, that, event, d) {\n              handler.call(that, event, d);\n          },\n          nester: ({key, sortKeys, sortValues, entries}) => {\n              if (sortValues) {\n                  entries = [...entries].sort(sortValues);\n              }\n              let out = d3Array.groups(entries, key);\n              if (sortKeys) {\n                  out = out.sort(sortKeys);\n              }\n\n              // remap to d3@v5 structure\n              return out.map(e => ({\n                  key: `${e[0]}`, // d3@v5 always returns key as string\n                  values: e[1]\n              }));\n          },\n          pointer: d3Selection.pointer\n      });\n  }\n\n  exports.BadArgumentException = BadArgumentException;\n  exports.BarChart = BarChart;\n  exports.BaseMixin = BaseMixin;\n  exports.BoxPlot = BoxPlot;\n  exports.BubbleChart = BubbleChart;\n  exports.BubbleMixin = BubbleMixin;\n  exports.BubbleOverlay = BubbleOverlay;\n  exports.CapMixin = CapMixin;\n  exports.CboxMenu = CboxMenu;\n  exports.ColorMixin = ColorMixin;\n  exports.CompositeChart = CompositeChart;\n  exports.Config = Config;\n  exports.CoordinateGridMixin = CoordinateGridMixin;\n  exports.DataCount = DataCount;\n  exports.DataGrid = DataGrid;\n  exports.DataTable = DataTable;\n  exports.GeoChoroplethChart = GeoChoroplethChart;\n  exports.HeatMap = HeatMap;\n  exports.HtmlLegend = HtmlLegend;\n  exports.InvalidStateException = InvalidStateException;\n  exports.Legend = Legend;\n  exports.LineChart = LineChart;\n  exports.Logger = Logger;\n  exports.MarginMixin = MarginMixin;\n  exports.NumberDisplay = NumberDisplay;\n  exports.PieChart = PieChart;\n  exports.RowChart = RowChart;\n  exports.ScatterPlot = ScatterPlot;\n  exports.SelectMenu = SelectMenu;\n  exports.SeriesChart = SeriesChart;\n  exports.StackMixin = StackMixin;\n  exports.SunburstChart = SunburstChart;\n  exports.TextFilterWidget = TextFilterWidget;\n  exports.afterTransition = afterTransition;\n  exports.barChart = barChart;\n  exports.baseMixin = baseMixin;\n  exports.boxPlot = boxPlot;\n  exports.bubbleChart = bubbleChart;\n  exports.bubbleOverlay = bubbleOverlay;\n  exports.cboxMenu = cboxMenu;\n  exports.chartRegistry = chartRegistry;\n  exports.compositeChart = compositeChart;\n  exports.config = config;\n  exports.constants = constants;\n  exports.d3Box = d3Box;\n  exports.d3compat = d3compat;\n  exports.dataCount = dataCount;\n  exports.dataGrid = dataGrid;\n  exports.dataTable = dataTable;\n  exports.deregisterAllCharts = deregisterAllCharts;\n  exports.deregisterChart = deregisterChart;\n  exports.events = events;\n  exports.filterAll = filterAll;\n  exports.filters = filters;\n  exports.geoChoroplethChart = geoChoroplethChart;\n  exports.hasChart = hasChart;\n  exports.heatMap = heatMap;\n  exports.htmlLegend = htmlLegend;\n  exports.instanceOfChart = instanceOfChart;\n  exports.legend = legend;\n  exports.lineChart = lineChart;\n  exports.logger = logger;\n  exports.numberDisplay = numberDisplay;\n  exports.optionalTransition = optionalTransition;\n  exports.pieChart = pieChart;\n  exports.pluck = pluck;\n  exports.printers = printers;\n  exports.redrawAll = redrawAll;\n  exports.refocusAll = refocusAll;\n  exports.registerChart = registerChart;\n  exports.renderAll = renderAll;\n  exports.renderlet = renderlet;\n  exports.rowChart = rowChart;\n  exports.scatterPlot = scatterPlot;\n  exports.selectMenu = selectMenu;\n  exports.seriesChart = seriesChart;\n  exports.sunburstChart = sunburstChart;\n  exports.textFilterWidget = textFilterWidget;\n  exports.transition = transition;\n  exports.units = units;\n  exports.utils = utils;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=dc.js.map\n","export var name = \"d3\";\nexport var version = \"6.7.0\";\nexport var description = \"Data-Driven Documents\";\nexport var keywords = [\"dom\",\"visualization\",\"svg\",\"animation\",\"canvas\"];\nexport var homepage = \"https://d3js.org\";\nexport var license = \"BSD-3-Clause\";\nexport var author = {\"name\":\"Mike Bostock\",\"url\":\"https://bost.ocks.org/mike\"};\nexport var main = \"dist/d3.node.js\";\nexport var unpkg = \"dist/d3.min.js\";\nexport var jsdelivr = \"dist/d3.min.js\";\nexport var module = \"index.js\";\nexport var repository = {\"type\":\"git\",\"url\":\"https://github.com/d3/d3.git\"};\nexport var files = [\"dist/**/*.js\",\"index.js\"];\nexport var scripts = {\"pretest\":\"rimraf dist && mkdir dist && json2module package.json > dist/package.js && rollup -c\",\"test\":\"tape 'test/**/*-test.js'\",\"prepublishOnly\":\"yarn test\",\"postpublish\":\"git push && git push --tags && cd ../d3.github.com && git pull && cp ../d3/dist/d3.js d3.v${npm_package_version%%.*}.js && cp ../d3/dist/d3.min.js d3.v${npm_package_version%%.*}.min.js && git add d3.v${npm_package_version%%.*}.js d3.v${npm_package_version%%.*}.min.js && git commit -m \\\"d3 ${npm_package_version}\\\" && git push && cd - && zip -j dist/d3.zip -- LICENSE README.md API.md CHANGES.md dist/d3.js dist/d3.min.js\"};\nexport var devDependencies = {\"json2module\":\"0.0\",\"rimraf\":\"3\",\"rollup\":\"2\",\"rollup-plugin-ascii\":\"0.0\",\"rollup-plugin-node-resolve\":\"5\",\"rollup-plugin-terser\":\"7\",\"tape\":\"4\",\"tape-await\":\"0.1\"};\nexport var dependencies = {\"d3-array\":\"2\",\"d3-axis\":\"2\",\"d3-brush\":\"2\",\"d3-chord\":\"2\",\"d3-color\":\"2\",\"d3-contour\":\"2\",\"d3-delaunay\":\"5\",\"d3-dispatch\":\"2\",\"d3-drag\":\"2\",\"d3-dsv\":\"2\",\"d3-ease\":\"2\",\"d3-fetch\":\"2\",\"d3-force\":\"2\",\"d3-format\":\"2\",\"d3-geo\":\"2\",\"d3-hierarchy\":\"2\",\"d3-interpolate\":\"2\",\"d3-path\":\"2\",\"d3-polygon\":\"2\",\"d3-quadtree\":\"2\",\"d3-random\":\"2\",\"d3-scale\":\"3\",\"d3-scale-chromatic\":\"2\",\"d3-selection\":\"2\",\"d3-shape\":\"2\",\"d3-time\":\"2\",\"d3-time-format\":\"3\",\"d3-timer\":\"2\",\"d3-transition\":\"2\",\"d3-zoom\":\"2\"};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n","function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n","export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n","import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(value);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f = ascending] = F;\n  if (f.length === 1 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascending(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascending(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(f);\n}\n","import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length === 1\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import {tickIncrement} from \"./ticks.js\";\n\nexport default function nice(start, stop, count) {\n  let prestep;\n  while (true) {\n    const step = tickIncrement(start, stop, count);\n    if (step === prestep || step === 0 || !isFinite(step)) {\n      return [start, stop];\n    } else if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n    }\n    prestep = step;\n  }\n}\n","import count from \"../count.js\";\n\nexport default function(values) {\n  return Math.ceil(Math.log(count(values)) / Math.LN2) + 1;\n}\n","import {slice} from \"./array.js\";\nimport bisect from \"./bisect.js\";\nimport constant from \"./constant.js\";\nimport extent from \"./extent.js\";\nimport identity from \"./identity.js\";\nimport nice from \"./nice.js\";\nimport ticks, {tickIncrement} from \"./ticks.js\";\nimport sturges from \"./threshold/sturges.js\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    if (!Array.isArray(data)) data = Array.from(data);\n\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds, and nice the\n    // default domain accordingly.\n    if (!Array.isArray(tz)) {\n      const max = x1, tn = +tz;\n      if (domain === extent) [x0, x1] = nice(x0, x1, tn);\n      tz = ticks(x0, x1, tn);\n\n      // If the last threshold is coincident with the domains upper bound, the\n      // last bin will be zero-width. If the default domain is used, and this\n      // last threshold is coincident with the maximum input value, we can\n      // extend the niced upper bound by one tick to ensure uniform bin widths;\n      // otherwise, we simply remove the last threshold. Note that we dont\n      // coerce values or the domain to numbers, and thus must be careful to\n      // compare order (>=) rather than strict equality (===)!\n      if (tz[tz.length - 1] >= x1) {\n        if (max >= x1 && domain === extent) {\n          const step = tickIncrement(x0, x1, tn);\n          if (isFinite(step)) {\n            if (step > 0) {\n              x1 = (Math.floor(x1 / step) + 1) * step;\n            } else if (step < 0) {\n              x1 = (Math.ceil(x1 * -step) + 1) / -step;\n            }\n          }\n        } else {\n          tz.pop();\n        }\n      }\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(count(values), -1 / 3)));\n}\n","import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(count(values), -1 / 3)));\n}\n","export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n","export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n","export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function least(values, compare = ascending) {\n  let min;\n  let defined = false;\n  if (compare.length === 1) {\n    let minValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, minValue) < 0\n          : ascending(value, value) === 0) {\n        min = element;\n        minValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, min) < 0\n          : compare(value, value) === 0) {\n        min = value;\n        defined = true;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\nimport minIndex from \"./minIndex.js\";\n\nexport default function leastIndex(values, compare = ascending) {\n  if (compare.length === 1) return minIndex(values, compare);\n  let minValue;\n  let min = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (min < 0\n        ? compare(value, value) === 0\n        : compare(value, minValue) < 0) {\n      minValue = value;\n      min = index;\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n","import ascending from \"./ascending.js\";\nimport maxIndex from \"./maxIndex.js\";\n\nexport default function greatestIndex(values, compare = ascending) {\n  if (compare.length === 1) return maxIndex(values, compare);\n  let maxValue;\n  let max = -1;\n  let index = -1;\n  for (const value of values) {\n    ++index;\n    if (max < 0\n        ? compare(value, value) === 0\n        : compare(value, maxValue) > 0) {\n      maxValue = value;\n      max = index;\n    }\n  }\n  return max;\n}\n","import leastIndex from \"./leastIndex.js\";\n\nexport default function scan(values, compare) {\n  const index = leastIndex(values, compare);\n  return index < 0 ? undefined : index;\n}\n","export default shuffler(Math.random);\n\nexport function shuffler(random) {\n  return function shuffle(array, i0 = 0, i1 = array.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n    return array;\n  };\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import min from \"./min.js\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import transpose from \"./transpose.js\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export default function every(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (!test(value, ++index, values)) {\n      return false;\n    }\n  }\n  return true;\n}\n","export default function some(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      return true;\n    }\n  }\n  return false;\n}\n","export default function filter(values, test) {\n  if (typeof test !== \"function\") throw new TypeError(\"test is not a function\");\n  const array = [];\n  let index = -1;\n  for (const value of values) {\n    if (test(value, ++index, values)) {\n      array.push(value);\n    }\n  }\n  return array;\n}\n","export default function map(values, mapper) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  if (typeof mapper !== \"function\") throw new TypeError(\"mapper is not a function\");\n  return Array.from(values, (value, index) => mapper(value, index, values));\n}\n","export default function reduce(values, reducer, value) {\n  if (typeof reducer !== \"function\") throw new TypeError(\"reducer is not a function\");\n  const iterator = values[Symbol.iterator]();\n  let done, next, index = -1;\n  if (arguments.length < 3) {\n    ({done, value} = iterator.next());\n    if (done) return;\n    ++index;\n  }\n  while (({done, value: next} = iterator.next()), !done) {\n    value = reducer(value, next, ++index, values);\n  }\n  return value;\n}\n","export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n","export default function difference(values, ...others) {\n  values = new Set(values);\n  for (const other of others) {\n    for (const value of other) {\n      values.delete(value);\n    }\n  }\n  return values;\n}\n","export default function disjoint(values, other) {\n  const iterator = other[Symbol.iterator](), set = new Set();\n  for (const v of values) {\n    if (set.has(v)) return false;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) break;\n      if (Object.is(v, value)) return false;\n      set.add(value);\n    }\n  }\n  return true;\n}\n","export default function set(values) {\n  return values instanceof Set ? values : new Set(values);\n}\n","import set from \"./set.js\";\n\nexport default function intersection(values, ...others) {\n  values = new Set(values);\n  others = others.map(set);\n  out: for (const value of values) {\n    for (const other of others) {\n      if (!other.has(value)) {\n        values.delete(value);\n        continue out;\n      }\n    }\n  }\n  return values;\n}\n","export default function superset(values, other) {\n  const iterator = values[Symbol.iterator](), set = new Set();\n  for (const o of other) {\n    if (set.has(o)) continue;\n    let value, done;\n    while (({value, done} = iterator.next())) {\n      if (done) return false;\n      set.add(value);\n      if (Object.is(o, value)) break;\n    }\n  }\n  return true;\n}\n","import superset from \"./superset.js\";\n\nexport default function subset(values, other) {\n  return superset(other, values);\n}\n","export default function union(...others) {\n  const set = new Set();\n  for (const other of others) {\n    for (const o of other) {\n      set.add(o);\n    }\n  }\n  return set;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array.js\";\nimport identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {Transition} from \"./transition/index.js\";\nimport {SCHEDULED} from \"./transition/schedule.js\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","export default x => () => x;\n","export default function BrushEvent(type, {\n  sourceEvent,\n  target,\n  selection,\n  mode,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    selection: {value: selection, enumerable: true, configurable: true},\n    mode: {value: mode, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move();\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export var abs = Math.abs;\nexport var cos = Math.cos;\nexport var sin = Math.sin;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = pi * 2;\nexport var max = Math.max;\nexport var epsilon = 1e-12;\n","import {max, tau} from \"./math.js\";\n\nfunction range(i, j) {\n  return Array.from({length: j - i}, (_, k) => i + k);\n}\n\nfunction compareValue(compare) {\n  return function(a, b) {\n    return compare(\n      a.source.value + a.target.value,\n      b.source.value + b.target.value\n    );\n  };\n}\n\nexport default function() {\n  return chord(false, false);\n}\n\nexport function chordTranspose() {\n  return chord(false, true);\n}\n\nexport function chordDirected() {\n  return chord(true, false);\n}\n\nfunction chord(directed, transpose) {\n  var padAngle = 0,\n      sortGroups = null,\n      sortSubgroups = null,\n      sortChords = null;\n\n  function chord(matrix) {\n    var n = matrix.length,\n        groupSums = new Array(n),\n        groupIndex = range(0, n),\n        chords = new Array(n * n),\n        groups = new Array(n),\n        k = 0, dx;\n\n    matrix = Float64Array.from({length: n * n}, transpose\n        ? (_, i) => matrix[i % n][i / n | 0]\n        : (_, i) => matrix[i / n | 0][i % n]);\n\n    // Compute the scaling factor from value to angle in [0, 2pi].\n    for (let i = 0; i < n; ++i) {\n      let x = 0;\n      for (let j = 0; j < n; ++j) x += matrix[i * n + j] + directed * matrix[j * n + i];\n      k += groupSums[i] = x;\n    }\n    k = max(0, tau - padAngle * n) / k;\n    dx = k ? padAngle : tau / n;\n\n    // Compute the angles for each group and constituent chord.\n    {\n      let x = 0;\n      if (sortGroups) groupIndex.sort((a, b) => sortGroups(groupSums[a], groupSums[b]));\n      for (const i of groupIndex) {\n        const x0 = x;\n        if (directed) {\n          const subgroupIndex = range(~n + 1, n).filter(j => j < 0 ? matrix[~j * n + i] : matrix[i * n + j]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(a < 0 ? -matrix[~a * n + i] : matrix[i * n + a], b < 0 ? -matrix[~b * n + i] : matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            if (j < 0) {\n              const chord = chords[~j * n + i] || (chords[~j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[~j * n + i] * k, value: matrix[~j * n + i]};\n            } else {\n              const chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        } else {\n          const subgroupIndex = range(0, n).filter(j => matrix[i * n + j] || matrix[j * n + i]);\n          if (sortSubgroups) subgroupIndex.sort((a, b) => sortSubgroups(matrix[i * n + a], matrix[i * n + b]));\n          for (const j of subgroupIndex) {\n            let chord;\n            if (i < j) {\n              chord = chords[i * n + j] || (chords[i * n + j] = {source: null, target: null});\n              chord.source = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n            } else {\n              chord = chords[j * n + i] || (chords[j * n + i] = {source: null, target: null});\n              chord.target = {index: i, startAngle: x, endAngle: x += matrix[i * n + j] * k, value: matrix[i * n + j]};\n              if (i === j) chord.source = chord.target;\n            }\n            if (chord.source && chord.target && chord.source.value < chord.target.value) {\n              const source = chord.source;\n              chord.source = chord.target;\n              chord.target = source;\n            }\n          }\n          groups[i] = {index: i, startAngle: x0, endAngle: x, value: groupSums[i]};\n        }\n        x += dx;\n      }\n    }\n\n    // Remove empty chords.\n    chords = Object.values(chords);\n    chords.groups = groups;\n    return sortChords ? chords.sort(sortChords) : chords;\n  }\n\n  chord.padAngle = function(_) {\n    return arguments.length ? (padAngle = max(0, _), chord) : padAngle;\n  };\n\n  chord.sortGroups = function(_) {\n    return arguments.length ? (sortGroups = _, chord) : sortGroups;\n  };\n\n  chord.sortSubgroups = function(_) {\n    return arguments.length ? (sortSubgroups = _, chord) : sortSubgroups;\n  };\n\n  chord.sortChords = function(_) {\n    return arguments.length ? (_ == null ? sortChords = null : (sortChords = compareValue(_))._ = _, chord) : sortChords && sortChords._;\n  };\n\n  return chord;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {abs, cos, epsilon, halfPi, sin} from \"./math.js\";\n\nfunction defaultSource(d) {\n  return d.source;\n}\n\nfunction defaultTarget(d) {\n  return d.target;\n}\n\nfunction defaultRadius(d) {\n  return d.radius;\n}\n\nfunction defaultStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction defaultEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction defaultPadAngle() {\n  return 0;\n}\n\nfunction defaultArrowheadRadius() {\n  return 10;\n}\n\nfunction ribbon(headRadius) {\n  var source = defaultSource,\n      target = defaultTarget,\n      sourceRadius = defaultRadius,\n      targetRadius = defaultRadius,\n      startAngle = defaultStartAngle,\n      endAngle = defaultEndAngle,\n      padAngle = defaultPadAngle,\n      context = null;\n\n  function ribbon() {\n    var buffer,\n        s = source.apply(this, arguments),\n        t = target.apply(this, arguments),\n        ap = padAngle.apply(this, arguments) / 2,\n        argv = slice.call(arguments),\n        sr = +sourceRadius.apply(this, (argv[0] = s, argv)),\n        sa0 = startAngle.apply(this, argv) - halfPi,\n        sa1 = endAngle.apply(this, argv) - halfPi,\n        tr = +targetRadius.apply(this, (argv[0] = t, argv)),\n        ta0 = startAngle.apply(this, argv) - halfPi,\n        ta1 = endAngle.apply(this, argv) - halfPi;\n\n    if (!context) context = buffer = path();\n\n    if (ap > epsilon) {\n      if (abs(sa1 - sa0) > ap * 2 + epsilon) sa1 > sa0 ? (sa0 += ap, sa1 -= ap) : (sa0 -= ap, sa1 += ap);\n      else sa0 = sa1 = (sa0 + sa1) / 2;\n      if (abs(ta1 - ta0) > ap * 2 + epsilon) ta1 > ta0 ? (ta0 += ap, ta1 -= ap) : (ta0 -= ap, ta1 += ap);\n      else ta0 = ta1 = (ta0 + ta1) / 2;\n    }\n\n    context.moveTo(sr * cos(sa0), sr * sin(sa0));\n    context.arc(0, 0, sr, sa0, sa1);\n    if (sa0 !== ta0 || sa1 !== ta1) {\n      if (headRadius) {\n        var hr = +headRadius.apply(this, arguments), tr2 = tr - hr, ta2 = (ta0 + ta1) / 2;\n        context.quadraticCurveTo(0, 0, tr2 * cos(ta0), tr2 * sin(ta0));\n        context.lineTo(tr * cos(ta2), tr * sin(ta2));\n        context.lineTo(tr2 * cos(ta1), tr2 * sin(ta1));\n      } else {\n        context.quadraticCurveTo(0, 0, tr * cos(ta0), tr * sin(ta0));\n        context.arc(0, 0, tr, ta0, ta1);\n      }\n    }\n    context.quadraticCurveTo(0, 0, sr * cos(sa0), sr * sin(sa0));\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  if (headRadius) ribbon.headRadius = function(_) {\n    return arguments.length ? (headRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : headRadius;\n  };\n\n  ribbon.radius = function(_) {\n    return arguments.length ? (sourceRadius = targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.sourceRadius = function(_) {\n    return arguments.length ? (sourceRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : sourceRadius;\n  };\n\n  ribbon.targetRadius = function(_) {\n    return arguments.length ? (targetRadius = typeof _ === \"function\" ? _ : constant(+_), ribbon) : targetRadius;\n  };\n\n  ribbon.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : startAngle;\n  };\n\n  ribbon.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : endAngle;\n  };\n\n  ribbon.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), ribbon) : padAngle;\n  };\n\n  ribbon.source = function(_) {\n    return arguments.length ? (source = _, ribbon) : source;\n  };\n\n  ribbon.target = function(_) {\n    return arguments.length ? (target = _, ribbon) : target;\n  };\n\n  ribbon.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), ribbon) : context;\n  };\n\n  return ribbon;\n}\n\nexport default function() {\n  return ribbon();\n}\n\nexport function ribbonArrow() {\n  return ribbon(defaultArrowheadRadius);\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","var array = Array.prototype;\n\nexport var slice = array.slice;\n","export default function(a, b) {\n  return a - b;\n}\n","export default function(ring) {\n  var i = 0, n = ring.length, area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n","export default x => () => x;\n","export default function(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","export default function() {}\n","import {extent, thresholdSturges, tickStep, range} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport ascending from \"./ascending.js\";\nimport area from \"./area.js\";\nimport constant from \"./constant.js\";\nimport contains from \"./contains.js\";\nimport noop from \"./noop.js\";\n\nvar cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      threshold = thresholdSturges,\n      smooth = smoothLinear;\n\n  function contours(values) {\n    var tz = threshold(values);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var domain = extent(values), start = domain[0], stop = domain[1];\n      tz = tickStep(start, stop, tz);\n      tz = range(Math.floor(start / tz) * tz, Math.floor(stop / tz) * tz, tz);\n    } else {\n      tz = tz.slice().sort(ascending);\n    }\n\n    return tz.map(function(value) {\n      return contour(values, value);\n    });\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, function(ring) {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(function(hole) {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: \"MultiPolygon\",\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(function(point) {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), contours) : threshold;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n","// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurX(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var j = 0; j < m; ++j) {\n    for (var i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source.data[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source.data[i - w + j * n];\n        }\n        target.data[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\n// TODO Optimize edge cases.\n// TODO Optimize index calculation.\n// TODO Optimize arguments.\nexport function blurY(source, target, r) {\n  var n = source.width,\n      m = source.height,\n      w = (r << 1) + 1;\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source.data[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source.data[i + (j - w) * n];\n        }\n        target.data[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n","import {max, range, tickStep} from \"d3-array\";\nimport {slice} from \"./array.js\";\nimport {blurX, blurY} from \"./blur.js\";\nimport constant from \"./constant.js\";\nimport contours from \"./contours.js\";\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nexport default function() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20, // blur radius\n      k = 2, // log2(grid cell size)\n      o = r * 3, // grid offset, to pad for blur\n      n = (dx + o * 2) >> k, // grid width\n      m = (dy + o * 2) >> k, // grid height\n      threshold = constant(20);\n\n  function density(data) {\n    var values0 = new Float32Array(n * m),\n        values1 = new Float32Array(n * m);\n\n    data.forEach(function(d, i, data) {\n      var xi = (+x(d, i, data) + o) >> k,\n          yi = (+y(d, i, data) + o) >> k,\n          wi = +weight(d, i, data);\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        values0[xi + yi * n] += wi;\n      }\n    });\n\n    // TODO Optimize.\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n    blurX({width: n, height: m, data: values0}, {width: n, height: m, data: values1}, r >> k);\n    blurY({width: n, height: m, data: values1}, {width: n, height: m, data: values0}, r >> k);\n\n    var tz = threshold(values0);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      var stop = max(values0);\n      tz = tickStep(0, stop, tz);\n      tz = range(0, Math.floor(stop / tz) * tz, tz);\n      tz.shift();\n    }\n\n    return contours()\n        .thresholds(tz)\n        .size([n, m])\n      (values0)\n        .map(transform);\n  }\n\n  function transform(geometry) {\n    geometry.value *= Math.pow(2, -2 * k); // Density in points per square pixel.\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  }\n\n  // TODO Optimize.\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = (dx + o * 2) >> k;\n    m = (dy + o * 2) >> k;\n    return density;\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : constant(+_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), density) : threshold;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = Math.round((Math.sqrt(4 * _ * _ + 1) - 1) / 2), resize();\n  };\n\n  return density;\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"] || \\\"\\\"\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nfunction pad(value, width) {\n  var s = value + \"\", length = s.length;\n  return length < width ? new Array(width - length + 1).join(0) + s : s;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? \"-\" + pad(-year, 6)\n    : year > 9999 ? \"+\" + pad(year, 6)\n    : pad(year, 4);\n}\n\nfunction formatDate(date) {\n  var hours = date.getUTCHours(),\n      minutes = date.getUTCMinutes(),\n      seconds = date.getUTCSeconds(),\n      milliseconds = date.getUTCMilliseconds();\n  return isNaN(date) ? \"Invalid Date\"\n      : formatYear(date.getUTCFullYear(), 4) + \"-\" + pad(date.getUTCMonth() + 1, 2) + \"-\" + pad(date.getUTCDate(), 2)\n      + (milliseconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \".\" + pad(milliseconds, 3) + \"Z\"\n      : seconds ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \":\" + pad(seconds, 2) + \"Z\"\n      : minutes || hours ? \"T\" + pad(hours, 2) + \":\" + pad(minutes, 2) + \"Z\"\n      : \"\");\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function preformatBody(rows, columns) {\n    return rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    });\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(preformatBody(rows, columns)).join(\"\\n\");\n  }\n\n  function formatBody(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return preformatBody(rows, columns).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(value) {\n    return value == null ? \"\"\n        : value instanceof Date ? formatDate(value)\n        : reFormat.test(value += \"\") ? \"\\\"\" + value.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : value;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatBody: formatBody,\n    formatRows: formatRows,\n    formatRow: formatRow,\n    formatValue: formatValue\n  };\n}\n","import dsv from \"./dsv.js\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatBody = csv.formatBody;\nexport var csvFormatRows = csv.formatRows;\nexport var csvFormatRow = csv.formatRow;\nexport var csvFormatValue = csv.formatValue;\n","import dsv from \"./dsv.js\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatBody = tsv.formatBody;\nexport var tsvFormatRows = tsv.formatRows;\nexport var tsvFormatRow = tsv.formatRow;\nexport var tsvFormatValue = tsv.formatValue;\n","export default function autoType(object) {\n  for (var key in object) {\n    var value = object[key].trim(), number, m;\n    if (!value) value = null;\n    else if (value === \"true\") value = true;\n    else if (value === \"false\") value = false;\n    else if (value === \"NaN\") value = NaN;\n    else if (!isNaN(number = +value)) value = number;\n    else if (m = value.match(/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/)) {\n      if (fixtz && !!m[4] && !m[7]) value = value.replace(/-/g, \"/\").replace(/T/, \" \");\n      value = new Date(value);\n    }\n    else continue;\n    object[key] = value;\n  }\n  return object;\n}\n\n// https://github.com/d3/d3-dsv/issues/45\nconst fixtz = new Date(\"2019-01-01T00:00\").getHours() || new Date(\"2019-07-01T00:00\").getHours();","export const linear = t => +t;\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","function responseBlob(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.blob();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseBlob);\n}\n","function responseArrayBuffer(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.arrayBuffer();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseArrayBuffer);\n}\n","function responseText(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  return response.text();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseText);\n}\n","import {csvParse, dsvFormat, tsvParse} from \"d3-dsv\";\nimport text from \"./text.js\";\n\nfunction dsvParse(parse) {\n  return function(input, init, row) {\n    if (arguments.length === 2 && typeof init === \"function\") row = init, init = undefined;\n    return text(input, init).then(function(response) {\n      return parse(response, row);\n    });\n  };\n}\n\nexport default function dsv(delimiter, input, init, row) {\n  if (arguments.length === 3 && typeof init === \"function\") row = init, init = undefined;\n  var format = dsvFormat(delimiter);\n  return text(input, init).then(function(response) {\n    return format.parse(response, row);\n  });\n}\n\nexport var csv = dsvParse(csvParse);\nexport var tsv = dsvParse(tsvParse);\n","export default function(input, init) {\n  return new Promise(function(resolve, reject) {\n    var image = new Image;\n    for (var key in init) image[key] = init[key];\n    image.onerror = reject;\n    image.onload = function() { resolve(image); };\n    image.src = input;\n  });\n}\n","function responseJson(response) {\n  if (!response.ok) throw new Error(response.status + \" \" + response.statusText);\n  if (response.status === 204 || response.status === 205) return;\n  return response.json();\n}\n\nexport default function(input, init) {\n  return fetch(input, init).then(responseJson);\n}\n","import text from \"./text.js\";\n\nfunction parser(type) {\n  return (input, init) => text(input, init)\n    .then(text => (new DOMParser).parseFromString(text, type));\n}\n\nexport default parser(\"application/xml\");\n\nexport var html = parser(\"text/html\");\n\nexport var svg = parser(\"image/svg+xml\");\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import {Adder} from \"d3-array\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = new Adder();\n\n// hello?\n\nvar areaSum = new Adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum = new Adder();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum = new Adder();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {Adder} from \"d3-array\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum,\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum = new Adder();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {asin, atan2, cos, degrees, epsilon, epsilon2, hypot, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2.add(v * cx);\n  Y2.add(v * cy);\n  Z2.add(v * cz);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 = 0;\n  X2 = new Adder();\n  Y2 = new Adder();\n  Z2 = new Adder();\n  stream(object, centroidStream);\n\n  var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = hypot(x, y, z);\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / m) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","import {Adder} from \"d3-array\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum,\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum = new Adder();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default x => x;\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hue} from \"./color.js\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      a,\n      b = polygon[n - 1],\n      area = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    area += a[1] * b[0] - a[0] * b[1];\n  }\n\n  return area / 2;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      x = 0,\n      y = 0,\n      a,\n      b = polygon[n - 1],\n      c,\n      k = 0;\n\n  while (++i < n) {\n    a = b;\n    b = polygon[i];\n    k += c = a[0] * b[1] - b[0] * a[1];\n    x += (a[0] + b[0]) * c;\n    y += (a[1] + b[1]) * c;\n  }\n\n  return k *= 3, [x / k, y / k];\n}\n","// Returns the 2D cross product of AB and AC vectors, i.e., the z-component of\n// the 3D cross product in a quadrant I Cartesian coordinate system (+x is\n// right, +y is up). Returns a positive value if ABC is counter-clockwise,\n// negative if clockwise, and zero if the points are collinear.\nexport default function(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n}\n","import cross from \"./cross.js\";\n\nfunction lexicographicOrder(a, b) {\n  return a[0] - b[0] || a[1] - b[1];\n}\n\n// Computes the upper convex hull per the monotone chain algorithm.\n// Assumes points.length >= 3, is sorted by x, unique in y.\n// Returns an array of indices into points in left-to-right order.\nfunction computeUpperHullIndexes(points) {\n  const n = points.length,\n      indexes = [0, 1];\n  let size = 2, i;\n\n  for (i = 2; i < n; ++i) {\n    while (size > 1 && cross(points[indexes[size - 2]], points[indexes[size - 1]], points[i]) <= 0) --size;\n    indexes[size++] = i;\n  }\n\n  return indexes.slice(0, size); // remove popped points\n}\n\nexport default function(points) {\n  if ((n = points.length) < 3) return null;\n\n  var i,\n      n,\n      sortedPoints = new Array(n),\n      flippedPoints = new Array(n);\n\n  for (i = 0; i < n; ++i) sortedPoints[i] = [+points[i][0], +points[i][1], i];\n  sortedPoints.sort(lexicographicOrder);\n  for (i = 0; i < n; ++i) flippedPoints[i] = [sortedPoints[i][0], -sortedPoints[i][1]];\n\n  var upperIndexes = computeUpperHullIndexes(sortedPoints),\n      lowerIndexes = computeUpperHullIndexes(flippedPoints);\n\n  // Construct the hull polygon, removing possible duplicate endpoints.\n  var skipLeft = lowerIndexes[0] === upperIndexes[0],\n      skipRight = lowerIndexes[lowerIndexes.length - 1] === upperIndexes[upperIndexes.length - 1],\n      hull = [];\n\n  // Add upper hull in right-to-l order.\n  // Then add lower hull in left-to-right order.\n  for (i = upperIndexes.length - 1; i >= 0; --i) hull.push(points[sortedPoints[upperIndexes[i]][2]]);\n  for (i = +skipLeft; i < lowerIndexes.length - skipRight; ++i) hull.push(points[sortedPoints[lowerIndexes[i]][2]]);\n\n  return hull;\n}\n","export default function(polygon, point) {\n  var n = polygon.length,\n      p = polygon[n - 1],\n      x = point[0], y = point[1],\n      x0 = p[0], y0 = p[1],\n      x1, y1,\n      inside = false;\n\n  for (var i = 0; i < n; ++i) {\n    p = polygon[i], x1 = p[0], y1 = p[1];\n    if (((y1 > y) !== (y0 > y)) && (x < (x0 - x1) * (y - y1) / (y0 - y1) + x1)) inside = !inside;\n    x0 = x1, y0 = y1;\n  }\n\n  return inside;\n}\n","export default function(polygon) {\n  var i = -1,\n      n = polygon.length,\n      b = polygon[n - 1],\n      xa,\n      ya,\n      xb = b[0],\n      yb = b[1],\n      perimeter = 0;\n\n  while (++i < n) {\n    xa = xb;\n    ya = yb;\n    b = polygon[i];\n    xb = b[0];\n    yb = b[1];\n    xa -= xb;\n    ya -= yb;\n    perimeter += Math.hypot(xa, ya);\n  }\n\n  return perimeter;\n}\n","export default Math.random;\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomUniform(source) {\n  function randomUniform(min, max) {\n    min = min == null ? 0 : +min;\n    max = max == null ? 1 : +max;\n    if (arguments.length === 1) max = min, min = 0;\n    else max -= min;\n    return function() {\n      return source() * max + min;\n    };\n  }\n\n  randomUniform.source = sourceRandomUniform;\n\n  return randomUniform;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomInt(source) {\n  function randomInt(min, max) {\n    if (arguments.length < 2) max = min, min = 0;\n    min = Math.floor(min);\n    max = Math.floor(max) - min;\n    return function() {\n      return Math.floor(source() * max + min);\n    };\n  }\n\n  randomInt.source = sourceRandomInt;\n\n  return randomInt;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomNormal(source) {\n  function randomNormal(mu, sigma) {\n    var x, r;\n    mu = mu == null ? 0 : +mu;\n    sigma = sigma == null ? 1 : +sigma;\n    return function() {\n      var y;\n\n      // If available, use the second previously-generated uniform random.\n      if (x != null) y = x, x = null;\n\n      // Otherwise, generate a new x and y.\n      else do {\n        x = source() * 2 - 1;\n        y = source() * 2 - 1;\n        r = x * x + y * y;\n      } while (!r || r > 1);\n\n      return mu + sigma * y * Math.sqrt(-2 * Math.log(r) / r);\n    };\n  }\n\n  randomNormal.source = sourceRandomNormal;\n\n  return randomNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomLogNormal(source) {\n  var N = normal.source(source);\n\n  function randomLogNormal() {\n    var randomNormal = N.apply(this, arguments);\n    return function() {\n      return Math.exp(randomNormal());\n    };\n  }\n\n  randomLogNormal.source = sourceRandomLogNormal;\n\n  return randomLogNormal;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomIrwinHall(source) {\n  function randomIrwinHall(n) {\n    if ((n = +n) <= 0) return () => 0;\n    return function() {\n      for (var sum = 0, i = n; i > 1; --i) sum += source();\n      return sum + i * source();\n    };\n  }\n\n  randomIrwinHall.source = sourceRandomIrwinHall;\n\n  return randomIrwinHall;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport irwinHall from \"./irwinHall.js\";\n\nexport default (function sourceRandomBates(source) {\n  var I = irwinHall.source(source);\n\n  function randomBates(n) {\n    // use limiting distribution at n === 0\n    if ((n = +n) === 0) return source;\n    var randomIrwinHall = I(n);\n    return function() {\n      return randomIrwinHall() / n;\n    };\n  }\n\n  randomBates.source = sourceRandomBates;\n\n  return randomBates;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomExponential(source) {\n  function randomExponential(lambda) {\n    return function() {\n      return -Math.log1p(-source()) / lambda;\n    };\n  }\n\n  randomExponential.source = sourceRandomExponential;\n\n  return randomExponential;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomPareto(source) {\n  function randomPareto(alpha) {\n    if ((alpha = +alpha) < 0) throw new RangeError(\"invalid alpha\");\n    alpha = 1 / -alpha;\n    return function() {\n      return Math.pow(1 - source(), alpha);\n    };\n  }\n\n  randomPareto.source = sourceRandomPareto;\n\n  return randomPareto;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomBernoulli(source) {\n  function randomBernoulli(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    return function() {\n      return Math.floor(source() + p);\n    };\n  }\n\n  randomBernoulli.source = sourceRandomBernoulli;\n\n  return randomBernoulli;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomGeometric(source) {\n  function randomGeometric(p) {\n    if ((p = +p) < 0 || p > 1) throw new RangeError(\"invalid p\");\n    if (p === 0) return () => Infinity;\n    if (p === 1) return () => 1;\n    p = Math.log1p(-p);\n    return function() {\n      return 1 + Math.floor(Math.log1p(-source()) / p);\n    };\n  }\n\n  randomGeometric.source = sourceRandomGeometric;\n\n  return randomGeometric;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport normal from \"./normal.js\";\n\nexport default (function sourceRandomGamma(source) {\n  var randomNormal = normal.source(source)();\n\n  function randomGamma(k, theta) {\n    if ((k = +k) < 0) throw new RangeError(\"invalid k\");\n    // degenerate distribution if k === 0\n    if (k === 0) return () => 0;\n    theta = theta == null ? 1 : +theta;\n    // exponential distribution if k === 1\n    if (k === 1) return () => -Math.log1p(-source()) * theta;\n\n    var d = (k < 1 ? k + 1 : k) - 1 / 3,\n        c = 1 / (3 * Math.sqrt(d)),\n        multiplier = k < 1 ? () => Math.pow(source(), 1 / k) : () => 1;\n    return function() {\n      do {\n        do {\n          var x = randomNormal(),\n              v = 1 + c * x;\n        } while (v <= 0);\n        v *= v * v;\n        var u = 1 - source();\n      } while (u >= 1 - 0.0331 * x * x * x * x && Math.log(u) >= 0.5 * x * x + d * (1 - v + Math.log(v)));\n      return d * v * multiplier() * theta;\n    };\n  }\n\n  randomGamma.source = sourceRandomGamma;\n\n  return randomGamma;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomBeta(source) {\n  var G = gamma.source(source);\n\n  function randomBeta(alpha, beta) {\n    var X = G(alpha),\n        Y = G(beta);\n    return function() {\n      var x = X();\n      return x === 0 ? 0 : x / (x + Y());\n    };\n  }\n\n  randomBeta.source = sourceRandomBeta;\n\n  return randomBeta;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport beta from \"./beta.js\";\nimport geometric from \"./geometric.js\";\n\nexport default (function sourceRandomBinomial(source) {\n  var G = geometric.source(source),\n      B = beta.source(source);\n\n  function randomBinomial(n, p) {\n    n = +n;\n    if ((p = +p) >= 1) return () => n;\n    if (p <= 0) return () => 0;\n    return function() {\n      var acc = 0, nn = n, pp = p;\n      while (nn * pp > 16 && nn * (1 - pp) > 16) {\n        var i = Math.floor((nn + 1) * pp),\n            y = B(i, nn - i + 1)();\n        if (y <= pp) {\n          acc += i;\n          nn -= i;\n          pp = (pp - y) / (1 - y);\n        } else {\n          nn = i - 1;\n          pp /= y;\n        }\n      }\n      var sign = pp < 0.5,\n          pFinal = sign ? pp : 1 - pp,\n          g = G(pFinal);\n      for (var s = g(), k = 0; s <= nn; ++k) s += g();\n      return acc + (sign ? k : nn - k);\n    };\n  }\n\n  randomBinomial.source = sourceRandomBinomial;\n\n  return randomBinomial;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomWeibull(source) {\n  function randomWeibull(k, a, b) {\n    var outerFunc;\n    if ((k = +k) === 0) {\n      outerFunc = x => -Math.log(x);\n    } else {\n      k = 1 / k;\n      outerFunc = x => Math.pow(x, k);\n    }\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * outerFunc(-Math.log1p(-source()));\n    };\n  }\n\n  randomWeibull.source = sourceRandomWeibull;\n\n  return randomWeibull;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomCauchy(source) {\n  function randomCauchy(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      return a + b * Math.tan(Math.PI * source());\n    };\n  }\n\n  randomCauchy.source = sourceRandomCauchy;\n\n  return randomCauchy;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\n\nexport default (function sourceRandomLogistic(source) {\n  function randomLogistic(a, b) {\n    a = a == null ? 0 : +a;\n    b = b == null ? 1 : +b;\n    return function() {\n      var u = source();\n      return a + b * Math.log(u / (1 - u));\n    };\n  }\n\n  randomLogistic.source = sourceRandomLogistic;\n\n  return randomLogistic;\n})(defaultSource);\n","import defaultSource from \"./defaultSource.js\";\nimport binomial from \"./binomial.js\";\nimport gamma from \"./gamma.js\";\n\nexport default (function sourceRandomPoisson(source) {\n  var G = gamma.source(source),\n      B = binomial.source(source);\n\n  function randomPoisson(lambda) {\n    return function() {\n      var acc = 0, l = lambda;\n      while (l > 16) {\n        var n = Math.floor(0.875 * l),\n            t = G(n)();\n        if (t > l) return acc + B(n - 1, l / t)();\n        acc += n;\n        l -= t;\n      }\n      for (var s = -Math.log1p(-source()), k = 0; s <= l; ++k) s -= Math.log1p(-source());\n      return acc + k;\n    };\n  }\n\n  randomPoisson.source = sourceRandomPoisson;\n\n  return randomPoisson;\n})(defaultSource);\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst mul = 0x19660D;\nconst inc = 0x3C6EF35F;\nconst eps = 1 / 0x100000000;\n\nexport default function lcg(seed = Math.random()) {\n  let state = (0 <= seed && seed < 1 ? seed / eps : Math.abs(seed)) | 0;\n  return () => (state = mul * state + inc | 0, eps * (state >>> 0));\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","import continuous from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nfunction square(x) {\n  return Math.sign(x) * x * x;\n}\n\nfunction unsquare(x) {\n  return Math.sign(x) * Math.sqrt(Math.abs(x));\n}\n\nexport default function radial() {\n  var squared = continuous(),\n      range = [0, 1],\n      round = false,\n      unknown;\n\n  function scale(x) {\n    var y = unsquare(squared(x));\n    return isNaN(y) ? unknown : round ? Math.round(y) : y;\n  }\n\n  scale.invert = function(y) {\n    return squared.invert(square(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (squared.domain(_), scale) : squared.domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (squared.range((range = Array.from(_, number)).map(square)), scale) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return scale.range(_).round(true);\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, scale) : round;\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (squared.clamp(_), scale) : squared.clamp();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return radial(squared.domain(), range)\n        .round(round)\n        .clamp(squared.clamp())\n        .unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {linearish} from \"./linear.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, x0 = +x0, x1 = +x1, rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = Array.from(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n","import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import {ascending, bisect, quantile} from \"d3-array\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\n\nexport default function sequentialQuantile() {\n  var domain = [],\n      interpolator = identity;\n\n  function scale(x) {\n    if (x != null && !isNaN(x = +x)) return interpolator((bisect(domain, x, 1) - 1) / (domain.length - 1));\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return scale;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.range = function() {\n    return domain.map((d, i) => interpolator(i / (domain.length - 1)));\n  };\n\n  scale.quantiles = function(n) {\n    return Array.from({length: n + 1}, (_, i) => quantile(domain, i / n));\n  };\n\n  scale.copy = function() {\n    return sequentialQuantile(interpolator).domain(domain);\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n","import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import creator from \"./creator.js\";\nimport select from \"./select.js\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import pointer from \"./pointer.js\";\nimport sourceEvent from \"./sourceEvent.js\";\n\nexport default function(events, node) {\n  if (events.target) { // i.e., instanceof Event, not TouchList or iterable\n    events = sourceEvent(events);\n    if (node === undefined) node = events.currentTarget;\n    events = events.touches || [events];\n  }\n  return Array.from(events, event => pointer(event, node));\n}\n","import array from \"./array.js\";\nimport {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : array(selector)], root);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function(type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","class Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  t._restart = t.restart;\n  t.restart = function(callback, delay, time) {\n    delay = +delay, time = time == null ? now() : +time;\n    t._restart(function tick(elapsed) {\n      elapsed += total;\n      t._restart(tick, total += delay, time);\n      callback(elapsed);\n    }, delay, time);\n  }\n  t.restart(callback, delay, time);\n  return t;\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        currentTarget = event.currentTarget,\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n"],"names":["global","factory","exports","this","d3TimeFormat","d3Time","d3Format","d3Selection","d3Dispatch","d3Array","d3Scale","d3Interpolate","d3ScaleChromatic","d3Axis","d3Zoom","d3Brush","d3Timer","d3Shape","d3Geo","d3Ease","d3Hierarchy","d3","d3Collection","version","BadArgumentException","Error","constants","CHART_CLASS","DEBUG_GROUP_CLASS","STACK_CLASS","DESELECTED_CLASS","SELECTED_CLASS","NODE_INDEX_NAME","GROUP_INDEX_NAME","DEFAULT_CHART_GROUP","EVENT_DELAY","NEGLIGIBLE_NUMBER","Logger","constructor","enableDebugLog","_alreadyWarned","warn","msg","console","log","warnOnce","logger","debug","Config","_defaultColors","_schemeCategory20c","dateFormat","timeFormat","_renderlet","disableTransitions","defaultColors","colors","arguments","length","config","d3compat","eventHandler","handler","a","b","call","nester","key","sortKeys","sortValues","entries","pointer","ChartRegistry","_chartMap","_initializeChartGroup","group","has","chart","e","indexOf","register","push","deregister","i","anchorName","splice","clear","list","chartRegistry","registerChart","deregisterChart","hasChart","deregisterAllCharts","filterAll","charts","refocusAll","focus","renderAll","render","redrawAll","redraw","transition","selection","duration","delay","name","s","undefined","optionalTransition","enable","afterTransition","_transition","callback","empty","n","each","on","renderlet","_","instanceOfChart","o","Object","__dcFlag__","events","current","closure","setTimeout","filters","low","high","range","Array","isFiltered","value","filterType","filter","f","fromBottomLeft","Math","min","max","Infinity","x","y","path","slice","InvalidStateException","pluck","d","utils","Date","isFloat","printSingleValue","fformat","isInteger","round","format","_toTimeFunc","t","mappings","timeSecond","timeMinute","timeHour","timeDay","timeWeek","timeMonth","timeYear","add","l","r","replace","getTime","offset","percentage","subtract","isNumber","isNegligible","clamp","val","constant","_idCounter","findChild","children","nodeName","k","uniqueId","nameToId","toLowerCase","appendOrSelect","parent","selector","tag","element","select","append","safeNumber","arraysEqual","a1","a2","every","elem","valueOf","allChildren","node","paths","concat","toHierarchy","accessor","root","data","parts","currentNode","j","currentPath","childNode","getAncestors","unshift","arraysIdentical","printers","map","join","units","start","end","abs","fp","precision","_f","resolution","floor","ceil","_defaultFilterHandler","dimension","filterRange","filterFunction","filterExact","_defaultHasFilterHandler","some","_defaultRemoveFilterHandler","_defaultAddFilterHandler","_defaultResetFilterHandler","BaseMixin","_svgDescription","_keyboardAccessible","_dimension","_group","_anchor","_root","_svg","_isChild","_minWidth","_defaultWidthCalc","width","getBoundingClientRect","_widthCalc","_minHeight","_defaultHeightCalc","height","_heightCalc","_width","_height","_useViewBoxResizing","_keyAccessor","_valueAccessor","_label","_ordering","_renderLabel","_title","keyAccessor","valueAccessor","_renderTitle","_controlsUseVisibility","_transitionDuration","_transitionDelay","_filterPrinter","_mandatoryAttributesList","_chartGroup","_listeners","dispatch","_legend","_commitHandler","_defaultData","all","_data","_filters","_filterHandler","_hasFilterHandler","_removeFilterHandler","_addFilterHandler","_resetFilterHandler","minWidth","minHeight","useViewBoxResizing","expireCache","_groupName","ordering","orderFunction","_computeOrderedGroups","from","sort","ascending","sel","selectAll","anchor","chartGroup","classed","id","chartID","rootElement","svg","svgElement","resetSvg","remove","generateSvg","sizeSvg","attr","html","svgDescription","description","keyboardAccessible","filterPrinter","filterPrinterFunction","controlsUseVisibility","turnOnControls","attribute","style","text","turnOffControls","transitionDuration","transitionDelay","_mandatoryAttributes","checkForMandatoryAttributes","forEach","result","_doRender","_activateRenderlets","_makeKeyboardAccessible","onClickFunction","onClickArgs","tabElements","event","keyCode","preventDefault","_doRedraw","commitHandler","redrawGroup","error","renderGroup","_invokeFilteredListener","_invokeZoomedListener","hasFilterHandler","hasFilter","removeFilterHandler","addFilterHandler","resetFilterHandler","applyFilters","fs","replaceFilter","highlightSelected","fadeDeselected","resetHighlight","onClick","datum","trigger","filterHandler","legendables","legendHighlight","legendReset","legendToggle","isLegendableHidden","label","labelFunction","enableLabels","renderLabel","title","titleFunction","renderTitle","legend","options","opts","applyOptions","apply","listener","renderletFunction","baseMixin","ColorMixin","Base","super","_colors","scaleOrdinal","_colorAccessor","_colorCalculator","getColor","calculateColorDomain","newDomain","colorAccessor","domain","colorScale","scaleQuantize","ordinalColors","linearColors","scaleLinear","interpolate","interpolateHcl","colorDomain","colorCalculator","BubbleMixin","_maxBubbleRelativeSize","_minRadiusWithLabel","_sortBubbleSize","_elasticRadius","_excludeElasticZero","BUBBLE_NODE_CLASS","BUBBLE_CLASS","MIN_RADIUS","radiusAccessor","radiusValueAccessor","descending","_r","_rValueAccessor","bubbleRadiusScale","elasticRadius","calculateRadiusDomain","rMin","rMax","values","bubbleR","isNaN","_labelFunction","_shouldLabel","_labelOpacity","_labelPointerEvent","_doRenderLabel","bubbleGEnter","doUpdateLabels","labels","_titleFunction","_doRenderTitles","g","doUpdateTitles","sortBubbleSize","minRadius","radius","minRadiusWithLabel","maxBubbleRelativeSize","relativeSize","excludeElasticZero","excludeZero","fadeDeselectedArea","isSelectedNode","CapMixin","_cap","_takeFront","_othersLabel","_othersGrouper","topItems","restItems","restItemsSum","sum","restKeys","others","othersLabel","kv","rest","items","cappedKeyAccessor","cappedValueAccessor","cap","count","takeFront","othersGrouper","grouperFunction","MarginMixin","_margin","top","right","bottom","left","margins","effectiveWidth","effectiveHeight","GRID_LINE_CLASS","HORIZONTAL_CLASS","VERTICAL_CLASS","Y_AXIS_LABEL_CLASS","X_AXIS_LABEL_CLASS","CUSTOM_BRUSH_HANDLE_CLASS","DEFAULT_AXIS_LABEL_PADDING","CoordinateGridMixin","schemeCategory10","_parent","_g","_chartBodyG","_x","_origX","_xOriginalDomain","_xAxis","_xUnits","integers","_xAxisPadding","_xAxisPaddingUnit","_xElasticity","_xAxisLabel","_xAxisLabelPadding","_lastXDomain","_y","_yAxis","_yAxisPadding","_yElasticity","_yAxisLabel","_yAxisLabelPadding","_brush","brushX","_gBrush","_brushOn","_parentBrushOn","_round","_ignoreBrushEvents","_renderHorizontalGridLine","_renderVerticalGridLine","_resizing","_unitCount","_zoomScale","_zoomOutRestrict","_zoom","zoom","evt","_onZoom","_nullZoom","_hasBeenMouseZoomable","_ignoreZoomEvents","_rangeChart","_focusChart","_mouseZoomable","_clipPadding","_fOuterRangeBandPadding","_fRangeBandPadding","_useRightYAxis","_useTopXAxis","rescale","resizing","rangeChart","focusChart","zoomScale","extent","zoomOutRestrict","_generateG","href","window","location","split","_getClipPathId","gElement","mouseZoomable","chartBodyG","xScale","xOriginalDomain","xUnits","xAxis","_createXAxis","elasticX","xAxisPadding","padding","xAxisPaddingUnit","unit","xUnitCount","isOrdinal","useRightYAxis","useTopXAxis","ordinal","_useOuterPadding","_ordinalXDomain","groups","axisTop","axisBottom","_prepareXAxis","bandwidth","scaleBand","xAxisMin","xAxisMax","xdom","xAxisLength","paddingInner","paddingOuter","scale","_renderVerticalGridLines","renderXAxis","axisXG","_xAxisY","axisXLab","axisXLabY","xAxisLabel","gridLineG","insert","ticks","tickValues","tickArguments","lines","linesGEnter","enter","exit","labelText","_createYAxis","axisRight","axisLeft","_prepareYAxis","elasticY","_min","yAxisMin","_max","yAxisMax","rangeRound","yAxisHeight","_renderHorizontalGridLinesForAxis","renderYAxisLabel","axisClass","rotation","labelXPosition","axisYLab","labelYPosition","renderYAxisAt","axis","position","axisYG","renderYAxis","axisPosition","_yAxisX","labelPosition","yAxisLabel","yScale","yAxis","renderHorizontalGridLines","renderVerticalGridLines","m","yAxisPadding","_rangeBandPadding","_outerRangeBandPadding","redrawBrush","brush","renderBrush","doTransition","_brushing","setBrushExtents","createBrushHandlePaths","gBrush","brushHandles","type","merge","resizeHandlePath","extendBrush","brushSelection","brushIsEmpty","invert","rangedFilter","RangedFilter","applyBrushSelection","_withoutBrushEvents","oldValue","scaledSelection","move","clipPadding","_generateClipPath","defs","chartBodyClip","_preprocessData","_drawChart","_configureMouseZoom","plotData","copy","_enableMouseZoom","_disableMouseZoom","scaleExtent","zoomScaleMin","translateExtent","_updateD3zoomTransform","_zoomHandler","noRaiseEvents","domFilter","_hasRangeSelected","_domainToZoomTransform","origDomain","xt","zoomIdentity","translate","_withoutZoomEvents","transform","rescaleX","_checkExtents","ext","outerLimits","refocused","c","brushOn","parentBrushOn","d3Box","Number","whiskers","boxWhiskers","quartiles","boxQuartiles","tickFormat","renderDataPoints","dataRadius","dataOpacity","dataWidthPortion","showOutliers","boldOutlier","box","index","quartileData","whiskerIndices","whiskerData","_i","outlierIndices","pointIndices","x1","x0","__chart__","center","_box","medianLine","whisker","outlierClass","outlierSize","outlierX","random","outlier","point","boxTick","whiskerTick","timerFlush","quantile","StackMixin","_stackLayout","stack","_stack","_titles","_hidableStacks","_evadeDomainFilter","layers","_visibility","_prepareValues","v4data","v","col","layer","keys","v4result","stackLayout","series","ys","y0","y1","layerIdx","valAccessor","String","allValues","hidden","domainValues","_domainFilter","evadeDomainFilter","xDomain","p","hidableStacks","_findLayerByName","hideStack","stackName","showStack","getValueAccessorByIndex","_flattenStack","titleAccessor","flat","ordered","color","MIN_BAR_WIDTH","DEFAULT_GAP_BETWEEN_BARS","LABEL_PADDING","BarChart","_gap","_centerBar","_alwaysUseRounding","_barWidth","outerPadding","_calculateBarWidth","last","size","_renderBars","_renderLabels","_barHeight","_labelXPos","_labelYPos","layerIndex","labelsEnterUpdate","_barXPos","bars","barsEnterUpdate","numberOfBars","barPadding","centerBar","gap","alwaysUseRounding","colorFilter","inv","item","match","res","barChart","defaultWhiskersIQR","q1","q3","iqr","BoxPlot","_whiskerIqrFactor","_whiskersIqr","_whiskers","_tickFormat","_renderDataPoints","_dataOpacity","_dataWidthPortion","_showOutliers","_boldOutlier","_yRangePadding","_boxWidth","innerChartWidth","boxPadding","boxWidth","_boxTransform","xOffset","_calculatedBoxWidth","boxesG","boxesGEnterUpdate","_renderBoxes","_updateBoxes","_removeBoxes","boxesGEnter","_minDataValue","_maxDataValue","_yAxisRangeRatio","yRangePadding","show","opacity","boxPlot","BubbleChart","_bubbleLocator","_bubbleX","_bubbleY","bubbleG","order","_removeNodes","_renderNodes","_updateNodes","isFinite","bubbleChart","BUBBLE_OVERLAY_CLASS","BubbleOverlay","_points","_initOverlayG","_initializeBubbles","_mapData","nodeG","_getNodeG","circle","bubbleNodeClass","_updateBubbles","flag","debugG","debugText","bubbleOverlay","GROUP_CSS_CLASS","ITEM_CSS_CLASS","CboxMenu","_cbox","_promptText","_multiple","_inputType","_promptValue","_uniqueId","_filterDisplayed","_order","_renderOptions","property","_onChange","li","target","checked","nodes","option","onChange","promptText","filterDisplayed","multiple","promptValue","cboxMenu","SUB_CHART_CLASS","DEFAULT_RIGHT_Y_AXIS_LABEL_PADDING","CompositeChart","_children","_childOptions","_shareColors","_shareTitle","_alignYAxes","_rightYAxis","_rightYAxisLabel","_rightYAxisLabelPadding","_rightY","_rightAxisGridLines","child","_generateChildG","_leftYAxisChildren","_rightYAxisChildren","ranges","_calculateYAxisRanges","_prepareLeftYAxis","_prepareRightYAxis","rightYAxis","rightYAxisLabel","lyAxisMin","lyAxisMax","ryAxisMin","ryAxisMax","_yAxisMin","_yAxisMax","_rightYAxisMin","_rightYAxisMax","alignYAxes","_alignYAxisRanges","extentRatio","needDomain","rightY","needRange","useRightAxisGridLines","childOptions","compose","subChartArray","_setChildrenProperty","prop","shareColors","shareTitle","_getYAxisMin","_getYAxisMax","_getAllXAxisMinFromChildCharts","_getAllXAxisMaxFromChildCharts","reduce","compositeChart","DataCount","_formatNumber","_crossfilter","_groupAll","_html","formatNumber","formatter","tot","crossfilter","groupAll","selected","cf","dataCount","LABEL_CSS_CLASS","ITEM_CSS_CLASS$1","SECTION_CSS_CLASS","GRID_CSS_CLASS","DataGrid","_section","_size","JSON","stringify","_sortBy","_beginSlice","_endSlice","_htmlSection","_renderItems","_renderSections","sections","_nestEntries","itemSection","section","beginSlice","endSlice","htmlSection","htmlGroup","sortBy","sortByFunction","dataGrid","LABEL_CSS_CLASS$1","ROW_CSS_CLASS","COLUMN_CSS_CLASS","SECTION_CSS_CLASS$1","HEAD_CSS_CLASS","DataTable","_columns","_showSections","_renderRows","_doColumnValueFormat","_doColumnHeaderFormat","_doColumnHeaderFnToString","_doColumnHeaderCapitalize","charAt","toUpperCase","i1","i2","lastIndexOf","substring","i3","bAllFunctions","thead","headrow","headcols","rowSection","rows","rowEnter","columns","showSections","showGroups","dataTable","GeoChoroplethChart","_geoPath","geoPath","_projectionFlag","_projection","_geoJsons","states","regionG","_geoJson","_getGeoPath","_plotData","_generateLayeredData","_isDataLayer","_renderRegionG","_renderPaths","_renderTitles","_layerSelector","_isSelected","_isDeselected","layerNameClass","regionClass","baseClasses","_getKey","currentFill","selectedRegion","overlayGeoJson","json","projection","geoAlbersUsa","geoJsons","removeGeoJson","geoChoroplethChart","DEFAULT_BORDER_RADIUS","HeatMap","_chartBody","_cols","_rows","_colOrdering","_rowOrdering","_colScale","_rowScale","_xBorderRadius","_yBorderRadius","_colsLabel","_rowsLabel","_xAxisOnClick","_filterAxis","_yAxisOnClick","_boxOnClick","TwoDimensionalFilter","colsLabel","rowsLabel","cellsOnAxis","unfilteredCellsOnAxis","filtersList","nonstandardFilter","_filter","isArray","rowOrdering","cols","colOrdering","rowCount","colCount","boxHeight","boxes","gEnter","boxOnClick","gCols","gColsText","xAxisOnClick","gRows","gRowsText","yAxisOnClick","xBorderRadius","yBorderRadius","heatMap","HtmlLegend","_htmlLegendDivCssClass","_legendItemCssClassHorizontal","_legendItemCssClassVertical","_container","_legendText","_maxItems","_horizontal","_legendItemClass","_highlightSelected","_defaultLegendItemCssClass","container","legendItemClassName","itemEnter","_makeLegendKeyboardAccessible","legendItemClass","horizontal","legendText","maxItems","htmlLegend","LABEL_GAP","Legend","_itemHeight","_legendWidth","_itemWidth","_autoItemWidth","itemHeight","legendWidth","itemWidth","autoItemWidth","_legendItemHeight","self","clientHeight","cumulativeLegendTextWidth","row","getBBox","translateBy","DEFAULT_DOT_RADIUS","TOOLTIP_G_CLASS","DOT_CIRCLE_CLASS","Y_AXIS_REF_LINE_CLASS","X_AXIS_REF_LINE_CLASS","DEFAULT_DOT_OPACITY","LABEL_PADDING$1","LineChart","_renderArea","_dotRadius","_dataPointRadius","_dataPointFillOpacity","_dataPointStrokeOpacity","_curve","_interpolate","_tension","_defined","_dashStyle","_xyTipsOn","chartBody","layersList","layersEnter","_drawLine","_drawArea","_drawDots","_drawLabels","curve","tension","defined","dashStyle","renderArea","_getColor","_getCurveFactory","mapping","curveLinear","curveLinearClosed","curveStep","curveStepBefore","curveStepAfter","curveBasis","curveBasisOpen","curveBasisClosed","curveBundle","curveCardinal","curveCardinalOpen","curveCardinalClosed","curveMonotoneX","_line","line","_safeD","_area","area","xyTipsOn","tooltipListClass","tooltips","points","_createRefLines","dots","dotsEnterModify","_getDotRadius","dot","_showDot","_showRefLines","_hideDot","_hideRefLines","_doRenderTitle","labelsEnterModify","yRefLine","xRefLine","yAxisX","yAxisRefPathD","xAxisRefPathD","dotRadius","fillOpacity","strokeOpacity","_colorFilter","dashstyle","lineChart","SPAN_CLASS","NumberDisplay","one","none","_lastValue","_ariaLiveRegion","valObj","_maxBin","sorted","newValue","span","ease","easeQuad","tween","interpStart","interp","interpolateNumber","num","innerHTML","ariaLiveRegion","numberDisplay","DEFAULT_MIN_ANGLE_FOR_LABEL","PieChart","_sliceCssClass","_labelCssClass","_sliceGroupCssClass","_labelGroupCssClass","_emptyCssClass","_emptyTitle","_radius","_givenRadius","_innerRadius","_externalRadiusPadding","_cx","_cy","_minAngleForLabel","_externalLabelRadius","_drawPaths","slicesCap","cx","cy","maxRadius","arcs","_buildArcs","pieLayout","_pieLayout","pieData","slices","_removeElements","_createElements","_updateElements","_highlightFilter","slicesEnter","_createSliceNodes","_createSlicePath","_createTitles","_createLabels","slicePath","_fill","_onClick","_safeArc","tranNodes","attrTween","_tweenPie","_applyLabelText","_sliceHasNoData","_sliceTooSmall","_isSelectedSlice","_positionLabels","_labelPosition","_highlightSlice","whether","labelsEnter","classes","_updateLabelPaths","polyline","arc2","arc","outerRadius","innerRadius","_current","startAngle","endAngle","d2","centroid","_updateSlicePaths","_updateLabels","_updateTitles","slicePaths","externalRadiusPadding","minAngleForLabel","pie","angle","_isOffCanvas","_arc","emptyTitle","externalLabels","externalLabelRadius","drawPaths","legendable","_highlightSliceFromLegendable","highlighted","pieChart","RowChart","_labelOffsetX","_labelOffsetY","_hasLabelOffsetY","_dyOffset","_titleLabelOffsetX","_fixedBarHeight","_rowCssClass","_titleRowCssClass","_renderTitleLabel","_elasticX","_rowData","rowsCap","_calculateAxisScale","_extent","_drawAxis","axisG","_drawGridLines","_rootValue","rect","_isSelectedRow","_translateX","renderTitleLabel","lab","titlelab","fixedBarHeight","labelOffsetX","labelOffsetY","labelOffsety","titleLabelOffsetX","rowChart","ScatterPlot","_symbol","symbol","_existenceAccessor","originalKeyAccessor","existenceAccessor","_highlightedSize","_symbolSize","_excludedSize","_excludedColor","_excludedOpacity","_emptySize","_emptyOpacity","_nonemptyOpacity","_emptyColor","_filtered","_canvas","_context","_useCanvas","_elementSize","_canvasElementSize","sqrt","PI","pow","_locator","RangedTwoDimensionalFilter","svgSel","rootSel","svgLeft","parseInt","svgTop","devicePixelRatio","getContext","clip","imageSmoothingQuality","_resizeCanvas","useCanvas","canvas","canvasElement","context","_plotOnCanvas","legendHighlightDatum","clearRect","cOpacity","excludedOpacity","cColor","excludedColor","cSize","isHighlighted","fadeOutOpacity","save","globalAlpha","beginPath","fillStyle","fill","restore","_plotOnSVG","symbols","_d","customSymbol","symbolSize","highlightedSize","excludedSize","emptySize","hiddenSize","emptyColor","emptyOpacity","nonemptyOpacity","_resizeSymbolsWhere","condition","oldSize","coord","ranged2DFilter","scatterPlot","SELECT_CSS_CLASS","OPTION_CSS_CLASS","SelectMenu","_select","_numberVisible","_setAttributes","selectedOptions","prototype","numberVisible","selectMenu","SeriesChart","_keySort","_charts","_chartFunction","_seriesAccessor","_seriesSort","_valueSort","_compose","keep","childrenChanged","nesting","sub","subChart","_clearChart","_resetChildren","bind","chartFunction","seriesAccessor","seriesSort","sortFunction","valueSort","seriesChart","DEFAULT_MIN_ANGLE_FOR_LABEL$1","SunburstChart","_ringSizes","_extendedValueAccessor","_scaleRadius","ringIndex","customRelativeRadius","ringSizes","relativeRingSizes","scaleFactor","standardRadius","rootOffset","partitionedNodes","cdata","_partitionNodes","shift","sunburstData","depth","_tweenSlice","defaultRingSizes","partitionDy","scaleInnerRadius","scaleOuterRadius","relativeRingSizesFunction","equalRingSizes","ringCount","assertPortionsArray","relativeSizes","numberOfRings","portionsSum","_isPathFiltered","currentFilter","_filtersForPath","pathFilter","HierarchyFilter","getSortable","_hierarchy","hierarchy","_partition","partition","descendants","exactMatch","tweenTarget","assign","sunburstChart","INPUT_CSS_CLASS","TextFilterWidget","_normalize","_filterFunctionFactory","query","_placeHolder","_input","normalize","placeHolder","filterFunctionFactory","textFilterWidget","majorVer","callHandler","that","nest","mouse","majorVer$1","out","defineProperty","NaN","delta","compare","lo","hi","mid","ascendingComparator","numbers","valueof","ascendingBisect","bisector","bisectRight","bisectLeft","bisectCenter","number","array","arrayify","reducer","cross","pop","lengths","product","cumsum","Float64Array","variance","mean","deviation","Adder","_partials","_n","fsum","adder","fcumsum","InternMap","Map","keyof","defineProperties","_intern","_key","set","get","intern_get","intern_set","delete","intern_delete","InternSet","Set","identity","rollup","rollups","unique","indexes","regroup","source","F","Symbol","iterator","TypeError","Uint32Array","permute","groupSort","ak","av","bk","bv","e10","e5","e2","stop","reverse","step","tickIncrement","r0","r1","power","LN10","tickStep","step0","step1","nice","prestep","LN2","threshold","sturges","histogram","xz","tz","tn","bin","bins","bisect","thresholds","quickselect","z","exp","sd","newLeft","newRight","swap","i0","value0","subarray","value1","quantileSorted","maxIndex","flatten","arrays","minIndex","pairs","pairof","pair","previous","first","least","minValue","leastIndex","greatest","maxValue","greatestIndex","scan","shuffler","matrix","transpose","test","mapper","done","next","difference","other","disjoint","is","intersection","superset","subset","union","epsilon","translateX","translateY","entering","__axis","orient","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","tick","tickExit","tickEnter","getAttribute","parentNode","tickSize","noop","Dispatch","parseTypenames","typenames","types","trim","hasOwnProperty","typename","T","args","querySelector","_groups","subgroups","subnode","subgroup","__data__","Selection","_parents","querySelectorAll","arrayAll","selectorAll","parents","matches","childMatcher","find","childFind","childFirst","firstElementChild","childrenFilter","matcher","update","_enter","sparse","EnterNode","ownerDocument","namespaceURI","_next","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","enterGroup","updateGroup","exitGroup","_exit","onenter","onupdate","onexit","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","insertBefore","compareNode","sortgroups","sortgroup","appendChild","xhtml","xlink","xml","xmlns","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","namespace","getAttributeNS","defaultView","document","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","create","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","contextListener","onRemove","__on","removeEventListener","onAdd","addEventListener","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_selection","selection_select","selectChild","selectChildren","selection_filter","selection_merge","selection_sort","selection_empty","selection_text","selection_raise","selection_lower","selection_remove","selection_datum","selection_dispatch","nopropagation","stopImmediatePropagation","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","exec","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","toString","h","Hsl","hsl","hsl2rgb","m2","basis","t1","v0","v1","v2","v3","t2","t3","channels","displayable","linear","exponential","hue","gamma","nogamma","rgbGamma","rgbSpline","spline","rgbBasis","rgbBasisClosed","basisClosed","isNumberArray","ArrayBuffer","isView","DataView","numberArray","genericArray","nb","na","setTime","reA","reB","zero","am","bm","bs","bi","lastIndex","q","date","object","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","pageX","pageY","taskHead","taskTail","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","time","restart","wake","nap","poke","t0","sleep","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","state","init","schedule","active","interrupt","svgNode","degrees","rotate","skewX","scaleX","scaleY","atan2","atan","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","parseSvg","baseVal","consolidate","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","interpolateTransformSvg","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","easeVarying","Transition","_name","onFunction","on0","on1","sit","removeFunction","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","textInterpolate","textTween","id0","id1","newId","Promise","resolve","reject","cancel","selection_prototype","cubicIn","cubicOut","cubicInOut","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_textTween","transition_remove","transition_easeVarying","defaultTiming","selection_interrupt","selection_transition","BrushEvent","mode","enumerable","configurable","MODE_DRAG","MODE_SPACE","MODE_HANDLE","MODE_CENTER","number1","number2","X","handles","input","output","xy","Y","XY","cursors","overlay","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","defaultFilter","ctrlKey","button","defaultExtent","hasAttribute","viewBox","defaultTouchable","navigator","maxTouchPoints","__brush","dim","brushY","touchending","touchable","listeners","handleSize","initialize","handle","started","touchmoved","touchended","emitter","clean","emit","Emitter","touches","w0","w1","n0","n1","e0","e1","s0","s1","moving","lockX","lockY","metaKey","altKey","signX","signY","W","N","E","S","dx","dy","shifting","shiftKey","identifier","point0","pts","beforestart","moved","ended","keydowned","keyupped","changedTouches","cur","selection0","selection1","starting","keyModifiers","cos","sin","pi","halfPi","tau","compareValue","chordTranspose","chordDirected","directed","padAngle","sortGroups","sortSubgroups","sortChords","chord","groupSums","groupIndex","chords","subgroupIndex","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","x2","y2","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","a0","ccw","cw","da","defaultSource","defaultTarget","defaultRadius","defaultStartAngle","defaultEndAngle","defaultPadAngle","defaultArrowheadRadius","ribbon","headRadius","sourceRadius","targetRadius","buffer","ap","argv","sr","sa0","sa1","tr","ta0","ta1","hr","tr2","ta2","ribbonArrow","radians","K","Xn","Yn","Zn","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","A","B","C","D","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cosh","sinh","ring","hole","ringContains","xi","yi","pj","xj","yj","segmentContains","collinear","within","cases","smooth","smoothLinear","contours","contour","polygons","holes","isorings","polygon","coordinates","fragmentByStart","fragmentByEnd","stitch","startIndex","endIndex","yt","_0","_1","blurX","blurY","defaultX","defaultY","defaultWeight","weight","density","values0","Float32Array","values1","wi","geometry","transformPolygon","transformRing","transformPoint","resize","cellSize","EPSILON","EDGE_STACK","Delaunator","static","getX","defaultGetX","getY","defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","minDist","dist","i0x","i0y","i1x","i1y","circumradius","i2x","i2y","quicksort","hull","d0","triangles","halfedges","circumcenter","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","b0","al","p0","pr","pl","p1","illegal","inCircle","hbl","_link","br","ax","ay","bx","by","orientIfSure","px","py","rx","ry","qx","qy","sign","ex","ey","fx","fy","bp","cp","cl","ids","dists","temp","tempDist","median","arr","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","x3","y3","ab","inedges","ti","tj","_renderSegment","h0","h1","_project","renderBounds","renderCell","_clip","cell","cellPolygon","c0","_regioncode","c1","_clipSegment","_step","ci","neighbors","cj","loop","ai","aj","lj","_cell","V","_clipInfinite","_clipFinite","P","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","vx","vy","pointX","pointY","jitter","Delaunay","flatArray","flatIterable","_delaunator","_hullIndex","bounds","hypot","hullIndex","voronoi","dc","dt","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygon","DragEvent","subject","defaultContainer","defaultSubject","mousedownx","mousedowny","mousemoving","gestures","clickDistance2","drag","mousedowned","touchstarted","gesture","mousemoved","mouseupped","nodrag","touch","clickDistance","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","Function","customConverter","inferColumns","columnSet","column","pad","formatYear","year","formatDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","milliseconds","getUTCMilliseconds","getUTCFullYear","getUTCMonth","getUTCDate","delimiter","reFormat","DELIMITER","charCodeAt","convert","parseRows","I","eof","eol","token","preformatBody","formatValue","formatBody","formatRows","formatRow","csv","dsv","csvParse","csvParseRows","csvFormat","csvFormatBody","csvFormatRows","csvFormatRow","csvFormatValue","tsv","tsvParse","tsvParseRows","tsvFormat","tsvFormatBody","tsvFormatRows","tsvFormatRow","tsvFormatValue","autoType","fixtz","getHours","quadIn","quadOut","quadInOut","exponent","polyIn","custom","polyOut","polyInOut","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b1","b2","b3","b4","b5","b6","b7","b8","b9","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","responseBlob","response","ok","status","statusText","blob","fetch","then","responseArrayBuffer","arrayBuffer","responseText","dsvParse","image","Image","onerror","onload","src","responseJson","parser","DOMParser","parseFromString","strength","force","sx","sy","cover","tree","xm","ym","leaf","addAll","yz","visit","quads","retainer","removeAll","quadtree","Quadtree","leaf_copy","treeProto","radii","iterations","ri","ri2","visitAfter","prepare","quad","rj","jiggle","_nodes","_random","nodeById","nodeId","links","strengths","distances","bias","defaultStrength","distance","link","alpha","initializeStrength","initializeDistance","initialRadius","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","lcg","initializeNodes","initializeForce","randomSource","closest","distanceMin2","distanceMax2","theta2","accumulate","distanceMin","distanceMax","theta","radiuses","toLocaleString","formatDecimalParts","toExponential","coefficient","grouping","thousands","numerals","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","align","comma","toFixed","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","formatPrefix","prefixes","locale","formatGroup","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","defaultLocale","epsilon2","quarterPi","haversin","streamGeometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","streamLine","MultiLineString","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","phi0","lambda1","phi1","lambda2","deltaSum","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","equatorial","inflection","phii","lambdai","antimeridian","rangeCompare","rangeContains","feature","merged","deltaMax","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","rejoin","Intersection","entry","segments","compareIntersection","startInside","segment","pointEqual","isSubject","longitude","winding","sinPhi1","cosPhi1","point1","absDelta","phiArc","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointLine","ringSegments","validSegment","clipAntimeridianLine","clipAntimeridianInterpolate","sign0","sign1","clipAntimeridianIntersect","sinLambda0Lambda1","to","cr","smallRadius","notHemisphere","visible","v00","point2","code","intersect","two","pa","pb","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","meridian","lengthSum","clipMax","clipMin","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","activeStream","bufferStream","clipStream","polygonInside","cleanInside","cache","cacheStream","lengthStream","lengthLineStart","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","sinDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ao","bo","ringRadians","pointRadians","graticuleX","graticuleY","graticule","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","cy0","cy1","kx0","ky0","kx1","ky1","x00","y00","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","pointRadius","_point","lengthRing","PathString","_string","projectionStream","contextStream","measure","methods","transformer","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","_circle","maxDepth","cosMinDistance","project","delta2","resampleNone","resampleLineTo","phi2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","transformRadians","transformRotate","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","fi","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","preclip","postclip","recenter","resample","reset","clipAngle","reflectX","reflectY","conicProjection","parallels","cylindricalEqualAreaRaw","conicEqualAreaRaw","r0y","conicEqualArea","multiplex","streams","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","nx","A1","A2","A3","A4","M","equalEarthRaw","l2","l6","gnomonicRaw","sa","tx","ty","kx","ky","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","eachAfter","eachBefore","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","mapChildren","objectChildren","childs","Node","computeHeight","node_copy","copyData","circles","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r2","r21","r3","a3","c3","d1","place","intersects","score","packEnclose","aa","sj","sk","pack","enclose","optional","required","constantZero","radiusLeaf","packChildren","translateChild","positionNode","fpy","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","change","executeShifts","nextAncestor","vim","TreeNode","treeRoot","firstWalk","secondWalk","sizeNode","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","squarifyRatio","ratio","nodeValue","sumValue","newRatio","minRatio","beta","dice","squarify","tile","paddingStack","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","tanh","zoomRho","rho","rho2","rho4","ux0","uy0","ux1","uy1","coshr0","SQRT2","_2","_4","hslLong","hclLong","cubehelix","cubehelixGamma","cubehelixLong","piecewise","interpolator","samples","lexicographicOrder","computeUpperHullIndexes","sortedPoints","flippedPoints","upperIndexes","lowerIndexes","skipLeft","skipRight","inside","perimeter","sourceRandomUniform","randomUniform","sourceRandomInt","randomInt","sourceRandomNormal","randomNormal","mu","sigma","sourceRandomLogNormal","randomLogNormal","sourceRandomIrwinHall","randomIrwinHall","sourceRandomBates","irwinHall","randomBates","sourceRandomExponential","randomExponential","log1p","sourceRandomPareto","randomPareto","RangeError","sourceRandomBernoulli","randomBernoulli","sourceRandomGeometric","randomGeometric","sourceRandomGamma","randomGamma","multiplier","sourceRandomBeta","G","randomBeta","sourceRandomBinomial","geometric","randomBinomial","acc","nn","pp","pFinal","sourceRandomWeibull","randomWeibull","outerFunc","sourceRandomCauchy","randomCauchy","sourceRandomLogistic","randomLogistic","sourceRandomPoisson","binomial","randomPoisson","mul","inc","eps","seed","initRange","initInterpolator","implicit","unknown","band","ordinalRange","pointish","clamper","bimap","polymap","untransform","continuous","precisionPrefix","precisionRound","precisionFixed","linearish","maxIter","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","logp","log10","log2","reflect","loggish","logs","pows","transformSymlog","transformSymexp","expm1","symlogish","symlog","transformPow","transformSqrt","transformSquare","powish","square","unsquare","squared","invertExtent","quantiles","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","newInterval","floori","offseti","field","millisecond","second","getMilliseconds","minute","getSeconds","getMinutes","hour","day","setHours","setDate","getDate","getTimezoneOffset","days","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","month","setMonth","getMonth","getFullYear","months","setFullYear","years","utcMinute","setUTCSeconds","utcMinutes","utcHour","setUTCMinutes","utcHours","utcDay","setUTCHours","setUTCDate","utcDays","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcMonth","setUTCMonth","utcMonths","utcYear","setUTCFullYear","utcYears","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","timeTicks","timeTickInterval","localDate","H","L","utcDate","UTC","newDate","formatLocale","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","pads","newParse","Z","parseSpecifier","Q","U","utcFormat","utcParse","timeParse","numberRe","percentRe","requoteRe","requote","dISO","dow","UTCdISO","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","utcTime","k10","sequential","sequentialLog","sequentialSymlog","sequentialPow","sequentialSqrt","sequentialQuantile","k21","diverging","divergingLog","divergingSymlog","divergingPow","divergingSqrt","scheme","ramp","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","nextId","Local","arcInnerRadius","arcOuterRadius","arcStartAngle","arcEndAngle","arcPadAngle","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","cx0","cx1","dx0","dy0","dx1","dy1","cornerRadius","padRadius","a01","a11","a10","da0","da1","rp","rc0","rc1","oc","kc","lc","Linear","defined0","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","curveRadialLinear","curveRadial","Radial","radial","lineRadial","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","ka","kr","sqrt3","diamond","star","triangle","wye","Basis","BasisClosed","BasisOpen","_x2","_x3","_x4","_y2","_y3","_y4","Bump","bumpX","bumpY","Bundle","_basis","_beta","bundle","_k","Cardinal","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","Step","_t","stepBefore","stepAfter","stackValue","stackSeries","oz","sz","yn","s2","si","sij0","sij1","s3","skj0","skj1","peaks","peak","vi","vj","appearance","tops","bottoms","_t0","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","total","_restart","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleY","__zoom","SVGElement","clientWidth","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","touchstarting","touchfirst","constrain","wheelDelta","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","__zooming","Gesture","taps","wheel","wheelidled","k1","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","k0","translateTo"],"sourceRoot":""}